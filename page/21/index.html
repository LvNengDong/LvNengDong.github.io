<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/21/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/21/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/21/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">235</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/Jsp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/11/Jsp/" class="post-title-link" itemprop="url">Jsp</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-11 11:42:39" itemprop="dateCreated datePublished" datetime="2020-11-11T11:42:39+08:00">2020-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2020-11-16 17:54:00" itemprop="dateModified" datetime="2020-11-16T17:54:00+08:00">2020-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/JavaWeb/" itemprop="url" rel="index"><span itemprop="name">JavaWeb</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><h2 id="JSP概念"><a href="#JSP概念" class="headerlink" title="JSP概念"></a>JSP概念</h2><blockquote>
<p><strong>JSP</strong>：Java Server Pages，Java服务器端页面</p>
<ul>
<li>JSP是一个特殊的页面，其中既可以定义HTML标签，又可以定义Java代码</li>
</ul>
</blockquote>
<hr>
<h2 id="JSP执行原理"><a href="#JSP执行原理" class="headerlink" title="JSP执行原理"></a>JSP执行原理</h2><blockquote>
<p><strong>JSP本质上是一个Servlet</strong></p>
</blockquote>
<p><img src="/2020/11/11/Jsp/jsp%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%9B%BE.png"></p>
<blockquote>
<p>执行流程：</p>
<ol>
<li>客户端向服务器发送请求，访问<code>localhost:80/day16/index.jsp</code>资源。</li>
<li>服务器解析请求消息，查找是否存在<code>index.jsp</code>资源。</li>
<li>如果存在，服务器会先将<code>index.jsp</code>资源转换为<code>.java</code>文件。[转换成的<code>.java</code>文件内部结构和Servlet相同]</li>
<li>再将<code>.java</code>文件编译为二进制的<code>.class</code>文件。</li>
<li>最后服务器返回该二进制文件给客户端。</li>
</ol>
</blockquote>
<hr>
<h2 id="JSP脚本"><a href="#JSP脚本" class="headerlink" title="JSP脚本"></a>JSP脚本</h2><blockquote>
<p><strong>JSP的脚本</strong>：JSP内定义Java代码的方式（3种方式）</p>
</blockquote>
<ol>
<li><p>该脚本中定义的Java代码，转换为<code>.java</code>文件后在service方法中执行。service方法中可以定义什么，该脚本中就可以定义什么。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;% java代码 %&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>该脚本中定义的Java代码，转换为<code>.java</code>文件后充当Java类的成员变量/成员方法。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%! java代码 %&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>该脚本中定义的Java代码，会直接被输出到页面上，输出语句中可以定义什么，该脚本就可以定义什么</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%= java代码 %&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="JSP指令"><a href="#JSP指令" class="headerlink" title="JSP指令"></a>JSP指令</h2><ul>
<li>作用：</li>
</ul>
<blockquote>
<p><strong>JSP指令</strong>：用于配置JSP页面，导入资源文件</p>
</blockquote>
<ul>
<li>格式：</li>
</ul>
<blockquote>
<p><code>&lt;%@ 指令名称 属性名1=属性值1 属性名2=属性值2 ...%&gt;</code></p>
</blockquote>
<h3 id="JSP指令分类"><a href="#JSP指令分类" class="headerlink" title="JSP指令分类"></a>JSP指令分类</h3><h4 id="page"><a href="#page" class="headerlink" title="page"></a>page</h4><blockquote>
<p>page指令的作用：配置当前JSP页面。</p>
</blockquote>
<p><strong>page指令中常见的属性</strong>：</p>
<ul>
<li><code>contentType</code>：等同于<code>response.setContentType()</code></li>
</ul>
<blockquote>
<ol>
<li>设置响应体的mime类型以及字符集</li>
<li>设置当前jsp页面的编码（只能在高级的IDE才能生效，如果使用低级的开发工具，则需要通过pageEncoding属性设置当前页面的字符集）</li>
</ol>
</blockquote>
<ul>
<li><p><code>import</code>：导包。在jsp中书写Java代码时，用<code>import</code>导入Java代码需要的依赖。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span>%&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><code>errorPage</code>：当前页面发生异常后，会自动跳转到指定的错误页面</p>
</li>
<li><p><code>isErrorPage</code>：标识当前页面是否是错误页面。</p>
<blockquote>
<p><code>true</code>：是，可以使用内置对象exception</p>
<p><code>false</code>：否，默认值。不可以使用内置对象exception</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page errorPage=<span class="string">&quot;index.jsp&quot;</span> isErrorPage=<span class="string">&quot;true&quot;</span> %&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><code>language</code>：语言，目前只支持Java</p>
</li>
<li><p><code>buffer</code>：缓冲区的大小</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> pageEncoding=<span class="string">&quot;utf-8&quot;</span> language=<span class="string">&quot;java&quot;</span> buffer=<span class="string">&quot;8kb&quot;</span>%&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><ul>
<li><p><code>include</code>：导入外部的<code>.jsp页面</code>资源文件，<strong>实现页面复用</strong>。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在当前页面导入`top.jsp`页面 --&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;top.jsp&quot;</span>%&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="taglib"><a href="#taglib" class="headerlink" title="taglib"></a>taglib</h4><ul>
<li><p><code>taglib</code>：导入资源，一般是导入标签库</p>
<blockquote>
<ul>
<li><code>prefix</code>: 别名，为导入的资源定义一个唯一标识。</li>
<li><code>uri</code>:导入的jar包所在的位置</li>
</ul>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="JSP注释"><a href="#JSP注释" class="headerlink" title="JSP注释"></a>JSP注释</h2><h3 id="HTML注释"><a href="#HTML注释" class="headerlink" title="HTML注释"></a>HTML注释</h3><blockquote>
<ul>
<li>只能注释JSP页面中的HTML代码片段</li>
<li><code>&lt;!--HTML注释--&gt;</code></li>
</ul>
</blockquote>
<h3 id="JSP特有的注释：推荐使用"><a href="#JSP特有的注释：推荐使用" class="headerlink" title="JSP特有的注释：推荐使用"></a>JSP特有的注释：推荐使用</h3><blockquote>
<ul>
<li>可以注释JSP页面中的所有内容</li>
<li><code>&lt;%--JSP注释--%&gt;</code></li>
</ul>
</blockquote>
<h2 id="JSP内置对象"><a href="#JSP内置对象" class="headerlink" title="JSP内置对象"></a>JSP内置对象</h2><blockquote>
<p>在JSP页面中，不需要获取和创建，直接可以使用的对象</p>
</blockquote>
<p>JSP一共有9个内置对象</p>
<table>
<thead>
<tr>
<th align="center">变量名</th>
<th align="center">真实类型</th>
<th align="center">作用</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>pageContext</code></td>
<td align="center"><code>PageContext</code></td>
<td align="center">1.当前页面内共享数据  2.还可以获取其它8个内置对象</td>
<td align="center">域对象</td>
</tr>
<tr>
<td align="center"><code>request</code></td>
<td align="center"><code>HttpServletRequest</code></td>
<td align="center">一次请求访问的多个资源（转发）间共享数据</td>
<td align="center">域对象</td>
</tr>
<tr>
<td align="center"><code>session</code></td>
<td align="center"><code>HttpSession</code></td>
<td align="center">一次会话的多个请求间共享数据</td>
<td align="center">域对象</td>
</tr>
<tr>
<td align="center"><code>application</code></td>
<td align="center"><code>ServletContext</code></td>
<td align="center">所有用户间共享数据</td>
<td align="center">域对象</td>
</tr>
<tr>
<td align="center"><code>response</code></td>
<td align="center"><code>HttpServletResponse</code></td>
<td align="center">响应对象</td>
<td align="center">/</td>
</tr>
<tr>
<td align="center"><code>page</code></td>
<td align="center"><code>Object</code></td>
<td align="center">当前页面（Servlet）对象（==this）</td>
<td align="center">/</td>
</tr>
<tr>
<td align="center"><code>out</code></td>
<td align="center"><code>JspWriter</code></td>
<td align="center">输出对象，把数据输出到页面上</td>
<td align="center">/</td>
</tr>
<tr>
<td align="center"><code>config</code></td>
<td align="center"><code>ServletConfig</code></td>
<td align="center">Servlet的配置对象</td>
<td align="center">/</td>
</tr>
<tr>
<td align="center"><code>exception</code></td>
<td align="center"><code>Throwable</code></td>
<td align="center">异常对象</td>
<td align="center">/</td>
</tr>
</tbody></table>
<blockquote>
<p>Tip：真实类型的含义就是JSP转换为Servlet后的数据类型，最终会被响应给客户端。</p>
</blockquote>
<p><code>out</code>：字符输出流对象，可以将数据输出到页面上。和<code>response.getWriter()</code>类似.</p>
<blockquote>
<p><code>response.getWriter()</code>和<code>out.write()</code>的区别：</p>
<ul>
<li>在TomCat服务器给客户端作出响应之前，会先在<code>response</code>缓冲区查找数据，之后再到<code>out</code>缓冲区查找数据</li>
<li>所以，<code>response.getWriter()</code>数据输出永远在<code>out.write()</code>之前。</li>
</ul>
</blockquote>
<hr>
<h1 id="MVC开发模式"><a href="#MVC开发模式" class="headerlink" title="MVC开发模式"></a>MVC开发模式</h1><h2 id="MVC发展的几个阶段"><a href="#MVC发展的几个阶段" class="headerlink" title="MVC发展的几个阶段"></a>MVC发展的几个阶段</h2><blockquote>
<ol>
<li>第一阶段，服务器上只有Servlet程序，如果想要给客户端响应一些动态的页面（包含静态的HTML页面和程序获取的动态的数据），我们只能通过Response对象输出标签数据，非常麻烦。</li>
<li>第二阶段出现了JSP，可以在JSP页面中编写Java代码，简化了Servlet的开发。但是如果过度使用JSP，在开发大型项目时，会出现HTML标签与Java代码混合的开发程序难以阅读和维护。</li>
<li>第三阶段，前后端分离，JavaWeb开发借鉴了MVC开发模式，使得程序的设计更加合理。</li>
</ol>
</blockquote>
<h2 id="MVC开发模式-1"><a href="#MVC开发模式-1" class="headerlink" title="MVC开发模式"></a>MVC开发模式</h2><blockquote>
<ol>
<li><p>M（Model）</p>
<ul>
<li>完成具体的业务操作。如：查询数据库、封装对象等</li>
</ul>
</li>
<li><p>V（View）</p>
<ul>
<li>展示数据</li>
</ul>
</li>
<li><p>C（Controller）</p>
<ul>
<li>获取用户的输入</li>
<li>调用模型</li>
<li>将数据交给视图进行展示</li>
</ul>
</li>
</ol>
</blockquote>
<p><img src="/2020/11/11/Jsp/MVC%E6%A8%A1%E5%9E%8B.png"></p>
<p>执行流程：</p>
<blockquote>
<ol>
<li>首先，客户端向服务器发送请求<code>request</code>。</li>
<li>服务器收到<code>request</code>请求后，首先经过<code>控制器Controller</code>。</li>
<li>再由<code>控制器</code>转发转发到<code>Model</code>中，完成具体的业务逻辑。</li>
<li>Model把响应结果先返回给<code>控制器</code>，由<code>控制器</code>统一调度。</li>
<li><code>控制器</code>再把数据渲染到<code>视图（View）</code>上。</li>
<li>最后，<code>View</code>把数据发送给客户端，客户端浏览器解析数据并展示。</li>
</ol>
</blockquote>
<p>MVC开发模式的优缺点：</p>
<blockquote>
<p>优点：</p>
<ul>
<li>耦合性低、方便维护、利于分工协作</li>
<li>重用性高</li>
</ul>
<p>缺点：</p>
<ul>
<li>使项目的架构变得很复杂，对开发人员要求高、</li>
<li>开发成本高</li>
</ul>
</blockquote>
<hr>
<h1 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h1><blockquote>
<p><strong>EL</strong>（Expression Language）：表达式语言</p>
<p><strong>作用</strong>：替换和简化JSP页面中Java代码的编写，将Java代码执行的结果渲染到页面上。</p>
<p><strong>使用格式</strong>：<code>$&#123;表达式&#125;</code></p>
</blockquote>
<p><strong>Tip</strong>：JSP文件中默认支持EL表达式。如果要忽略el表达式：</p>
<ol>
<li>在JSP的page指令中设置<code>isELIgnored=&quot;true&quot;</code> 忽略当前JSP页面中所有的EL表达式</li>
<li><code>\$&#123;表达式&#125; </code>：忽略当前这个EL表达式</li>
</ol>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">如果在jsp文件中输入：</span><br><span class="line">$&#123;<span class="number">3</span>&gt;<span class="number">4</span>&#125;		</span><br><span class="line">就会在浏览器页面上返回<span class="literal">false</span>。</span><br><span class="line"></span><br><span class="line">如果想要屏蔽这种效果，有<span class="number">2</span>种方法：</span><br><span class="line"><span class="number">1.</span>在jsp的page指令中设置属性 isELIgnored为<span class="literal">true</span>。但是这种设置是全局设置</span><br><span class="line">	&lt;@ page isELIgnored=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line"><span class="number">2.</span>在EL表达式前面加上反斜杠。这种设置是局部设置。</span><br><span class="line">	\$&#123;<span class="number">3</span>&gt;<span class="number">4</span>&#125;   &lt;%--反斜杠可以或略EL表达式--%&gt;</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">算术运算符</td>
<td align="center"><code> + - * / div % mod</code></td>
</tr>
<tr>
<td align="center">比较运算符</td>
<td align="center"><code>&gt; &lt; == &gt;= &lt;= !=</code></td>
</tr>
<tr>
<td align="center">逻辑运算符</td>
<td align="center">`&amp;&amp;/and</td>
</tr>
<tr>
<td align="center">空运算符</td>
<td align="center"><code>empty</code></td>
</tr>
</tbody></table>
<blockquote>
<p><code>empty</code>用于判断字符串、集合、数组对象：</p>
<ul>
<li>是否为null，</li>
<li>或者长度是否为0</li>
</ul>
<p>格式：</p>
<ul>
<li><code>$&#123;empty list&#125;</code></li>
<li><code>$&#123;not empty list&#125;</code></li>
</ul>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;空运算符&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">	<span class="comment">// 添加字符串到request共享域</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    request.setAttribute(<span class="string">&quot;str1&quot;</span>,str1);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;str2&quot;</span>,str2);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;str3&quot;</span>,str3);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--EL表达式--%&gt;</span><br><span class="line">$&#123;empty str1&#125;&lt;br&gt;   &lt;%--<span class="literal">false</span>--%&gt;</span><br><span class="line">$&#123;empty str2&#125;&lt;br&gt;   &lt;%--<span class="literal">true</span>--%&gt;</span><br><span class="line">$&#123;empty str3&#125;&lt;br&gt;   &lt;%--<span class="literal">true</span>--%&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="获取值"><a href="#获取值" class="headerlink" title="获取值"></a>获取值</h3><blockquote>
<p><strong>EL表达式只能从域对象中获取值</strong></p>
</blockquote>
<h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><ol>
<li><code>$&#123;域名.键名&#125;</code>：从指定域中获取指定的键值对</li>
<li><code>$&#123;键名&#125;</code>：表示从小到大依次从共享域中查找是否有该键对应的值，直到找到为止。</li>
<li>获取对象、List集合、Map集合的值</li>
</ol>
<h5 id="域名-键名"><a href="#域名-键名" class="headerlink" title="${域名.键名}"></a>${域名.键名}</h5><blockquote>
<p>域名：</p>
<ol>
<li><p><code>pageScope  --&gt;&gt;  pageContext</code></p>
</li>
<li><p><code>requestScope  --&gt;&gt;  request</code></p>
</li>
<li><p><code>sessionScope  --&gt;&gt;  session</code></p>
</li>
<li><p><code>applicationScope  --&gt;&gt;  application(servletContext)</code></p>
</li>
</ol>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 如：在request域中储存了 name=zhangsan --&gt;</span><br><span class="line">&lt;!--获取：--&gt;</span><br><span class="line">$&#123;requestScope.name&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Tip</strong>：如果EL没有从域中获取到值，那么它什么都不会显示，不会打乱页面布局</p>
</blockquote>
<h5 id="域名-键名-XXX"><a href="#域名-键名-XXX" class="headerlink" title="${域名.键名.XXX}"></a>${域名.键名.XXX}</h5><ul>
<li><p>获取对象：<code>$&#123;域名.键名.属性名&#125;</code></p>
<ul>
<li>本质上会调用对象的 <code>getter()</code>方法</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 在域中储存数据（对象）</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setName(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    user.setAge(<span class="number">23</span>);</span><br><span class="line">    user.setBirthday(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line"></span><br><span class="line">    request.setAttribute(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;h3&gt;EL获取域中的值(对象)&lt;/h3&gt;</span><br><span class="line">    $&#123;requestScope.user&#125;&lt;br&gt;        &lt;%--获取的是地址值--%&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;%--</span><br><span class="line">        通过对象的属性来获取具体的值：</span><br><span class="line">          * setter/getter方法，去掉set/get,再将剩余部分首字母变为小写。</span><br><span class="line">          * setName --&gt;&gt; Name --&gt;&gt; name</span><br><span class="line">    --%&gt;</span><br><span class="line">    $&#123;requestScope.user.name&#125;&lt;br&gt;</span><br><span class="line">    $&#123;requestScope.user.age&#125;&lt;br&gt;</span><br><span class="line">    $&#123;requestScope.user.birthday&#125;&lt;br&gt;</span><br><span class="line">    $&#123;requestScope.user.birthday.month&#125;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%--自定义的getter方法(逻辑视图)--%&gt;</span><br><span class="line">    $&#123;requestScope.user.birStr&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 逻辑视图</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> 返回值是格式化之后的日期字符串</span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getBirStr</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (birthday != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">// 1.格式化日期对象</span></span><br><span class="line">            <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH：mm：ss&quot;</span>);</span><br><span class="line">            <span class="comment">// 2.返回字符串</span></span><br><span class="line">            <span class="keyword">return</span> sdf.format(birthday);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<hr>
</li>
<li><p>获取List集合：<code>$&#123;域名.键名[索引]&#125;</code></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 在域中存储List集合</span></span><br><span class="line">    <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    list.add(<span class="string">&quot;aaa&quot;</span>);	<span class="comment">// List中添加字符串</span></span><br><span class="line">    list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">    list.add(user);		<span class="comment">// List中添加对象</span></span><br><span class="line">    request.setAttribute(<span class="string">&quot;list&quot;</span>,list);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;h3&gt;EL获取域中的List集合&lt;/h3&gt;</span><br><span class="line">$&#123;requestScope.list[<span class="number">0</span>]&#125;&lt;br&gt;</span><br><span class="line">$&#123;requestScope.list[<span class="number">1</span>]&#125;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">$&#123;requestScope.list[<span class="number">10</span>]&#125;&lt;br&gt;	&lt;%--下标越界则浏览器什么都不会打印--%&gt;</span><br><span class="line"></span><br><span class="line">$&#123;requestScope.list[<span class="number">2</span>].name&#125;&lt;br&gt;	&lt;%--获取user对象中的属性--%&gt;</span><br><span class="line">$&#123;requestScope.list[<span class="number">2</span>].birthday&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>

<hr>
</li>
<li><p>获取Map集合：</p>
<ol>
<li><code>$&#123;域名.键名.key名称&#125;</code></li>
<li><code>$&#123;域名.键名[&quot;key名称&quot;]&#125;</code></li>
</ol>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%    </span><br><span class="line">    <span class="comment">// 在域中存储Map集合</span></span><br><span class="line">    <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">    map.put(<span class="string">&quot;id&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    map.put(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;user&quot;</span>,user);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;map&quot;</span>,map);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;h3&gt;EL获取域中的Map集合&lt;/h3&gt;</span><br><span class="line">$&#123;requestScope.map.id&#125;&lt;br&gt;</span><br><span class="line">$&#123;requestScope.map.gender&#125;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">$&#123;requestScope.map[<span class="string">&quot;gender&quot;</span>]&#125;&lt;br&gt;</span><br><span class="line">$&#123;requestScope.map[<span class="string">&quot;user&quot;</span>].name&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h2 id="隐式对象"><a href="#隐式对象" class="headerlink" title="隐式对象"></a>隐式对象</h2><blockquote>
<p>在EL表达式中，无需创建/获取，可以直接使用的对象。</p>
</blockquote>
<p>EL表达式中共有11个隐式对象：</p>
<blockquote>
<ul>
<li><code>pageContext</code>：获取JSP中的其它8个内置对象</li>
</ul>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;h4&gt;在JSP页面获取request对象&lt;/h4&gt;</span><br><span class="line">$&#123;pageContext.request&#125;</span><br><span class="line">&lt;h5&gt;在JSP页面动态获取工程路径&lt;/h5&gt;</span><br><span class="line">$&#123;pageContext.request.contextPath&#125;</span><br></pre></td></tr></table></figure>







<hr>
<h1 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h1><blockquote>
<p><strong>JSTL</strong>（Java Server Pages Tag Library）：JSP标准标签库</p>
<p><strong>作用</strong>：用于简化和替换JSP页面上的Java代码</p>
</blockquote>
<h2 id="使用步骤："><a href="#使用步骤：" class="headerlink" title="使用步骤："></a>使用步骤：</h2><blockquote>
<ol>
<li>导入JSTL相关的jar包</li>
<li>引入标签库：通过JSP的指令：<code>&lt;% taglib %&gt;</code></li>
<li>使用标签</li>
</ol>
</blockquote>
<h2 id="常用的JSTL标签"><a href="#常用的JSTL标签" class="headerlink" title="常用的JSTL标签"></a>常用的JSTL标签</h2><ol>
<li><p><code>if</code>：相当于Java中的if语句。</p>
<ul>
<li><p><code>&lt;c:if test=&quot;&quot;&gt;</code>标签：</p>
<blockquote>
<p>属性：</p>
<ol>
<li>test属性是必需属性。</li>
<li>该属性可以接收boolean类型的表达式：<ul>
<li>如果值为true，则显示标签体内容。</li>
<li>如果值为false，则不显示标签体内容</li>
</ul>
</li>
<li>一般情况下，test属性值会结合EL表达式一起使用。</li>
</ol>
<p>注意：</p>
<ul>
<li><code>&lt;c:if test=&quot;&quot;&gt;</code>标签没有else语句，如果需要使用else逻辑，则需要再定义一个新的 <code>&lt;c:if test=&quot;&quot;&gt;</code>标签</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">    &lt;h2&gt;test属性值为<span class="literal">true</span>：会显示&lt;/h2&gt;</span><br><span class="line">&lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;false&quot;</span>&gt;</span><br><span class="line">    &lt;h2&gt;test属性值为<span class="literal">false</span>：不会显示&lt;/h2&gt;</span><br><span class="line">&lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line">&lt;hr&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>案例：需求：判断request与中的一个list集合是否为空，如果不为空则遍历集合</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">List&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">request.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;not empty list&#125;&quot;</span>&gt;</span><br><span class="line">    $&#123;list[<span class="number">0</span>]&#125;&lt;br&gt;</span><br><span class="line">    $&#123;list[<span class="number">1</span>]&#125;&lt;br&gt;</span><br><span class="line">&lt;/c:<span class="keyword">if</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><code>choose...when...otherwise</code>：相当于Java中的switch语句。</p>
<blockquote>
<p>案例：</p>
<p>需求：完成数字编号对应星期几的案例</p>
<ol>
<li>共享域中存储一个数字编号</li>
<li>使用choose标签取出数字              相当于switch</li>
<li>使用<code>when</code>标签对数字进行判断           相当于case</li>
<li>使用<code>otherwise</code>标签做其它情况的声明     相当于default</li>
</ol>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;number&quot;</span>, <span class="number">3</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==1&#125;&quot;</span>&gt;星期<span class="number">1</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==2&#125;&quot;</span>&gt;星期<span class="number">2</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==3&#125;&quot;</span>&gt;星期<span class="number">3</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==4&#125;&quot;</span>&gt;星期<span class="number">4</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==5&#125;&quot;</span>&gt;星期<span class="number">5</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==6&#125;&quot;</span>&gt;星期<span class="number">6</span>&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;number==7&#125;&quot;</span>&gt;星期<span class="number">7</span>&lt;/c:when&gt;</span><br><span class="line"></span><br><span class="line">    &lt;c:otherwise&gt;数字有误，请重新输入！&lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><code>foreach</code> ：相当于Java中的for语句</p>
<blockquote>
<ol>
<li><p>完成重复的操作。</p>
<p>属性：</p>
<ol>
<li>begin：开始值</li>
<li>end：结束值</li>
<li>var：临时变量</li>
<li>step：步长</li>
<li>varStatus：循环状态对象<ul>
<li>属性：index：容器中元素的索引（从0开始）</li>
<li>属性：count：循环的次数（从1开始）</li>
</ul>
</li>
</ol>
</li>
<li><p>遍历容器</p>
<p>属性：</p>
<ol>
<li>items：容器对象</li>
<li>var：容器中元素的临时变量</li>
<li>varStatus：循环状态对象<ul>
<li>属性：index：容器中元素的索引（从0开始）</li>
<li>属性：count：循环的次数（从1开始）</li>
</ul>
</li>
</ol>
</li>
</ol>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">    循环打印<span class="number">1</span>~<span class="number">10</span></span><br><span class="line">--&gt;</span><br><span class="line">&lt;c:forEach begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;10&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;i&quot;</span> step=<span class="string">&quot;2&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">    $&#123;i&#125; $&#123;s.index&#125; $&#123;s.count&#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--</span><br><span class="line">    遍历List集合</span><br><span class="line">--&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">    list.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;list&quot;</span>, list);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach items=<span class="string">&quot;$&#123;list&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;one&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">    $&#123;s.count&#125; $&#123;s.index&#125; $&#123;one&#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="JSTL练习"><a href="#JSTL练习" class="headerlink" title="JSTL练习"></a>JSTL练习</h2><blockquote>
<p>需求：</p>
<ul>
<li>在request域中有一个存有User对象的List集合。</li>
<li>使用JSTL+EL将List集合中的数据展示到JSP页面的表格Table中。</li>
<li>隔行变色</li>
</ul>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 1.把User信息保存到request域中</span></span><br><span class="line">    ArrayList&lt;User&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">23</span>,<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line">    list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;李四&quot;</span>,<span class="number">24</span>,<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line">    list.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;王五&quot;</span>,<span class="number">25</span>,<span class="keyword">new</span> <span class="title class_">Date</span>()));</span><br><span class="line">    request.setAttribute(<span class="string">&quot;list&quot;</span>,list);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--    <span class="number">2.</span>把User信息输出到页面上 --&gt;</span><br><span class="line">&lt;table border=<span class="string">&quot;1px&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;th&gt;编号&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;年龄&lt;/th&gt;</span><br><span class="line">        &lt;th&gt;生日&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">        数据行，要求数据行是动态的，有多少User对象，就可以自自动生成多少行。</span><br><span class="line">          遍历列表：&lt;foreach&gt;标签</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;c:forEach items=<span class="string">&quot;$&#123;list&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;user&quot;</span> varStatus=<span class="string">&quot;s&quot;</span>&gt;</span><br><span class="line">        &lt;!--</span><br><span class="line">            <span class="number">3.</span>奇数行设为粉色，偶数行设为灰色</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;s.count%2!=0&#125;&quot;</span>&gt;</span><br><span class="line">            &lt;tr bgcolor=<span class="string">&quot;#ffc0cb&quot;</span>&gt;</span><br><span class="line">                &lt;td&gt;$&#123;s.count&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.name&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.age&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.birStr&#125;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;s.count%2==0&#125;&quot;</span>&gt;</span><br><span class="line">            &lt;tr bgcolor=<span class="string">&quot;gray&quot;</span>&gt;</span><br><span class="line">                &lt;td&gt;$&#123;s.count&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.name&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.age&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;user.birStr&#125;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/c:<span class="keyword">if</span>&gt;</span><br><span class="line">    &lt;/c:forEach&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
















      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/JQuery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/11/JQuery/" class="post-title-link" itemprop="url">JQuery</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-11 11:38:16" itemprop="dateCreated datePublished" datetime="2020-11-11T11:38:16+08:00">2020-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2020-11-16 17:41:58" itemprop="dateModified" datetime="2020-11-16T17:41:58+08:00">2020-11-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="JQuery框架"><a href="#JQuery框架" class="headerlink" title="JQuery框架"></a>JQuery框架</h1><p>JQuery是一个<strong>JavaScript框架</strong>，用于简化JS的开发。它的底层实现还是JavaScript，只不过封装了JavaScript常用的功能代码，提供一种简便的JS设计模式，优化HTML文档操作、事件处理、动画设计和Ajax交互。</p>
<blockquote>
<p>显然，JQuery代码也是JS代码的一种，所以应该写在<code>&lt;script&gt;</code>标签内。</p>
</blockquote>
<h1 id="JQuery快速入门"><a href="#JQuery快速入门" class="headerlink" title="JQuery快速入门"></a>JQuery快速入门</h1><p>目前JQuery有三个大版本：</p>
<blockquote>
<ul>
<li><code>1.x</code>：兼容ie678,使用最为广泛的，官方只做BUG维护，功能不再新增。因此一般项目来说，使用1.x版本就可以了。</li>
<li><code>2.x</code>：不兼容ie678，很少有人使用，官方只做BUG维护，功能不再新增。如果不考虑兼容低版本的浏览器可以使用2.x，。</li>
<li><code>3.x</code>：不兼容ie678，只支持最新的浏览器。除非特殊要求，一般不会使用3.x版本的，很多老的jQuery插件不支持这个版本。目前该版本是官方主要更新维护的版本。</li>
</ul>
</blockquote>
<p><code>jquery-xxx.js</code>与<code>jquery-xxx.min.js</code>的区别：</p>
<blockquote>
<ol>
<li><code>jquery-xxx.js</code>：开发版本。给程序员看的，有良好的缩进和注释。体积较大</li>
<li><code>jquery-xxx.min.js</code>：生产版本。程序中使用的，没有缩进。体积较小，加载速度更快。</li>
</ol>
</blockquote>
<h2 id="使用步骤："><a href="#使用步骤：" class="headerlink" title="使用步骤："></a>使用步骤：</h2><ol>
<li>下载JQuery</li>
<li>导入JQuery的依赖：导入min.js文件</li>
<li>使用</li>
</ol>
<hr>
<h1 id="JQuery语法"><a href="#JQuery语法" class="headerlink" title="JQuery语法"></a>JQuery语法</h1><h2 id="JQuery中对象的创建-获取"><a href="#JQuery中对象的创建-获取" class="headerlink" title="JQuery中对象的创建/获取"></a>JQuery中对象的创建/获取</h2><blockquote>
<p><code>JQuery</code>通过<code>$</code>获取对象。格式：<code>var div1 = $(&quot;#div1&quot;)</code></p>
<ul>
<li><code>$</code>本质上是一个函数的名称，该函数的返回值是一个<code>JQuery对象</code></li>
</ul>
</blockquote>
<h2 id="JQuery对象-vs-JS对象"><a href="#JQuery对象-vs-JS对象" class="headerlink" title="JQuery对象  vs.  JS对象"></a>JQuery对象  vs.  JS对象</h2><ol>
<li><p><code>JQuery</code>对象在操作时，一般情况下比<code>JS</code>对象更加方便。[框架的特点]</p>
</li>
<li><p><code>JQuery</code>对象和<code>JS</code>对象的方法是不通用的。[所以有时候需要<code>JQuery</code>对象和JS对象之间进行相互转换]</p>
</li>
<li><p><code>JQuery</code>对象和<code>JS</code>对象都可以当做数组处理</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>测试代码<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    // 1.获取JQuery对象</span><br><span class="line">    var div1 = $(&quot;#div1&quot;);</span><br><span class="line">    alert(div1)     // [object Object]</span><br><span class="line">    </span><br><span class="line">    // 2.获取JS对象</span><br><span class="line">    var div1 = document.getElementById(&quot;div1&quot;);</span><br><span class="line">    alert(div1)     // [object HTMLDivElement]</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;     虽然`JQuery`对象和`JS`对象的数据类型不同，但是都可以当做数组处理。即处理数组的方法在JQuery对象和JS对象中是通用的  </span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"> /*</span><br><span class="line">     js/XSYU.js文件夹下自定义JS框架</span><br><span class="line"> */</span><br><span class="line"> // 封装方法，根据id来获取元素对象</span><br><span class="line"> function $(id) &#123;</span><br><span class="line">     var obj = document.getElementById(id);</span><br><span class="line">     return obj;</span><br><span class="line"> &#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------------------------------------------</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">title</span>&gt;</span>01_自定义JS框架<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/XSYU.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>      <span class="comment">&lt;!--引入自定义的JS框架--&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>div1[JS直接调用]<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>div2[JS函数]<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div3&quot;</span>&gt;</span>div3[JS框架调用][类似于JQuery]<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">     <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">         <span class="comment">// 1.根据id获取元素对象</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;div1&quot;</span>);     <span class="comment">// 返回值是JS对象</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">let</span> div2 = <span class="title function_">get</span>(<span class="string">&quot;div2&quot;</span>);     <span class="comment">// 返回值是JS对象</span></span></span><br><span class="line"><span class="language-javascript">         </span></span><br><span class="line"><span class="language-javascript">         <span class="comment">// 自定义的JS框架保存在另一个文件，通过导入外部js文件使用[本质上就是引用一些已经封装好的外部函数]</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">let</span> div3 = $(<span class="string">&quot;div3&quot;</span>);  <span class="comment">// 调用$方法，返回一个JS对象</span></span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">         <span class="comment">// 2.获取标签体内容</span></span></span><br><span class="line"><span class="language-javascript">         <span class="title function_">alert</span>(div1.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript">         <span class="title function_">alert</span>(div2.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript">         <span class="title function_">alert</span>(div3.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">         <span class="comment">// 封装方法，根据id来获取元素对象</span></span></span><br><span class="line"><span class="language-javascript">         <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params">id</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">             <span class="keyword">var</span> obj = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id);  <span class="comment">// let声明局部变量，var声明全局变量</span></span></span><br><span class="line"><span class="language-javascript">             <span class="keyword">return</span> obj;</span></span><br><span class="line"><span class="language-javascript">         &#125;</span></span><br><span class="line"><span class="language-javascript">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="JQuery与JS对象之间的转换"><a href="#JQuery与JS对象之间的转换" class="headerlink" title="JQuery与JS对象之间的转换"></a>JQuery与JS对象之间的转换</h2><ol>
<li><p><code>JQuery</code> <code>--&gt;&gt;</code> <code>JS</code>:</p>
<blockquote>
<ul>
<li><code>JQuery对象[索引]</code>    或者</li>
<li><code>JQuery对象.get(索引)</code></li>
</ul>
<p>相当于：从JQuery数组中取出单个对象，每一个对象就是一个JS对象]</p>
</blockquote>
</li>
<li><p><code>JS</code>  <code>--&gt;&gt;</code> <code>JQuery</code></p>
<blockquote>
<ul>
<li><code>$(JS对象)</code></li>
</ul>
<p>只要把每个JS对象使用<code>$()</code>包装一下就是一个<code>JQuery</code>对象</p>
</blockquote>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>03_JQuery对象和JS对象的转换<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-3.3.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>div1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div2&quot;</span>&gt;</span>div2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.通过JS获取所有&lt;div&gt;标签的对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> divs = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">`div`</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(divs);    // 值的类型为：[object HTMLCollection]</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(divs.length);  </span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1.2设置所有的&lt;div&gt;标签中的值为：aaa</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; divs.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// divs[i].innerHTML = &quot;aaa&quot;;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2.3 将JS对象转换为JQuery对象[,并调用JQuery中的html()方法]</span></span></span><br><span class="line"><span class="language-javascript">            $(divs[i]).<span class="title function_">html</span>(<span class="string">&quot;ccc&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.通过JQuery获取所有&lt;div&gt;标签的对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> $divs = $(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert($divs)    // 值的类型为：[object Object]</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2.2 设置所有&lt;div&gt;标签的内容为：bbb</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// $divs.html(&quot;bbb&quot;)    // 整体设置，无需遍历</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// $divs.innerHTML(&quot;ccc&quot;)  // 无效，JS对象中的方法在JQuery中是不适用的</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 2.3 将JQuery对象转换为JS对象，并赋值</span></span></span><br><span class="line"><span class="language-javascript">        $divs[<span class="number">0</span>].<span class="property">innerHTML</span> = <span class="string">&quot;ddd&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        $divs.<span class="title function_">get</span>(<span class="number">1</span>).<span class="property">innerHTML</span> = <span class="string">&quot;eee&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            1.JS对象和JQuery对象虽然数据类型不同，但是都可以被看做是一个数组。可以进行数值的相关操作</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><h3 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h3><ol>
<li>JS中的事件绑定    <code>JS对象.事件名 = function()&#123;&#125;</code></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> obj = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;div&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">obj.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 方法体 </span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>JQuery中的事件绑定    <code>JQuery对象.事件名(函数)</code></li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> $div = $(<span class="string">&quot;#div1&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    $div.<span class="title function_">click</span>(</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> (<span class="params"></span>)&#123;<span class="comment">/*方法体*/</span>&#125;    <span class="comment">// click的参数是一个匿名函数</span></span></span><br><span class="line"><span class="language-javascript">    )</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="入口函数"><a href="#入口函数" class="headerlink" title="入口函数"></a>入口函数</h3><blockquote>
<p><strong>入口函数</strong>：不管入口函数位于什么位置（<code>&lt;body&gt;</code>标签之前还是之后），该函数都会在DOM文档加载完成之后再去执行。而不是按照顺序从上到下执行。</p>
</blockquote>
<ul>
<li>JS中的入口函数</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// JS中的入口函数</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">/*方法体*/</span> &#125;;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<ul>
<li><code>JQuery</code>中的入口函数</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>      </span><br><span class="line">	// JQuery中的入口函数</span><br><span class="line">	$(function () &#123; /*方法体*/ &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>JS入口函数 vs JQuery入口函数</strong>：</p>
<ol>
<li><p>JS中的入口函数在一个页面中只能定义一次。</p>
<p><code>window.onload = function()&#123;&#125;</code>。本质上是一个函数，当多次定义，出现同名的函数时，后面的函数会覆盖掉之前的函数。</p>
</li>
<li><p>JQuery中的<code>$(function()&#123;&#125;)</code>在一个页面中可以定义多次。</p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="CSS样式控制"><a href="#CSS样式控制" class="headerlink" title="CSS样式控制"></a>CSS样式控制</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3.样式控制【设置div1的背景色为红色】</span></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// $(&quot;#div1&quot;).css(&quot;backgroundColor&quot;,&quot;red&quot;);  // 或者</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#div1&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>04_事件绑定/入口函数/样式控制<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/jquery-3.3.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// JS中的入口函数</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.入口函数:DOM文档加载之后执行该函数中的代码[JQuery]</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 1.给button按钮添加单击事件[JQuery]</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#button&quot;</span>).<span class="title function_">click</span>(</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&quot;点尼玛呢&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 3.样式控制【设置div1的背景色为红色】</span></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// $(&quot;#div1&quot;).css(&quot;backgroundColor&quot;,&quot;red&quot;);</span></span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#div1&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background-color&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    1.事件绑定</span></span><br><span class="line"><span class="comment">    2.入口函数</span></span><br><span class="line"><span class="comment">    3.样式控制</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>Welcome<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点我&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><blockquote>
<p>筛选具有相似特征的元素（标签）。</p>
<ul>
<li><strong>选择器的本质是获得标签（元素）对象，不管通过什么方式，最终得到的返回值一定是一个标签对象，而不可能是标签中的属性、内容等。</strong></li>
</ul>
</blockquote>
<h3 id="选择器分类"><a href="#选择器分类" class="headerlink" title="选择器分类"></a>选择器分类</h3><h4 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">格式</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">标签选择器</td>
<td align="center"><code>$(&quot;html标签名&quot;)</code></td>
<td align="center">获取所有匹配标签名称的元素对象(们)</td>
</tr>
<tr>
<td align="center">id选择器</td>
<td align="center"><code>$(&quot;#id的属性值&quot;)</code></td>
<td align="center">获取与指定id的属性值匹配的元素对象</td>
</tr>
<tr>
<td align="center">类选择器</td>
<td align="center"><code>$(&quot;.class的属性值&quot;)</code></td>
<td align="center">获取与指定的class属性值相匹配的元素对象(们)</td>
</tr>
<tr>
<td align="center">并集选择器</td>
<td align="center"><code>$(&quot;选择器1,选择器2&quot;)</code></td>
<td align="center">获取多个选择器选中的所有元素</td>
</tr>
</tbody></table>
<h4 id="层级选择器"><a href="#层级选择器" class="headerlink" title="层级选择器"></a>层级选择器</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">格式</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">后代选择器</td>
<td align="center"><code>$(&quot;A B&quot;)</code></td>
<td align="center">选择A标签内部的所有B标签对象</td>
</tr>
<tr>
<td align="center">子选择器</td>
<td align="center"><code>$(&quot;A &gt; B&quot;)</code></td>
<td align="center">选择A标签内部的所有的直接B标签对象[直接后代（只包括儿子辈）]</td>
</tr>
</tbody></table>
<h4 id="属性选择器"><a href="#属性选择器" class="headerlink" title="属性选择器"></a>属性选择器</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">格式</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">属性名称选择器</td>
<td align="center"><code>$(&quot;A[属性名]&quot;)</code></td>
<td align="center">选择所有A标签中包含指定属性的标签(们)</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">属性选择器</td>
<td align="center"><code>$(&quot;A[属性名 = 值]&quot;)</code></td>
<td align="center">选择所有A标签中包含指定”属性名=值”的标签(们)</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>$(&quot;A[属性名 != 值]&quot;)</code></td>
<td align="center">不等于匹配</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>$(&quot;A[属性名 ^= 值]&quot;)</code></td>
<td align="center">开头匹配</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>$(&quot;A[属性名 &amp;= 值]&quot;)</code></td>
<td align="center">结尾匹配</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>$(&quot;A[属性名 *= 值]&quot;)</code></td>
<td align="center">包含匹配</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">复合属性选择器</td>
<td align="center"><code>$(&quot;A[属性名=值][]...&quot;)</code></td>
<td align="center">选择所有A标签中包含多个指定”属性名=值”的标签(们)</td>
</tr>
</tbody></table>
<h4 id="过滤选择器"><a href="#过滤选择器" class="headerlink" title="过滤选择器"></a>过滤选择器</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">格式</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">首元素选择器</td>
<td align="center"><code>xxx:fist</code></td>
<td align="center">获得选择元素中的第一个标签</td>
</tr>
<tr>
<td align="center">尾元素选择器</td>
<td align="center"><code>:last</code></td>
<td align="center">获得选择元素中的最后一个元素</td>
</tr>
<tr>
<td align="center">非元素选择器</td>
<td align="center"><code>:not(selector)</code></td>
<td align="center">获得选择元素中不包括指定元素(即selector)的内容</td>
</tr>
<tr>
<td align="center">奇数选择器</td>
<td align="center"><code>:odd 奇数</code></td>
<td align="center">获得选择元素中奇数个元素，从0开始计数</td>
</tr>
<tr>
<td align="center">偶数选择器</td>
<td align="center"><code>:even 偶数</code></td>
<td align="center">获得选择元素中偶数个元素，从0开始计数</td>
</tr>
<tr>
<td align="center">等于索引选择器</td>
<td align="center"><code>:eq(index)</code></td>
<td align="center">获得选择元素中第几个元素，指定索引元素</td>
</tr>
<tr>
<td align="center">大于索引选择器</td>
<td align="center"><code>:gt(index)</code></td>
<td align="center">获得选择元素中大于指定索引的所有元素</td>
</tr>
<tr>
<td align="center">小于索引选择器</td>
<td align="center"><code>:lt(index)</code></td>
<td align="center">获得选择元素中小于指定索引的所有元素</td>
</tr>
<tr>
<td align="center">标题选择器</td>
<td align="center"><code>:header</code></td>
<td align="center">获得标题元素(h1~h6)，固定写法</td>
</tr>
</tbody></table>
<h4 id="表单过滤选择器"><a href="#表单过滤选择器" class="headerlink" title="表单过滤选择器"></a>表单过滤选择器</h4><h4 id><a href="#" class="headerlink" title></a></h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">格式</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">可用元素过滤器</td>
<td align="center"><code>:enabled</code></td>
<td align="center">获得可用元素</td>
</tr>
<tr>
<td align="center">不可用元素过滤器</td>
<td align="center"><code>:disabled</code></td>
<td align="center">获得不可用元素</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">选中选择器</td>
<td align="center"><code>:checked</code></td>
<td align="center">获得单选/复选框选中的元素</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>:selescted</code></td>
<td align="center">获得下拉框中选中的元素</td>
</tr>
</tbody></table>
<hr>
<h2 id="DOM操作"><a href="#DOM操作" class="headerlink" title="DOM操作"></a>DOM操作</h2><h3 id="内容操作"><a href="#内容操作" class="headerlink" title="内容操作"></a>内容操作</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
<th align="center">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>html()</code></td>
<td align="center">获取/设置元素的标签体内容</td>
<td align="center"><code>&lt;a&gt;&lt;font&gt;内容&lt;/font&gt;&lt;/a&gt;  --&gt;&gt;  &lt;font&gt;内容&lt;/font&gt;</code></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>text()</code></td>
<td align="center">获取/设置元素的标签体纯文本内容</td>
<td align="center"><code>&lt;a&gt;&lt;font&gt;内容&lt;/font&gt;&lt;/a&gt;  --&gt;&gt;  内容</code></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>val()</code></td>
<td align="center">获取/设置元素的value属性值</td>
<td align="center"></td>
</tr>
</tbody></table>
<h3 id="属性操作"><a href="#属性操作" class="headerlink" title="属性操作"></a>属性操作</h3><h4 id="通用属性操作"><a href="#通用属性操作" class="headerlink" title="通用属性操作"></a>通用属性操作</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>attr()</code></td>
<td align="center">获取/设置标签元素中的属性</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>removeAttr()</code></td>
<td align="center">删除属性</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>prop()</code></td>
<td align="center">获取/设置标签元素中的属性</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>removeProp()</code></td>
<td align="center">删除属性</td>
</tr>
</tbody></table>
<blockquote>
<p><code>attr</code>和<code>prop</code>的区别？</p>
<ol>
<li>如果操作的是元素的固有属性（非自定义的属性），则建议使用<code>prop()</code></li>
<li>如果操作的是自定义的属性，则建议使用<code>attr()</code></li>
</ol>
</blockquote>
<h4 id="对class属性的操作"><a href="#对class属性的操作" class="headerlink" title="对class属性的操作"></a>对class属性的操作</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>addClass()</code></td>
<td align="center">添加class及属性值</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>removeClass()</code></td>
<td align="center">删除class及属性值</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>toggleClass()</code></td>
<td align="center">切换class及属性值。</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>css()</code></td>
<td align="center">css样式控制</td>
</tr>
</tbody></table>
<blockquote>
<p><code>toggleClass(&quot;one&quot;)</code>：</p>
<ol>
<li>如果元素对象中存在<code>class=one</code>，就删除该键值对</li>
<li>如果元素对象中不存在<code>class=one</code>，就添加该键值对 </li>
</ol>
</blockquote>
<h3 id="CRUD操作"><a href="#CRUD操作" class="headerlink" title="CRUD操作"></a>CRUD操作</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
<th align="center">举例</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>append()</code></td>
<td align="center">父元素将子元素追加到末尾</td>
<td align="center"><code>对象1.append(对象2)</code>，对象1将对象2追加到末尾</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>prepend()</code></td>
<td align="center">父元素将子元素添加到开头</td>
<td align="center"><code>对象1.prepend(对象2)</code>，对象1将对象2添加到开头</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>appendTo()</code></td>
<td align="center"></td>
<td align="center"><code>对象1.appendTo(对象2)</code>    将对象1追加到对象2末尾</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>prependTo()</code></td>
<td align="center"></td>
<td align="center"><code>对象1.prependTo(对象2)</code>，将对象1添加到对象2开头</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>after()</code></td>
<td align="center">添加新元素到当前元素后面</td>
<td align="center"><code>对象1.after(对象2)</code>，将对象2添加到对象1后面。<br>对象1和对象2是兄弟关系</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"><code>before()</code></td>
<td align="center">添加新元素到当前元素前面</td>
<td align="center"><code>对象1.before(对象2)</code>    将对象2添加到对象1前面。<br>对象1和对象2是兄弟关系</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"><code>insertAfter()</code></td>
<td align="center"></td>
<td align="center"><code>对象1.insertAfter(对象2)</code>，将对象2添加到对象1前面。<br>对象1和对象2是兄弟关系</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center"><code>insertBefore()</code></td>
<td align="center"></td>
<td align="center"><code>对象1.insertBefore(对象2)</code>，将对象2添加到对象1后边。<br>对象1和对象2是兄弟关系</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"><code>remove()</code></td>
<td align="center">移除元素</td>
<td align="center"><code>对象.remove()</code>，将对象删除掉</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"><code>empty()</code></td>
<td align="center">清空元素的所有子元素</td>
<td align="center"><code>对象.empty()</code>，将对象的后代元素全部清空。<br>但是保留当前对象以及其属性节点。</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center"><code>clone()</code></td>
<td align="center">克隆功能</td>
<td align="center"></td>
</tr>
</tbody></table>
<hr>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ul>
<li>三种方式显示和隐藏元素<ol>
<li>默认显示和隐藏方式<ul>
<li><code>show([speed], [easing], [fn])</code>    显示</li>
<li><code>hide([speed], [easing], [fn])</code>    隐藏</li>
<li><code>toggle([speed], [easing], [fn])</code>    切换</li>
</ul>
</li>
<li>滑动显示和隐藏方式<ul>
<li><code>slideDown([speed], [easing], [fn])</code></li>
<li><code>slideUp([speed], [easing], [fn])</code></li>
<li><code>slideToggle([speed], [easing], [fn])</code></li>
</ul>
</li>
<li>淡入淡出显示和隐藏方式<ul>
<li><code>fadeIn([speed], [easing], [fn])</code></li>
<li><code>fadeOut([speed], [easing], [fn])</code></li>
<li><code>fadeToggle([speed], [easing], [fn])</code></li>
</ul>
</li>
<li>参数：<ol>
<li><code>speed</code>    设定动画的速度。<ul>
<li>有3个预定义的值：<code>slow、normal、fast</code></li>
<li>或者自己设置动画时长的毫秒值（如：1000）</li>
</ul>
</li>
<li><code>easing</code>    用来指定动画的切换效果。<ul>
<li>默认是<code>swing</code>，可以调整为<code>linear</code></li>
<li><code>swing</code>    动画执行效果是  先慢–&gt;&gt;中间块–&gt;&gt;最后慢</li>
<li><code>linear</code>    动画执行效果是匀速的</li>
</ul>
</li>
<li><code>fn</code>    动画完成时执行的函数，每个元素执行一次。</li>
<li><code>speed</code>、<code>easing</code>和 <code>fn</code>都有缺省值，所以显示/隐藏元素的方法可以不传参    </li>
</ol>
</li>
</ol>
</li>
</ul>
<h2 id="遍历方式"><a href="#遍历方式" class="headerlink" title="遍历方式"></a>遍历方式</h2><ol>
<li>JS的遍历方式<ul>
<li><code>for(初始化值; 循环结束条件; 步长)</code></li>
</ul>
</li>
<li>JQuery的遍历方式<ol>
<li><code>JQuery对象.each(callback)</code><ul>
<li><code>callback</code>参数传递一个回调函数</li>
</ul>
</li>
<li><code>$.each(object,[callback])</code></li>
<li><code>for...of</code>  [JQuery3.0+版本提供的方式]</li>
</ol>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--JS的遍历方式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.获取所有ul下的li</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> citys = $(<span class="string">`ul &gt; li`</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.遍历li</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; citys.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// [JS方式,citys数组中的每一个元素都是JS对象，使用innerHTML方法]</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(i+<span class="string">&quot;:&quot;</span>+citys[i].<span class="property">innerHTML</span>);    </span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;city&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>天津<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>重庆<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--JQuery遍历方式1--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1.获取所有ul下的li</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> citys = $(<span class="string">`ul &gt; li`</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2.遍历：JQuery对象.each(callback)</span></span></span><br><span class="line"><span class="language-javascript">    citys.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;    <span class="comment">// each()方法获取到单个的JS对象</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// alert(this.innerHTML);  // 可以通过JS对象调用innerHTML属性</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>($(<span class="variable language_">this</span>).<span class="title function_">html</span>());  <span class="comment">// 也可以转换为JQuery对象调用html()方法</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--或者[回调函数中可以传递参数]--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.获取所有ul下的li</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> citys = $(<span class="string">`ul &gt; li`</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.遍历：JQuery对象.each(callback)</span></span></span><br><span class="line"><span class="language-javascript">        citys.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">index, element</span>) &#123;   <span class="comment">// 在回调函数中定义参数。 index：索引   Element：元素对象</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// alert(index+&quot;:&quot;+element.innerHTML);</span></span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// 3.判断如果是上海，则结束循环</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (<span class="string">&quot;上海&quot;</span>==$(element).<span class="title function_">html</span>())&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 如果当前函数的返回值false，则结束循环（break）</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// 如果当前函数的返回值是true，则结束本轮循环（continue）</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(index+<span class="string">&quot;:&quot;</span>+$(element).<span class="title function_">html</span>());</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--JQuery遍历方式2--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.获取所有ul下的li</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> citys = $(<span class="string">&quot;#city &gt; li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.遍历：`$.each(object,[callback])`</span></span></span><br><span class="line"><span class="language-javascript">        $.<span class="title function_">each</span>(citys, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>($(<span class="variable language_">this</span>).<span class="title function_">html</span>());</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--或者[回调函数中可以传递参数]--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 1.获取所有ul下的li</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> citys = $(<span class="string">&quot;#city &gt; li&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// 2.遍历：`for...of` [JQuery3.0+版本提供的方式]</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (city <span class="keyword">of</span> citys)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>($(city).<span class="title function_">html</span>());</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">alert</span>(city.<span class="property">innerHTML</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h2 id="事件绑定-1"><a href="#事件绑定-1" class="headerlink" title="事件绑定"></a>事件绑定</h2><ol>
<li><code>JQuery</code>标准绑定方式<ul>
<li><code>JQuery对象.事件名称([回调函数])</code></li>
</ul>
</li>
<li><code>on/off</code>：绑定事件/解除绑定<ul>
<li><code>JQuery对象.on(&quot;事件名称&quot;[, 回调函数])</code></li>
<li><code>JQuery对象.off(&quot;事件名称&quot;)</code></li>
</ul>
</li>
<li><code>toggle</code>：事件切换<ul>
<li><code>JQuery对象.toggle(&quot;回调函数1&quot;, &quot;回调函数2&quot;, ...)</code><ul>
<li>当单击JQuery`对象对应的组件后，会执行回调函数1，再次点击继续往下执行。执行到最后一个后，继续循环执行。</li>
</ul>
</li>
</ul>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--绑定事件标准写法--&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    $(function () &#123;</span><br><span class="line">        /*</span><br><span class="line">            $(&quot;#name&quot;).click(function () &#123;</span><br><span class="line">                alert(&quot;单击事件&quot;)</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            $(&quot;#name&quot;).mouseover(function () &#123;</span><br><span class="line">                alert(&quot;鼠标来了&quot;);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            $(&quot;#name&quot;).mouseout(function () &#123;</span><br><span class="line">                alert(&quot;鼠标走了&quot;);</span><br><span class="line">            &#125;);</span><br><span class="line">        */</span><br><span class="line"></span><br><span class="line">        // 简化操作:链式编程</span><br><span class="line">        /*</span><br><span class="line">            $(&quot;#name&quot;).mouseover(function () &#123;</span><br><span class="line">                alert(&quot;鼠标来了&quot;);</span><br><span class="line">            &#125;).mouseout(function () &#123;</span><br><span class="line">                alert(&quot;鼠标走了&quot;);</span><br><span class="line">            &#125;);</span><br><span class="line">         */</span><br><span class="line">        </span><br><span class="line">        //让文本输入框获得焦点。即使focus()方法中不传递任何回调函数，默认加载完成之后获得焦点</span><br><span class="line">        $(&quot;#name&quot;).focus();  </span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!--`on/off`：绑定事件/解除绑定--&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    $(function () &#123;</span><br><span class="line">        $(&quot;#btn&quot;).on(&quot;click&quot;,function () &#123;</span><br><span class="line">            alert(&quot;单击事件绑定&quot;)</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        $(&quot;#btn2&quot;).click(function () &#123;</span><br><span class="line">            // 1.解绑btn按钮的单击事件</span><br><span class="line">            // $(&quot;#btn&quot;).off(&quot;click&quot;);</span><br><span class="line">            // 2.解绑btn按钮上的所有事件</span><br><span class="line">            $(&quot;#btn&quot;).off();</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;input id=&quot;btn&quot; type=&quot;button&quot; value=&quot;使用on绑定点击事件&quot;&gt;</span><br><span class="line">    &lt;input id=&quot;btn2&quot; type=&quot;button&quot; value=&quot;使用off解绑点击事件&quot;&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script src=&quot;../js/jquery-3.3.1.min.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!--调用toggle方法需要导入的库[toggle方法需要额外导入类库]--&gt;</span><br><span class="line">&lt;script src=&quot;../js/jquery-migrate-1.0.0.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    $(function () &#123;</span><br><span class="line">        // 1.获取按钮，调用toggle方法[调用toggle方法需额外导入库]</span><br><span class="line">        $(&quot;#btn&quot;).toggle(function () &#123;</span><br><span class="line">            $(&quot;#myDiv&quot;).css(&quot;background&quot;,&quot;green&quot;);</span><br><span class="line">        &#125;,function () &#123;</span><br><span class="line">            $(&quot;#myDiv&quot;).css(&quot;background&quot;,&quot;pink&quot;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h2 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h2><h4 id="1-广告的自动显示和隐藏"><a href="#1-广告的自动显示和隐藏" class="headerlink" title="1.广告的自动显示和隐藏"></a>1.广告的自动显示和隐藏</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;广告的自动显示与隐藏&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #content&#123;width:100%;height:500px;background:#999&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;!--引入jquery--&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;../js/jquery-3.3.1.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        /*</span><br><span class="line">            需求：</span><br><span class="line">                1.当页面加载完3s后，自动显示广告</span><br><span class="line">                2.广告显示5s后，自动消失。</span><br><span class="line">            分析：</span><br><span class="line">                1.使用定时器来完成。 setTimeout（一次性定时器）</span><br><span class="line">                2.JQuery的显示和隐藏动画的效果其实就是调用动画中的show/hide方法</span><br><span class="line">                3.调用 show()/hide()方法来完成广告的显示</span><br><span class="line">        */</span><br><span class="line"></span><br><span class="line">        // 1.入口函数</span><br><span class="line">        $(function () &#123;</span><br><span class="line"></span><br><span class="line">            // 2.定义定时器，3s后执行adShow()方法，显示广告；再过5s执行adHide()方法，关闭广告</span><br><span class="line">            setTimeout(adShow, 3000);   // 此处调用方法不用加小括号</span><br><span class="line">            setTimeout(adHide, 8000);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        // 定义adShow()方法</span><br><span class="line">        function adShow() &#123;</span><br><span class="line">            $(&quot;#ad&quot;).show(&quot;slow&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        // 定义adHide()方法</span><br><span class="line">        function adHide() &#123;</span><br><span class="line">            $(&quot;#ad&quot;).hide(&quot;slow&quot;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- 整体的DIV --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 广告DIV --&gt;</span><br><span class="line">    &lt;div id=&quot;ad&quot; style=&quot;display: none;&quot;&gt;</span><br><span class="line">        &lt;img style=&quot;width:100%&quot; src=&quot;../img/adv.jpg&quot; /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 下方正文部分 --&gt;</span><br><span class="line">    &lt;div id=&quot;content&quot;&gt;</span><br><span class="line">        正文部分</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h4 id="2-抽奖案例"><a href="#2-抽奖案例" class="headerlink" title="2.抽奖案例"></a>2.抽奖案例</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;jquery案例之抽奖&lt;/title&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;../js/jquery-3.3.1.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        /*</span><br><span class="line">            需求：</span><br><span class="line">                小相框中存放着图片数组，点击开始按钮切换图片，点击停止按钮锁定图片。</span><br><span class="line">              并将小相框中的图片同步到大相框中。</span><br><span class="line">            分析：</span><br><span class="line">                1.给开始按钮绑定单击事件</span><br><span class="line">                  1&gt; 定义循环定时器</span><br><span class="line">                  2&gt; 切换小相框数组的src属性</span><br><span class="line">                     * 定义数组，存放图片资源路径</span><br><span class="line">                     * 生成随机数，作为数组的索引</span><br><span class="line"></span><br><span class="line">                2.给停止按钮绑定单击事件</span><br><span class="line">                  1&gt; 停止定时器</span><br><span class="line">                  2&gt; 将小相框的src属性同步到大相框中去</span><br><span class="line">        */</span><br><span class="line"></span><br><span class="line">        $(function () &#123;</span><br><span class="line"></span><br><span class="line">            let index;</span><br><span class="line">            let startId;</span><br><span class="line">            // 3. 最初开始的时候，停止按钮被禁用，开始按钮被启用</span><br><span class="line">            $(&#x27;#startID&#x27;).prop(&quot;disabled&quot;, false);</span><br><span class="line">            $(&#x27;#stopID&#x27;).prop(&quot;disabled&quot;, true);</span><br><span class="line"></span><br><span class="line">            // 1.给开始按钮绑定单击事件</span><br><span class="line">            $(&quot;#startID&quot;).click(function () &#123;</span><br><span class="line"></span><br><span class="line">                // 1&gt; 定义循环定时器.20ms执行一次</span><br><span class="line">                startId = setInterval(function () &#123;</span><br><span class="line">                    // 3&gt; 当点击开始按钮后，停止按钮被启用，开始按钮被禁用</span><br><span class="line">                    $(&#x27;#startID&#x27;).prop(&quot;disabled&quot;, true);</span><br><span class="line">                    $(&#x27;#stopID&#x27;).prop(&quot;disabled&quot;, false);</span><br><span class="line">                // 2&gt; 切换小相框数组的src属性</span><br><span class="line"></span><br><span class="line">                    // 生成随机数0~6，作为数组的索引</span><br><span class="line">                    index = Math.floor(Math.random()*7);</span><br><span class="line">                    // Math.floor(x) 方法返回小于等于x的最大整数。如果传递的参数是一个整数，该值不变。</span><br><span class="line"></span><br><span class="line">                    // 设置小相框的src属性</span><br><span class="line">                    $(&quot;#img1ID&quot;).prop(&quot;src&quot;, imgs[index])</span><br><span class="line">                &#125;, 20);</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            // 2.给停止按钮绑定单击事件</span><br><span class="line">            $(&quot;#stopID&quot;).click(function () &#123;</span><br><span class="line">                // 3&gt; 当点击停止按钮后，停止按钮被禁用，开始按钮被启用</span><br><span class="line">                $(&#x27;#startID&#x27;).prop(&quot;disabled&quot;, false);</span><br><span class="line">                $(&#x27;#stopID&#x27;).prop(&quot;disabled&quot;, true);</span><br><span class="line"></span><br><span class="line">                // 1&gt; 停止计时器</span><br><span class="line">                clearInterval(startId);</span><br><span class="line">                // 2&gt; 给大相框同步src属性</span><br><span class="line">                $(&quot;#img2ID&quot;).prop(&quot;src&quot;, imgs[index]);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 小像框 --&gt;</span><br><span class="line">&lt;div style=&quot;border-style:dotted;width:160px;height:100px&quot;&gt;</span><br><span class="line">    &lt;img id=&quot;img1ID&quot; src=&quot;../img/man00.jpg&quot; style=&quot;width:160px;height:100px&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 大像框 --&gt;</span><br><span class="line">&lt;div</span><br><span class="line">        style=&quot;border-style:double;width:800px;height:500px;position:absolute;left:500px;top:10px&quot;&gt;</span><br><span class="line">    &lt;img id=&quot;img2ID&quot; src=&quot;../img/man00.jpg&quot; width=&quot;800px&quot; height=&quot;500px&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 开始按钮 --&gt;</span><br><span class="line">&lt;input</span><br><span class="line">        id=&quot;startID&quot;</span><br><span class="line">        type=&quot;button&quot;</span><br><span class="line">        value=&quot;点击开始&quot;</span><br><span class="line">        style=&quot;width:150px;height:150px;font-size:22px&quot;</span><br><span class="line">        onclick=&quot;imgStart()&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 停止按钮 --&gt;</span><br><span class="line">&lt;input</span><br><span class="line">        id=&quot;stopID&quot;</span><br><span class="line">        type=&quot;button&quot;</span><br><span class="line">        value=&quot;点击停止&quot;</span><br><span class="line">        style=&quot;width:150px;height:150px;font-size:22px&quot;</span><br><span class="line">        onclick=&quot;imgStop()&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script language=&#x27;javascript&#x27; type=&#x27;text/javascript&#x27;&gt;</span><br><span class="line">    //准备一个一维数组，装用户的像片路径</span><br><span class="line">    var imgs = [</span><br><span class="line">        &quot;../img/man00.jpg&quot;,</span><br><span class="line">        &quot;../img/man01.jpg&quot;,</span><br><span class="line">        &quot;../img/man02.jpg&quot;,</span><br><span class="line">        &quot;../img/man03.jpg&quot;,</span><br><span class="line">        &quot;../img/man04.jpg&quot;,</span><br><span class="line">        &quot;../img/man05.jpg&quot;,</span><br><span class="line">        &quot;../img/man06.jpg&quot;</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>





<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ul>
<li><p>作用：增强JQuery的功能。</p>
<ol>
<li>增强JQuery对象本身的功能<code>[通过JQuery本身$使用]</code></li>
<li>增强(额外添加)通过JQuery获取的对象的功能<code>[通过JQuery对象使用]</code></li>
</ol>
</li>
<li><p>实现方式：</p>
<ol>
<li><code>$.fn.extend(object)</code><ul>
<li>增强(额外添加)通过JQuery获取的对象的功能</li>
</ul>
</li>
<li><code>$.extend(object)</code><ul>
<li>增强JQuery对象本身的功能。</li>
</ul>
</li>
</ol>
</li>
<li><p>代码：</p>
<ol>
<li><p><code>$.fn.extend(object)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;01-jQuery对象进行方法扩展&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;../js/jquery-3.3.1.min.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        /*</span><br><span class="line">            使用JQuery插件，给JQuery对象增加2个方法：</span><br><span class="line">                1. check()      选中所有复选框</span><br><span class="line">                2. uncheck()    取消选中的所有复选框</span><br><span class="line">        */</span><br><span class="line"></span><br><span class="line">        // 1.定义JQuery的对象插件</span><br><span class="line">        $.fn.extend(&#123;</span><br><span class="line">            // 2.定义一个check()/uncheck()方法，所有的JQuery对象都可以调用该方法</span><br><span class="line">            check:function () &#123;</span><br><span class="line">                // 选中复选框[所有调用该方法的对象的复选框都会被选中]</span><br><span class="line">                this.prop(&quot;checked&quot;, true);</span><br><span class="line">            &#125;,</span><br><span class="line">            uncheck:function () &#123;</span><br><span class="line">                // 选中复选框[所有调用该方法的对象的复选框都会不会被选中]</span><br><span class="line">                this.prop(&quot;checked&quot;, false);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        $(function () &#123;</span><br><span class="line">            // 3.试验定义的JQuery插件</span><br><span class="line">            $(&quot;#btn-check&quot;).click(function () &#123;</span><br><span class="line">                $(&quot;input[type=&#x27;checkbox&#x27;]&quot;).check()</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            $(&quot;#btn-uncheck&quot;).click(function () &#123;</span><br><span class="line">                $(&quot;input[type=&#x27;checkbox&#x27;]&quot;).uncheck()</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;input id=&quot;btn-check&quot; type=&quot;button&quot; value=&quot;点击选中复选框&quot; onclick=&quot;checkFn()&quot;&gt;</span><br><span class="line">&lt;input id=&quot;btn-uncheck&quot; type=&quot;button&quot; value=&quot;点击取消复选框选中&quot; onclick=&quot;uncheckFn()&quot;&gt;</span><br><span class="line">&lt;br/&gt;</span><br><span class="line">&lt;input type=&quot;checkbox&quot; value=&quot;football&quot;&gt;足球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; value=&quot;basketball&quot;&gt;篮球</span><br><span class="line">&lt;input type=&quot;checkbox&quot; value=&quot;volleyball&quot;&gt;排球</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li><p><code>$.extend(object)</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;01-jQuery对象进行方法扩展&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;../js/jquery-3.3.1.min.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">            需求：</span><br><span class="line">                对全局方法扩展2个方法，</span><br><span class="line">                  * 扩展min方法：求2个值的最小值；</span><br><span class="line">                  * 扩展max方法：求2个值最大值</span><br><span class="line">         */</span><br><span class="line"></span><br><span class="line">        // 1.定义全局方法</span><br><span class="line">        $.extend(&#123;</span><br><span class="line">           max:function (a, b) &#123;</span><br><span class="line">                return a&gt;= b? a: b;</span><br><span class="line">           &#125;,</span><br><span class="line">            min:function (a, b) &#123;</span><br><span class="line">                return a&lt;= b? a: b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        // 2.调用全局方法</span><br><span class="line">        $(function () &#123;</span><br><span class="line"></span><br><span class="line">            let max = $.max(5,9);</span><br><span class="line">            alert(max);</span><br><span class="line"></span><br><span class="line">            let min = $.min(46,3);</span><br><span class="line">            alert(min)</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/CSS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/11/CSS/" class="post-title-link" itemprop="url">CSS</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-11 11:37:58" itemprop="dateCreated datePublished" datetime="2020-11-11T11:37:58+08:00">2020-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-03-12 22:05:47" itemprop="dateModified" datetime="2021-03-12T22:05:47+08:00">2021-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2020/11/11/CSS/CSS.png"></p>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><ul>
<li><p>CSS( Cascading Style Sheets) ：层叠样式表</p>
<blockquote>
<p>作用：页面美化和布局控制</p>
<p>层叠：多个样式可以作用在同一个html上，同时生效。</p>
</blockquote>
</li>
<li><p><strong>好处</strong>：</p>
<blockquote>
<p><strong>将内容和样式控制分离</strong>。</p>
<ul>
<li>降低耦合度</li>
<li>提高代码的复用率，提高开发效率</li>
<li>让分工协作更加容易</li>
</ul>
</blockquote>
</li>
</ul>
<h1 id="CSS的使用（CSS与HTML结合）"><a href="#CSS的使用（CSS与HTML结合）" class="headerlink" title="CSS的使用（CSS与HTML结合）"></a>CSS的使用（CSS与HTML结合）</h1><h2 id="内联样式"><a href="#内联样式" class="headerlink" title="内联样式"></a>内联样式</h2><blockquote>
<p>在标签内使用<code>style</code>属性定义css代码。</p>
<p>格式：<code>&lt;div style=&quot;CSS代码&quot;&gt;</code></p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> style=&quot;<span class="attribute">color</span>:red;&quot;&gt;hello css&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure>



<h2 id="内部样式"><a href="#内部样式" class="headerlink" title="内部样式"></a>内部样式</h2><blockquote>
<p>在<code>&lt;head&gt;</code>标签内，定义<code>&lt;style&gt;</code>标签，<code>&lt;style&gt;</code>标签的标签体内容就是css代码。</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;style&gt;</span><br><span class="line">		<span class="selector-tag">div</span>&#123;</span><br><span class="line">    		<span class="attribute">color</span>:blue;</span><br><span class="line">		&#125;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">	&lt;<span class="selector-tag">div</span>&gt;hello css&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">body</span>&gt;</span><br></pre></td></tr></table></figure>



<h2 id="外部样式"><a href="#外部样式" class="headerlink" title="外部样式"></a>外部样式</h2><blockquote>
<ol>
<li>定义css资源文件。</li>
<li>在<code>&lt;head&gt;</code>标签内，定义<code>&lt;link&gt;</code>标签，引入外部的资源文件</li>
</ol>
</blockquote>
<ol>
<li><p>定义css资源文件：<code>demo.css</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>引入外部资源文件</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;link href=&quot;../demo<span class="selector-class">.css</span>&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">body</span>&gt;</span><br><span class="line">	&lt;<span class="selector-tag">div</span>&gt;hello css&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">body</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>引入外部资源——方式2</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	<span class="keyword">@import</span> <span class="string">&quot;../demo.css&quot;</span>;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="CSS语法"><a href="#CSS语法" class="headerlink" title="CSS语法"></a>CSS语法</h1><h2 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">选择器&#123;</span><br><span class="line">    key1: value1;</span><br><span class="line">    key2: value2;</span><br><span class="line">    key3: value3;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><strong>选择器</strong>：筛选具有相似特征的元素</li>
<li>每一对属性需要使用；隔开，最后一对属性可以不加；</li>
</ul>
</blockquote>
<h2 id="选择器分类"><a href="#选择器分类" class="headerlink" title="选择器分类"></a>选择器分类</h2><h3 id="基础选择器"><a href="#基础选择器" class="headerlink" title="基础选择器"></a>基础选择器</h3><ol>
<li><p><strong>id选择器</strong>：选择具有某个特定id属性的元素。建议在一个html页面中id值唯一</p>
   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#id</span>属性值&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
<li><p><strong>元素选择器</strong>：选择具有相同标签名称的元素</p>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">标签名称&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>类选择器</strong>：选择具有相同的class属性值的元素。</p>
   <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span>属性值&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>Tip：3个基础选择器的优先级：<code>ID选择器 &gt; 类选择器选择器 &gt; 元素选择器</code></p>
</blockquote>
<h3 id="扩展选择器："><a href="#扩展选择器：" class="headerlink" title="扩展选择器："></a>扩展选择器：</h3><ol>
<li><strong>选择所有元素</strong>：</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>并集选择器</strong>：</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择器<span class="number">1</span>,选择器<span class="number">2</span>&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>子选择器</strong>：筛选选择器1元素下的选择器2的元素</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择器<span class="number">1</span> 选择器<span class="number">2</span>&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>父选择器</strong>：筛选选择器2元素下的选择器1的元素</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择器<span class="number">1</span> &gt; 选择器<span class="number">2</span>&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>属性选择器</strong>：选择指定元素名称条件下，属性名=属性值的元素</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">元素名称<span class="selector-attr">[属性名=<span class="string">&quot;属性值&quot;</span>]</span>&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li><strong>伪类选择器</strong>：选择一些元素具有的状态</li>
</ol>
  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">元素:状态&#123;</span><br><span class="line">    key: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如： <code>&lt;a&gt;</code>有如下几种状态，可以选择设置不同状态下展示不同的颜色</p>
<blockquote>
<ul>
<li>link：初始化的状态</li>
<li>visited：被访问过的状态</li>
<li>active：正在访问状态</li>
<li>hover：鼠标悬浮状态</li>
</ul>
</blockquote>
</blockquote>
<h2 id="CSS中常见的属性对应的键"><a href="#CSS中常见的属性对应的键" class="headerlink" title="CSS中常见的属性对应的键"></a>CSS中常见的属性对应的键</h2><ol>
<li><strong>字体、文本</strong></li>
</ol>
<blockquote>
<ul>
<li>font-size：字体大小</li>
<li>color：文本颜色</li>
<li>text-align：对其方式</li>
<li>line-height：行高 </li>
<li>text_align：文本的对齐方式</li>
</ul>
<ol start="2">
<li><strong>背景</strong></li>
</ol>
</blockquote>
<blockquote>
<ul>
<li>background</li>
</ul>
<ol start="3">
<li><strong>边框</strong></li>
</ol>
</blockquote>
<blockquote>
<ul>
<li>border</li>
</ul>
<ol start="4">
<li><strong>尺寸</strong></li>
</ol>
</blockquote>
<blockquote>
<ul>
<li>width：宽度</li>
<li>height：高度</li>
</ul>
<ol start="5">
<li><strong>盒子模型</strong>：控制布局</li>
</ol>
</blockquote>
<blockquote>
<ul>
<li><p>margin：外边距</p>
</li>
<li><p>padding：内边距</p>
<blockquote>
<ul>
<li>默认情况下内边距会影响整个盒子的大小</li>
<li>box-sizing: border-box;  设置盒子的属性，让width和height就是最终盒子的大小</li>
</ul>
</blockquote>
</li>
<li><p>float：浮动</p>
<blockquote>
<ul>
<li>left</li>
<li>right</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/JavaScript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/11/JavaScript/" class="post-title-link" itemprop="url">JavaScript</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-11 11:37:09" itemprop="dateCreated datePublished" datetime="2020-11-11T11:37:09+08:00">2020-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-03-15 23:06:08" itemprop="dateModified" datetime="2021-03-15T23:06:08+08:00">2021-03-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2020/11/11/JavaScript/JavaScript.png"></p>
<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><blockquote>
<p>JavaScript是一门客户端脚本语言。</p>
<ul>
<li><strong>运行在客户端浏览器</strong>中的。每一个浏览器都有JavaScript的解析引擎</li>
<li>脚本语言：不需要编译，直接就可以被浏览器解析执行了</li>
</ul>
</blockquote>
<p>功能：</p>
<blockquote>
<p>是对HTML的增强，可以用来控制html元素，让页面有一些动态的效果，增强用户的体验。</p>
</blockquote>
<p>ECMAScript：客户端脚本语言的标准</p>
<blockquote>
<ul>
<li>JavaScript = ECMAScript + JavaScript自己特有的东西(BOM+DOM)</li>
</ul>
</blockquote>
<p>JS特点：</p>
<blockquote>
<ol>
<li><strong>交互性</strong>：它可以完成信息的动态交互。</li>
<li><strong>安全性</strong>：不允许直接访问硬盘。</li>
<li><strong>跨平台性</strong>：只要是可以解释JS的浏览器都可以执行，与平台无关。</li>
</ol>
</blockquote>
<hr>
<h1 id="Js-与-HTML-结合的方式"><a href="#Js-与-HTML-结合的方式" class="headerlink" title="Js 与 HTML 结合的方式"></a>Js 与 HTML 结合的方式</h1><h2 id="内部Js"><a href="#内部Js" class="headerlink" title="内部Js"></a>内部Js</h2><blockquote>
<p>在<code>&lt;head&gt;</code>或<code>&lt;body&gt;</code>标签中，使用<code>&lt;script&gt;</code>标签来包裹JavaScript代码。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">alert</span>(<span class="string">&quot;hello js&quot;</span>)	   </span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="外部Js"><a href="#外部Js" class="headerlink" title="外部Js"></a>外部Js</h2><blockquote>
<p>在<code>&lt;head&gt;</code>或<code>&lt;body&gt;</code>标签中，使用<code>&lt;script src=&quot;&quot;&gt;</code>引入外部的<code>.js</code>文件。</p>
</blockquote>
<ol>
<li><p>定义<code>demo.js</code>文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;hello js 外部js&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>引入外部的<code>demo.js</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/a.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>Tip：</p>
<ul>
<li><code>&lt;script&gt;</code>标签可以用来定义JS代码，也可以用来引入JS文件。但是，两个功能只能二选一使用，不能同时使用两个功能。</li>
<li><strong><code>&lt;script&gt;</code>可以定义在html页面的任何地方，但是定义的位置会影响执行顺序。</strong></li>
<li><code>&lt;script&gt;</code>标签可以定义多个。</li>
</ul>
</blockquote>
<h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><blockquote>
<ul>
<li>单行注释：// </li>
<li>多行注释：/**/</li>
</ul>
</blockquote>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p><img src="/2020/11/11/JavaScript/JS%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png"></p>
<table>
<thead>
<tr>
<th align="center">ID</th>
<th align="center">基本数据类型</th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>number</code></td>
<td align="center">整数/小数/NaN(not a number 一个不是数字的数字类型)</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>string</code></td>
<td align="center">字符串</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>boolean</code></td>
<td align="center">布尔类型</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>undefined</code></td>
<td align="center">所有JS变量未赋初始值的时候，默认值都是undefined</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>null</code></td>
<td align="center">空值</td>
</tr>
</tbody></table>
<h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><blockquote>
<p>Java语言是强类型语言，而JavaScript是弱类型语言。</p>
<ul>
<li>强类型：在开辟变量存储空间时，定义了空间将来存储的数据的数据类型。只能存储固定类型的数据</li>
<li>弱类型：在开辟变量存储空间时，不定义空间将来的存储数据类型，可以存放任意类型的数据。</li>
</ul>
</blockquote>
<h2 id="Js中变量的定义格式"><a href="#Js中变量的定义格式" class="headerlink" title="Js中变量的定义格式"></a>Js中变量的定义格式</h2><blockquote>
<p>变量的定义使用<code>var</code>关键字或<code>let</code>关键字 。</p>
<ul>
<li><code>var</code>：定义的变量是局部变量</li>
<li><code>let</code>：定义的变量是全局变量(不建议)</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="keyword">var</span> 变量名;	</span><br><span class="line"><span class="number">2.</span> <span class="keyword">var</span> 变量名 = 值;</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> <span class="keyword">let</span> 变量名;</span><br><span class="line"><span class="number">4.</span> <span class="keyword">let</span> 变量名 = 值;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>typeof</code>运算符：获取变量的类型。</p>
<ul>
<li><code>null</code> 类型运算后得到的是类型是 <code>object</code></li>
<li>Js中的语句以<code>;</code>结尾，如果一行只有一条语句则<code> ;</code>可以省略 (不建议)</li>
</ul>
</blockquote>
<hr>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h2><blockquote>
<p>只有一个参数的运算符</p>
</blockquote>
<p><strong>分类</strong></p>
<table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>++/--</code></td>
<td align="center">自增/自减</td>
<td align="center"></td>
</tr>
<tr>
<td align="center"><code>+/-</code></td>
<td align="center">正号/负号（不是加和减）</td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><ul>
<li>参考Java的赋值运算符</li>
</ul>
<h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><ul>
<li>参考Java的算术运算符</li>
</ul>
<h3 id="Tip"><a href="#Tip" class="headerlink" title="Tip"></a>Tip</h3><blockquote>
<p>在JS中，如果运算数不是运算符所要求的类型，那么js引擎会自动的将运算数进行类型转换。</p>
</blockquote>
<p>其他类型 <code>--&gt;&gt;</code> number：</p>
<ul>
<li><p>String转number：</p>
<blockquote>
<p>如果字面值是数字，直接按照字面值转换。</p>
<p>如果字面值不是数字，则转为NaN（不是数字的数字）</p>
</blockquote>
</li>
<li><p>Boolean类型转Number</p>
<blockquote>
<p>true转为1，false转为0</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><blockquote>
<p><code>&gt; &lt; &gt;= &lt;= == ===(全等于)</code></p>
</blockquote>
<p><strong>比较方式</strong>：</p>
<blockquote>
<ol>
<li>若待比较的两个变量数据类型相同，则可以直接比较。<ul>
<li>数值类型直接比较大小；</li>
<li>字符串类型则会按照字典顺序比较。按位逐一比较，直到得出大小为止。</li>
</ul>
</li>
<li><strong>若待比较的两个变量数据类型不同，则需要先进行类型转换，再比较</strong>。</li>
</ol>
</blockquote>
<p><strong>全等于</strong>：</p>
<blockquote>
<p><strong><code>===</code> 全等于</strong>：在比较之前，先判断类型，如果类型不一样，则直接返回false</p>
</blockquote>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><ul>
<li><code>&amp;&amp;</code>    与</li>
<li><code>||</code>    或</li>
<li><code>!</code>    非</li>
</ul>
<blockquote>
<p>Tip：<strong>在JS中，所有的变量，都可以作为一个boolean类型变量使用。</strong></p>
<p>其他类型转boolean：</p>
<ul>
<li><code>number</code>：<code>0</code>或<code>NaN</code>为假，其他为真<ul>
<li><code>string</code>：除了<code>空字符串(&quot;&quot;)</code>，其他都是true</li>
</ul>
</li>
<li><code>null</code>和<code>undefined</code>：都是false</li>
</ul>
<ol start="4">
<li><code>对象</code>：所有对象都为true</li>
</ol>
</blockquote>
<h2 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h2><ul>
<li>参考Java的三元运算符</li>
</ul>
<hr>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><h2 id="默认顺序执行"><a href="#默认顺序执行" class="headerlink" title="默认顺序执行"></a>默认顺序执行</h2><h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><ol>
<li><code>if...else...</code></li>
<li><code>switch</code><ul>
<li>在Java中，<code>switch()</code>方法中参数可以接受的数据类型：<code>byte int short char,枚举(1.5) ,String(1.7)</code></li>
<li>在JS中，<code>switch()</code>方法中的参数可以是<strong>任意的基本数据类型</strong></li>
</ul>
</li>
</ol>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><ol>
<li><code>while</code></li>
<li><code>do...while</code></li>
<li><code>for</code></li>
</ol>
<hr>
<h1 id="数组（对象）：Array"><a href="#数组（对象）：Array" class="headerlink" title="数组（对象）：Array"></a>数组（对象）：Array</h1><h2 id="定义（3种方式）"><a href="#定义（3种方式）" class="headerlink" title="定义（3种方式）"></a>定义（3种方式）</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式1</span></span><br><span class="line"><span class="keyword">var</span> 数组名 = <span class="keyword">new</span> <span class="title class_">Array</span>(数组长度);</span><br><span class="line"><span class="comment">// 方式2</span></span><br><span class="line"><span class="keyword">var</span> 数组名 = <span class="keyword">new</span> <span class="title class_">Array</span>(元素列表);</span><br><span class="line"><span class="comment">// 方式3</span></span><br><span class="line"><span class="keyword">var</span> 数组名 = [元素列表];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*例子*/</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [];	<span class="comment">// 定义空数组</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">true</span>];		<span class="comment">// 定义数组的同时赋值元素</span></span><br></pre></td></tr></table></figure>



<h2 id="数组对象中的属性"><a href="#数组对象中的属性" class="headerlink" title="数组对象中的属性"></a>数组对象中的属性</h2><ul>
<li><code>length</code>：数组对象中有一个<code>length</code>属性，该方法返回当前数组中元素的个数。</li>
</ul>
<h2 id="数组对象中的方法"><a href="#数组对象中的方法" class="headerlink" title="数组对象中的方法"></a>数组对象中的方法</h2><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
<th align="center">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>join(参数)</code></td>
<td align="center">将数组中的元素按照指定的分隔符拼接为字符串。</td>
<td align="center">String</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>push()</code></td>
<td align="center">向数组的末尾添加一个或更多元素，并返回新的长度。</td>
<td align="center">number</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h2 id="数组对象的特点"><a href="#数组对象的特点" class="headerlink" title="数组对象的特点"></a>数组对象的特点</h2><blockquote>
<ul>
<li>JS中，数组的<strong>元素类型是可变</strong>的。</li>
<li>JS中，数组<strong>长度可变</strong>的。</li>
</ul>
</blockquote>
<h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><blockquote>
<p>格式：与Java相同</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 数组名 = [<span class="number">1</span>, <span class="string">&quot;abc&quot;</span>, <span class="literal">true</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.查找</span></span><br><span class="line"><span class="keyword">var</span> x = arr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.修改</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">66</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.增加</span></span><br><span class="line">arr[<span class="number">3</span>] = <span class="string">&quot;你好&quot;</span>;	<span class="comment">// 或者</span></span><br><span class="line">arr[arr.<span class="property">length</span>] = <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.遍历</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<hr>
<h1 id="方法（对象）：function"><a href="#方法（对象）：function" class="headerlink" title="方法（对象）：function"></a>方法（对象）：function</h1><blockquote>
<p>在JS中，函数/方法是一个对象。</p>
</blockquote>
<h2 id="方法的定义"><a href="#方法的定义" class="headerlink" title="方法的定义"></a>方法的定义</h2><ul>
<li>方式1：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 方法名(参数列表)&#123;</span><br><span class="line">    方法体;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>方式2：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 方法名 = <span class="keyword">function</span>(<span class="params">形参列表</span>)&#123;</span><br><span class="line">    方法体;</span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="方法的调用"><a href="#方法的调用" class="headerlink" title="方法的调用"></a>方法的调用</h2><ul>
<li>直接通过： <code>函数名(实参列表)</code>  调用。</li>
</ul>
<h2 id="方法的属性"><a href="#方法的属性" class="headerlink" title="方法的属性"></a>方法的属性</h2><ul>
<li><code>length</code>：方法是一个对象，该对象有一个<code>length</code>属性，表示当前方法中形参列表中参数的个数。</li>
</ul>
<h2 id="Tip："><a href="#Tip：" class="headerlink" title="Tip："></a>Tip：</h2><blockquote>
<ul>
<li>方法是一个对象。</li>
<li>在JS中，形参的数据类型不用写，返回值类型也不用写。[弱类型语言]</li>
<li>在Java中允许方法重载，但是在JS中方法的重载会直接覆盖上一次的定义。</li>
<li>在JS中，方法的调用只与方法的名称有关，与参数列表无关。</li>
<li>在方法声明中有一个隐藏的内置对象（数组）<code>arguments</code>，封装了所有的实际参数。</li>
</ul>
</blockquote>
<hr>
<h1 id="日期（对象）：Date"><a href="#日期（对象）：Date" class="headerlink" title="日期（对象）：Date"></a>日期（对象）：Date</h1><h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br></pre></td></tr></table></figure>

<h2 id="对象中的方法"><a href="#对象中的方法" class="headerlink" title="对象中的方法"></a>对象中的方法</h2><table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>toLocaleString()</code></td>
<td align="center">返回当前date对象对应时间的本地字符串格式</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>getTime()</code></td>
<td align="center">返回当前date对象对应时间的毫秒值（始于1970年1月1日0时0分0秒）</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h1 id="数学对象：Math"><a href="#数学对象：Math" class="headerlink" title="数学对象：Math"></a>数学对象：Math</h1><blockquote>
<p>Math对象不用创建，可以直接使用，类似于Java中的静态类。</p>
</blockquote>
<h2 id="对象中的属性"><a href="#对象中的属性" class="headerlink" title="对象中的属性"></a>对象中的属性</h2><ul>
<li><code>PI</code>：就是<code>π</code>值。</li>
</ul>
<h2 id="对象中的方法-1"><a href="#对象中的方法-1" class="headerlink" title="对象中的方法"></a>对象中的方法</h2><table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>random()</code></td>
<td align="center">返回 [0 ，1） 之间的随机数。</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>ceil(a)</code></td>
<td align="center">对<code>a</code>向上取整</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>floor(a)</code></td>
<td align="center">对<code>a</code>向下取整</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>round(a)</code></td>
<td align="center">四舍五入</td>
</tr>
</tbody></table>
<h1 id="正则表达式对象：RegExp"><a href="#正则表达式对象：RegExp" class="headerlink" title="正则表达式对象：RegExp"></a>正则表达式对象：RegExp</h1><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p><a href>传送门</a></p>
<blockquote>
<p><strong>正则表达式</strong>：定义字符串的组成规则</p>
</blockquote>
<ol>
<li><p>单个字符:[]</p>
<blockquote>
<p>如： [a] [ab] [a-zA-Z0-9_]</p>
<pre><code>* 特殊符号代表特殊含义的单个字符:
 \d:单个数字字符 [0-9]
 \w:单个单词字符[a-zA-Z0-9_]
</code></pre>
</blockquote>
</li>
<li><p>量词符号：</p>
<blockquote>
<ol>
<li><p>?：表示出现0次或1次<br> *：表示出现0次或多次<br> +：出现1次或多次<br> {m,n}:表示 m&lt;= 数量 &lt;= n</p>
<p>​    m如果缺省： {,n}:最多n次</p>
<p>​    n如果缺省：{m,} 最少m次</p>
</li>
</ol>
</blockquote>
</li>
<li><p>开始结束符号</p>
<blockquote>
<ul>
<li>^:开始</li>
<li>$:结束</li>
</ul>
</blockquote>
</li>
</ol>
<h2 id="正则表达式对象"><a href="#正则表达式对象" class="headerlink" title="正则表达式对象"></a>正则表达式对象</h2><h3 id="创建（2种方式）"><a href="#创建（2种方式）" class="headerlink" title="创建（2种方式）"></a>创建（2种方式）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式1</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;正则表达式&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式2</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/正则表达式/</span>;</span><br></pre></td></tr></table></figure>



<h3 id="对象中的方法-2"><a href="#对象中的方法-2" class="headerlink" title="对象中的方法"></a>对象中的方法</h3><table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>test(参数)</code></td>
<td align="center">验证指定的字符串是否符合正则定义的规范</td>
</tr>
</tbody></table>
<h1 id="全局对象：Global"><a href="#全局对象：Global" class="headerlink" title="全局对象：Global"></a>全局对象：Global</h1><blockquote>
<p>全局对象Global中封装的方法不需要对象就可以直接调用。  </p>
<p>调用方式：<code>方法名()</code></p>
</blockquote>
<h2 id="对象中的方法-3"><a href="#对象中的方法-3" class="headerlink" title="对象中的方法"></a>对象中的方法</h2><table>
<thead>
<tr>
<th align="center">序号</th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>encodeURL(参数)</code></td>
<td align="center">将指定数据按URL编码</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>decodeURL(参数)</code></td>
<td align="center">将指定数据按URL解码</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>encodeURLComponent(参数)</code></td>
<td align="center">url编码,编码的字符更多</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>decodeURLComponent(参数)</code></td>
<td align="center">url解码</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>parseInt(参数)</code></td>
<td align="center">将字符串转为数字</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"><code>isNaN(参数)</code></td>
<td align="center">判断一个值是否是NaN</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"><code>eval(参数)</code></td>
<td align="center">将JavaScript字符串作为脚本代码来执行</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li>NaN六亲不认，连自己都不能识别，所以NaN参与的<code>==</code>比较全部为false。想要判断某一数据是否为NaN，只能通过<code>isNaN()</code>方法</li>
<li><code>parseInt(参数)</code>方法会逐一判字符串中的每一个字符是否是数字，直到不是数字为止，将前边数字部分转为number。</li>
</ul>
</blockquote>
<h1 id="自定义对象"><a href="#自定义对象" class="headerlink" title="自定义对象"></a>自定义对象</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ol>
<li>方式1：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.定义一个空对象实例</span></span><br><span class="line"><span class="keyword">var</span> 变量名 = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.绑定属性值</span></span><br><span class="line">变量名.属性 = 值;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.定义对象中的方法</span></span><br><span class="line">变量名.函数名 = <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>方式2：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 = &#123;</span><br><span class="line">    属性名<span class="number">1</span>:值<span class="number">1</span>,</span><br><span class="line">    ...... ,</span><br><span class="line">    函数名:<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 变量名.属性;</span><br><span class="line"><span class="number">2.</span> 变量名.方法名();</span><br></pre></td></tr></table></figure>







<hr>
<h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><blockquote>
<p><strong>BOM</strong>：<code>Browser Object Model</code>，浏览器对象模型，就是将浏览器的各个组成部分封装成对象</p>
</blockquote>
<p><strong>BOM的组成部分</strong></p>
<ul>
<li><code>Window</code>：窗口对象</li>
<li><code>Navigator</code>：浏览器对象</li>
<li><code>Screen</code>：显示器屏幕对象</li>
<li><code>History</code>：历史记录对象</li>
<li><code>Location</code>：地址栏对象</li>
</ul>
<h2 id="Window：窗口对象"><a href="#Window：窗口对象" class="headerlink" title="Window：窗口对象"></a>Window：窗口对象</h2><h3 id="1、创建"><a href="#1、创建" class="headerlink" title="1、创建"></a>1、创建</h3><blockquote>
<ul>
<li>Window对象可以不需要创建直接使用。格式：<code>window.方法名()</code>或<code>window.属性</code></li>
<li>window引用可以省略。格式：<code>方法名()</code>或<code>属性</code></li>
</ul>
</blockquote>
<h3 id="2、对象中的方法"><a href="#2、对象中的方法" class="headerlink" title="2、对象中的方法"></a>2、对象中的方法</h3><table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center">方法</th>
<th align="center">说明</th>
<th align="center">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">与弹出框有关的方法</td>
<td align="center"><code>alert()</code></td>
<td align="center">弹出一个带有一段消息和一个确认按钮的警告框。</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>confirm()</code></td>
<td align="center">弹出一个带有一段消息以及<strong>确认按钮和取消按钮</strong>的对话框。</td>
<td align="center">如果用户点击确认按钮，返回true，反之则返回false</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>prompt()</code></td>
<td align="center">弹出一个提示用户输入的对话框</td>
<td align="center">返回值是用户输入的值</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">与打开关闭有关的方法</td>
<td align="center"><code>close()</code></td>
<td align="center">关闭当前浏览器窗口</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>open()</code></td>
<td align="center">打开一个新的浏览器窗口</td>
<td align="center">返回值是新的Window对象</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">与定时器有关的方法</td>
<td align="center"><code>setTimeout(x, y)</code></td>
<td align="center">在指定的毫秒数后调用函数或计算表达式。x是待调用的函数，y是时间</td>
<td align="center">返回值是一个唯一标识，用于取消定时器</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>clearTimeout()</code></td>
<td align="center">取消由<code>setTimeout()</code>方法设置的定时器</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>setInterval()</code></td>
<td align="center">按照指定的周期（以毫秒计）来调用函数或计算表达式。</td>
<td align="center">返回值是一个唯一标识，用于取消定时器</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>clearInterval()</code></td>
<td align="center">取消由<code>setInterval()</code>设置的 定时器。</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h3 id="3、对象的属性"><a href="#3、对象的属性" class="headerlink" title="3、对象的属性"></a>3、对象的属性</h3><table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center">属性</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><code>history</code></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>location</code></td>
</tr>
<tr>
<td align="center">1、获取其它BOM对象</td>
<td align="center"><code>Navigator</code></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>Screen</code></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2、获取DOM对象</td>
<td align="center"><code>document</code></td>
</tr>
</tbody></table>
<hr>
<h2 id="Location：地址栏对象"><a href="#Location：地址栏对象" class="headerlink" title="Location：地址栏对象"></a>Location：地址栏对象</h2><ol>
<li><p>创建</p>
<blockquote>
<ul>
<li><code>window.location</code></li>
<li><code>location</code></li>
</ul>
</blockquote>
</li>
<li><p>方法</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>reload()</code></td>
<td align="center">重新加载当前文档。刷新</td>
</tr>
</tbody></table>
</li>
<li><p>属性</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">属性</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>href</code></td>
<td align="center">设置或返回完整的URL。该属性在<code>=</code>左边时是设置URL，在<code>=</code>右边时是返回URL</td>
</tr>
</tbody></table>
</li>
</ol>
<hr>
<h2 id="History：历史记录对象"><a href="#History：历史记录对象" class="headerlink" title="History：历史记录对象"></a>History：历史记录对象</h2><ol>
<li><p>创建</p>
<blockquote>
<ul>
<li><code>window.history</code></li>
<li><code>history</code></li>
</ul>
</blockquote>
</li>
<li><p>方法</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
<th align="center">参数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>back()</code></td>
<td align="center">加载history列表中的上一个URL</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>forward()</code></td>
<td align="center">加载history列表中的下一个URL</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>go(参数)</code></td>
<td align="center">加载history列表中的某个具体页面</td>
<td align="center">正数：前进几个历史记录<br>负数：后退几个历史记录</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
</li>
<li><p>属性</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">属性</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>length</code></td>
<td align="center">返回当前窗口历史列表中的 URL 数量</td>
</tr>
</tbody></table>
</li>
</ol>
<hr>
<h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><blockquote>
<p><strong>DOM</strong>：Document Object Model，文档对象模型</p>
<p>将标记语言文档的各个组成部分，封装成对象。可以使用这些对象，对标记语言文档进行CRUD的动态操作</p>
<p>就是把文档中的<strong>标签</strong>、<strong>属性</strong>、<strong>文本</strong>等转化成对象来管理。</p>
</blockquote>
<p>W3C DOM 标准被分为 3 个不同的部分：</p>
<blockquote>
<ol>
<li><strong>核心DOM</strong>：面向所有结构化文档的标准模型。包括：<ul>
<li><code>Document</code>：文档对象</li>
<li><code>Element</code>：元素对象</li>
<li><code>Attribute</code>：属性对象</li>
<li><code>Text</code>：文本对象</li>
<li><code>Comment</code>：注释对象</li>
<li><code>Node</code>：节点对象，其他5个的父对象</li>
</ul>
</li>
<li><strong>XML DOM</strong>：针对 XML 文档的标准模型</li>
<li><strong>HTML DOM</strong>：针对 HTML 文档的标准模型</li>
</ol>
</blockquote>
<h2 id="核心DOM模型"><a href="#核心DOM模型" class="headerlink" title="核心DOM模型"></a>核心DOM模型</h2><h3 id="Document：文档对象"><a href="#Document：文档对象" class="headerlink" title="Document：文档对象"></a>Document：文档对象</h3><blockquote>
<ol>
<li>Document对象管理HTML文档中的全部内容。</li>
<li>Document对象是一种树结构的文档，有层级关系。</li>
<li>Document对象可以把所有的标签都<strong>对象化</strong>。</li>
<li>我们可以通过Document对象<strong>访问所有</strong>的标签对象。</li>
</ol>
</blockquote>
<p><img src="/2020/11/11/JavaScript/DOM%E6%96%87%E6%A1%A3%E6%A0%91%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.png"></p>
<ol>
<li><p>创建：可以使用window对象来获取，或直接获取</p>
<blockquote>
<ul>
<li><code>window.document</code></li>
<li><code>document</code></li>
</ul>
</blockquote>
</li>
<li><p>方法</p>
<table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><code>getElementById()</code></td>
<td align="center">根据id属性值获取元素对象。id属性值一般唯一</td>
</tr>
<tr>
<td align="center">获取Element对象</td>
<td align="center"><code>getElementsByTagName()</code></td>
<td align="center">根据元素名称获取元素对象们。返回值是一个数组</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>getElementsByClassName()</code></td>
<td align="center">根据Class属性值获取元素对象们。返回值是一个数组</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>getElementsByName()</code></td>
<td align="center">根据name属性值获取元素对象们。返回值是一个数组</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>createAttribute(name)</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">创建其他DOM对象</td>
<td align="center"><code>createComment()</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>createElement()</code></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>createTextNode()</code></td>
<td align="center"></td>
</tr>
</tbody></table>
<blockquote>
<p><strong>Tip</strong>：以上三个查询方法，一定要在页面加载完成之后执行，才能查询到标签对象。</p>
</blockquote>
</li>
</ol>
<hr>
<h3 id="Element：元素对象"><a href="#Element：元素对象" class="headerlink" title="Element：元素对象"></a>Element：元素对象</h3><ol>
<li><p>创建/获取：通过document来创建/获取</p>
<blockquote>
<ul>
<li><code>document.createElement()</code></li>
<li><code>document.getElementByXxx()</code></li>
</ul>
</blockquote>
</li>
<li><p>方法</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>removeAttribute()</code></td>
<td align="center">删除属性</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>setAttribute()</code></td>
<td align="center">设置属性</td>
</tr>
</tbody></table>
</li>
<li><p>属性</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><code>innerHTML</code></td>
<td align="center">使用<code>innerHTML</code>属性获取/修改标签中的内容</td>
</tr>
</tbody></table>
</li>
</ol>
<h3 id="Node：节点对象"><a href="#Node：节点对象" class="headerlink" title="Node：节点对象"></a>Node：节点对象</h3><blockquote>
<p>其他5个DOM对象的父对象，即：所有的DOM对象都可以被认为是一个节点对象。</p>
<p>所以，其它5个DOM对象都继承了Node对象中公开的方法。</p>
</blockquote>
<ol>
<li><p>方法</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">方法</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>appendChild()</code></td>
<td align="center">向当前节点的子节点列表的结尾添加新的子节点</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>removeChild()</code></td>
<td align="center">删除（并返回）当前节点的指定子节点</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>replaceChild()</code></td>
<td align="center">用新节点替换一个子节点</td>
</tr>
</tbody></table>
</li>
<li><p>属性</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">属性</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>parentNode</code></td>
<td align="center">返回当前节点的父节点</td>
</tr>
</tbody></table>
</li>
</ol>
<hr>
<h1 id="JS中的事件"><a href="#JS中的事件" class="headerlink" title="JS中的事件"></a>JS中的事件</h1><blockquote>
<p><strong>事件</strong>：某些组件被监听到执行了某些操作后，触发某些代码的执行。</p>
</blockquote>
<h2 id="事件的注册（绑定）"><a href="#事件的注册（绑定）" class="headerlink" title="事件的注册（绑定）"></a>事件的注册（绑定）</h2><blockquote>
<p><strong>事件的绑定</strong>：其实就是告诉浏览器，触发事件后要执行哪些代码。</p>
</blockquote>
<h3 id="静态注册事件"><a href="#静态注册事件" class="headerlink" title="静态注册事件"></a>静态注册事件</h3><blockquote>
<p>通过HTML标签的事件属性直接绑定事件响应后的代码，这种方式我们叫做静态注册。</p>
</blockquote>
<h3 id="动态注册事件"><a href="#动态注册事件" class="headerlink" title="动态注册事件"></a>动态注册事件</h3><blockquote>
<p>通过JS代码得到标签的DOM对象，再通过**<code>DOM对象.事件名 = function()&#123;&#125;</code>**这种形式赋予事件响应后的代码。叫做动态注册。</p>
</blockquote>
<p><strong>动态注册的基本步骤</strong>：</p>
<ol>
<li>获取标签对象。</li>
<li><code>标签对象.事件名=function()&#123;&#125;</code></li>
</ol>
<h2 id="8-2-常见的事件"><a href="#8-2-常见的事件" class="headerlink" title="8.2    常见的事件"></a>8.2    常见的事件</h2><table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center">事件</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">加载事件</td>
<td align="center"><code>onload</code></td>
<td align="center">加载完成事件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">点击事件</td>
<td align="center"><code>onclick</code></td>
<td align="center">单击事件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>ondblclick</code></td>
<td align="center">双击事件</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">焦点事件</td>
<td align="center"><code>onblur</code></td>
<td align="center">失去焦点事件。常用于输入框失去焦点后验证其输入内容是否合法</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onfocus</code></td>
<td align="center">元素获得焦点</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">鼠标事件</td>
<td align="center"><code>onmousedown</code></td>
<td align="center">鼠标按钮被按下</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onmouseup</code></td>
<td align="center">鼠标按键被松开</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onmousemove</code></td>
<td align="center">鼠标被移动</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onmouseover</code></td>
<td align="center">鼠标移到某元素之上</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onmouseout</code></td>
<td align="center">鼠标从某元素移开</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">键盘事件</td>
<td align="center"><code>onkeydown</code></td>
<td align="center">某个键盘按键被按下</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onkeyup</code></td>
<td align="center">某个键盘按键被松开</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onkeypress</code></td>
<td align="center">某个键盘按键被按下并松开</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">表单事件</td>
<td align="center"><code>onsubmit</code></td>
<td align="center">表单提交按钮被点击</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"><code>onreset</code></td>
<td align="center">重置按钮被点击</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">改变</td>
<td align="center"><code>onchange</code></td>
<td align="center">域的内容被改变</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">选择</td>
<td align="center"><code>onselect</code></td>
<td align="center">文本被选中</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/11/HTML/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/11/HTML/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-11 11:36:34" itemprop="dateCreated datePublished" datetime="2020-11-11T11:36:34+08:00">2020-11-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-03-12 21:55:43" itemprop="dateModified" datetime="2021-03-12T21:55:43+08:00">2021-03-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/2020/11/11/HTML/HTML.png"></p>
<h1 id="HTML-概述"><a href="#HTML-概述" class="headerlink" title="HTML 概述"></a>HTML 概述</h1><blockquote>
<ul>
<li><p>HTML 是最基础的网页开发语言</p>
</li>
<li><p>Hyper Text Markup Language：超文本标记语言</p>
<blockquote>
<ul>
<li><p><strong>超文本</strong>：超文本是用超链接的方法，将各种不同空间的文字信息组织在一起的网状文本</p>
</li>
<li><p><strong>标记语言</strong>：</p>
<ul>
<li><p>由标签构成的语言。&lt;标签名称&gt; 如 html，xml</p>
</li>
<li><p>标记语言不是编程语言。</p>
<blockquote>
<ul>
<li>没有逻辑性</li>
<li>按顺序从上到下执行</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
<blockquote>
<ol>
<li><p>html文档后缀名 .html 或者 .htm</p>
</li>
<li><p>标签分为：</p>
</li>
</ol>
<ul>
<li><p><strong>围堵标签</strong>：有开始标签和结束标签。如<code> &lt;html&gt; &lt;/html&gt;</code></p>
</li>
<li><p><strong>自闭合标签</strong>：开始标签和结束标签在一起。如<code> &lt;br/&gt;</code></p>
</li>
</ul>
<ol start="3">
<li>标签之间可以互相嵌套。</li>
<li>在<strong>开始标签中</strong>可以定义属性。属性是由键值对构成，值需要用引号(单双都可)引起来</li>
<li>html的标签不区分大小写，但是建议使用小写。</li>
</ol>
</blockquote>
<blockquote>
<ol>
<li><p>标签拥有自己的属性，分为：</p>
<ul>
<li><strong>基本属性</strong>：可以修改简单的样式效果</li>
<li><strong>事件属性</strong>：可以直接设置事件响应后的代码</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">bgcolor</span>=<span class="string">&quot;red&quot;</span>&gt;</span>超链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(&#x27;你好&#x27;)&quot;</span>&gt;</span>超链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>属性必须有值，属性值必须加引号</p>
</li>
</ol>
</blockquote>
<hr>
<h1 id="HTML-标签"><a href="#HTML-标签" class="headerlink" title="HTML 标签"></a>HTML 标签</h1><h2 id="1、文件标签"><a href="#1、文件标签" class="headerlink" title="1、文件标签"></a>1、文件标签</h2><blockquote>
<p>构成html最基本的标签</p>
</blockquote>
<ul>
<li><p><code>html</code>：html文档的根标签【超级祖宗】</p>
</li>
<li><p><code>head</code>：头标签</p>
<blockquote>
<ul>
<li>用于指定html文档的一些属性。</li>
<li>引入外部的资源</li>
</ul>
</blockquote>
</li>
<li><p><code>title</code>：标题标签</p>
</li>
<li><p><code>body</code>：体标签</p>
</li>
<li><p><code>&lt;!DOCTYPE html&gt;</code>：定义文档类型，html5中定义该文档是html文档</p>
</li>
</ul>
<h2 id="2、文本标签"><a href="#2、文本标签" class="headerlink" title="2、文本标签"></a>2、文本标签</h2><blockquote>
<p>和文本有关的标签</p>
</blockquote>
<ul>
<li><p><code>&lt;!-- 注释 --&gt;</code>：注释</p>
</li>
<li><p><code>&lt;h1&gt;标题&lt;h1&gt;</code>：标题标签</p>
<blockquote>
<p>h1~h6:字体大小逐渐递减</p>
</blockquote>
</li>
<li><p><code>&lt;p&gt;</code>：段落标签</p>
</li>
<li><p><code>&lt;br&gt;</code>：换行标签</p>
</li>
<li><p><code>&lt;hr&gt;</code>：水平线</p>
<blockquote>
<p>属性：</p>
<ul>
<li><p>color：颜色</p>
</li>
<li><p>width：线长</p>
</li>
<li><p>size：线高</p>
</li>
<li><p>align：对齐方式</p>
<blockquote>
<ul>
<li>center：居中</li>
<li>left：左对齐</li>
<li>right：右对齐</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;font&gt;</code>：字体标签</p>
<blockquote>
<p>属性：</p>
<ul>
<li>size：字号</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;b&gt;</code>：字体加粗</p>
</li>
<li><p><code>&lt;i&gt;</code>：字体斜体</p>
</li>
<li><p><code>&lt;center&gt;</code>:文本居中</p>
<blockquote>
<p>属性：</p>
<ul>
<li>color：颜色</li>
<li>size：大小</li>
<li>face：字体</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="常见的属性对应的值"><a href="#常见的属性对应的值" class="headerlink" title="常见的属性对应的值"></a>常见的属性对应的值</h3><ul>
<li><p>color：</p>
<blockquote>
<ol>
<li>用英文单词表示：red,green,blue</li>
<li>RGB(x，y，z)，值的范围：0~255  如  RGB(0,0,255)</li>
<li>#XXYYZZ，值的范围：00~FF之间。如： #FF00FF</li>
</ol>
</blockquote>
</li>
<li><p>width：</p>
<blockquote>
<ol>
<li>数值，如width=’20’ ,数值的单位，默认是 px(像素)</li>
<li>数值%：如width=“20%”，相对于父元素所占的比例</li>
</ol>
</blockquote>
</li>
</ul>
<h2 id="3、图片标签"><a href="#3、图片标签" class="headerlink" title="3、图片标签"></a>3、图片标签</h2><ul>
<li><p><code>&lt;img&gt;</code>：展示图片</p>
<blockquote>
<p>属性：</p>
<ul>
<li>键：src，指定图片的位置</li>
<li>值：相对路径/绝对路径</li>
</ul>
</blockquote>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot; &quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="4、列表标签："><a href="#4、列表标签：" class="headerlink" title="4、列表标签："></a>4、列表标签：</h2><ul>
<li>有序列表：<code>&lt;ol&gt;&lt;li&gt;</code></li>
<li>无序列表：<code>&lt;ul&gt;&lt;li&gt;</code></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--有序列表 &lt;ol&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--无序列表 &lt;ul&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>第一项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>第二项<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h2 id="5、链接标签："><a href="#5、链接标签：" class="headerlink" title="5、链接标签："></a>5、链接标签：</h2><ul>
<li><p><code>&lt;a&gt;</code>：超链接</p>
<blockquote>
<p>属性：</p>
<ul>
<li><p>href：指定访问资源的URL</p>
</li>
<li><p>target：指定打开资源的方式</p>
<blockquote>
<ul>
<li>_self：默认值，在当前页面打开</li>
<li>_blank：在空白页面打开</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="6、div"><a href="#6、div" class="headerlink" title="6、div"></a>6、div</h2><ul>
<li><code>&lt;div&gt;</code>：块级标签。<strong>每个div都从新一行开始</strong></li>
</ul>
<h2 id="7、span："><a href="#7、span：" class="headerlink" title="7、span："></a>7、span：</h2><ul>
<li><p><code>&lt;span&gt;</code>：<strong>行内标签</strong>/内联标签。</p>
<blockquote>
<ul>
<li>与上文内容直接连接，不换行。</li>
<li>每个<code>&lt;span&gt;</code>标签内的文本信息在一行中展示。</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="8、语义化标签"><a href="#8、语义化标签" class="headerlink" title="8、语义化标签"></a>8、语义化标签</h2><blockquote>
<p>html5中为了提高程序的可读性，提供了一些标签。</p>
</blockquote>
<ul>
<li><code>&lt;header&gt;</code>：页眉</li>
<li><code>&lt;footer&gt;</code>：页脚</li>
</ul>
<h2 id="9、表格标签："><a href="#9、表格标签：" class="headerlink" title="9、表格标签："></a>9、表格标签：</h2><ul>
<li><p><code>&lt;table&gt;</code>：定义表格</p>
<blockquote>
<p>属性：</p>
<ul>
<li>width：宽度</li>
<li>border：边框</li>
<li>cellpadding：定义内容和单元格的距离</li>
<li>cellspacing：定义单元格之间的距离。如果指定为0，则单元格的线会合为一条、</li>
<li>bgcolor：背景色</li>
<li>align：对齐方式</li>
</ul>
</blockquote>
</li>
</ul>
<ul>
<li><p><code>&lt;tr&gt;</code>：定义行</p>
<blockquote>
<ul>
<li>bgcolor：背景色</li>
<li>align：对齐方式</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;td&gt;</code>：定义单元格</p>
<blockquote>
<ul>
<li>colspan：合并列</li>
<li>rowspan：合并行</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;th&gt;</code>：定义表头单元格</p>
</li>
<li><p><code>&lt;caption&gt;</code>：表格标题</p>
</li>
<li><p><code>&lt;thead&gt;</code>：表示表格的头部分</p>
</li>
<li><p><code>&lt;tbody&gt;</code>：表示表格的体部分</p>
</li>
<li><p><code>&lt;tfoot&gt;</code>：表示表格的脚部分</p>
</li>
</ul>
<h2 id="10、表单标签"><a href="#10、表单标签" class="headerlink" title="10、表单标签"></a>10、表单标签</h2><blockquote>
<p>表单：用于采集用户输入的数据，和服务器进行交互。</p>
</blockquote>
<ul>
<li><p><code>&lt;form&gt;</code>：用于定义表单。可以定义一个范围，范围代表采集用户数据的范围</p>
<blockquote>
<p>属性：</p>
<ul>
<li>action：指定提交数据的URL</li>
<li>method：指定提交方式。GET/POST/…</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="表单项标签"><a href="#表单项标签" class="headerlink" title="表单项标签"></a>表单项标签</h3><ul>
<li><p>表单项标签：</p>
<ul>
<li><p><code>&lt;input&gt;</code>：</p>
<blockquote>
<p>属性：</p>
<ul>
<li><p>type</p>
<blockquote>
<ul>
<li><p>text：文本输入框，默认值</p>
<blockquote>
<p>placeholder：指定输入框的提示信息，当输入框的内容发生变化，会自动清空提示信息    </p>
</blockquote>
</li>
<li><p>password：密码输入框</p>
</li>
<li><p>radio:单选框</p>
<blockquote>
<ol>
<li>要想让多个单选框实现单选的效果，则多个单选框的name属性值必须一样。</li>
<li>一般会给每一个单选框提供value属性，绑定其被选中后提交的值</li>
<li>checked属性，可以指定默认值</li>
</ol>
</blockquote>
</li>
<li><p>checkbox：复选框</p>
<blockquote>
<ol>
<li>一般会给复选框中的每一个单选框提供value属性，指定其被选中后提交的值</li>
<li>checked属性，可以指定默认值</li>
</ol>
</blockquote>
</li>
<li><p>file：文件选择框</p>
</li>
<li><p>hidden：隐藏域，用于提交一些信息。</p>
</li>
</ul>
<ul>
<li><p>按钮：</p>
<blockquote>
<ul>
<li><p>submit：提交按钮。可以提交表单</p>
</li>
<li><p>button：普通按钮</p>
</li>
<li><p>image：图片提交按钮</p>
<blockquote>
<p>src属性指定图片的路径</p>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;label&gt;</code>：指定输入项的文字描述信息</p>
<blockquote>
<p>label的for属性一般会和 input 的 id属性值对应。如果对应了，则点击label区域，会让input输入框获取焦点。</p>
</blockquote>
</li>
<li><p><code>&lt;select&gt;</code>： 下拉列表</p>
</li>
<li><p>子元素：<code>&lt;option&gt;</code>，指定列表项</p>
<blockquote>
<ul>
<li><code>&lt;select&gt;</code>标签只能定义一个选择列表，并不能定义选择列表内的值。</li>
<li>如果想定义选择列表中的选项，需要使用<code>&lt;option&gt;</code>标签</li>
</ul>
</blockquote>
</li>
<li><p><code>&lt;textarea&gt;</code>：文本域</p>
<blockquote>
<ul>
<li>rows：指定文本域的行数。 </li>
<li>cols：指定文本域的列数，每一行有多少个字符。</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/07/Zuul/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/07/Zuul/" class="post-title-link" itemprop="url">Zuul</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-07 22:09:31" itemprop="dateCreated datePublished" datetime="2020-11-07T22:09:31+08:00">2020-11-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-09-03 16:51:46" itemprop="dateModified" datetime="2021-09-03T16:51:46+08:00">2021-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/SpringCould/" itemprop="url" rel="index"><span itemprop="name">SpringCould</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="网关"><a href="#网关" class="headerlink" title="网关"></a>网关</h1><p>从一个房间走到另一个房间，必然要经过一扇门。同样，从一个网络向另一个网络发送信息，也必须经过一道“关口”，即<strong>网关（GateWay）</strong>。</p>
<p>顾名思义，网关（GateWay）就是一个网络连接到另一个网络的“关口”。        通常我们讲的网关就是路由器的IP地址。</p>
<blockquote>
<ul>
<li>  <strong>网关(Gateway)</strong> 又称网间连接器、协议转换器。            </li>
<li>  网关在网络层以上实现网络互连，是复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关既可以用于广域网互连，也可以用于局域网互连。                 </li>
<li>  网关是一种充当转换重任的计算机系统或设备。使用在不同的通信协议、数据格式或语言，甚至体系结构完全不同的两种系统之间，网关是一个翻译器。与网桥只是简单地传达信息不同，网关对收到的信息要重新打包，以适应目的系统的需求。</li>
</ul>
</blockquote>
<h2 id="SpringCould中的网关"><a href="#SpringCould中的网关" class="headerlink" title="SpringCould中的网关"></a>SpringCould中的网关</h2><p>在不使用Zuul网关的情况下，使用Spring Cloud实现的微服务的架构大致如下：</p>
<p><img src="/2020/11/07/Zuul/1525674644660.png" alt="1525674644660"></p>
<blockquote>
<ul>
<li>我们通过Eureka实现了<strong>服务注册中心</strong>以及<strong>服务注册</strong>与<strong>发现</strong>；</li>
<li>通过Ribbon或Feign实现<strong>服务的消费</strong>以及<strong>负载均衡</strong>；</li>
<li>通过Spring Cloud Config实现了应用多环境的外部化配置以及版本管理。</li>
<li>为了使得服务集群更为健壮，使用Hystrix的融断机制来避免在微服务架构中个别服务出现异常时引起的故障蔓延。</li>
</ul>
</blockquote>
<p>在该架构中，我们的服务集群包含：内部服务Service A和Service B，他们都会注册与订阅服务至Eureka Server，而Open Service是一个对外的服务集群，通过负载均衡公开至服务调用方。我们把焦点聚集在对外服务这块，直接暴露我们的服务地址，这样的实现是否合理，或者是否有更好的实现方式呢？</p>
<blockquote>
<p>  <strong>Before：</strong></p>
</blockquote>
<p>先来说说这样架构需要做的一些事儿以及存在的不足：</p>
<ul>
<li>  为了保证对外服务的安全性，我们需要对访问者的权限进行控制，并且对于服务的权限控制机制将会贯穿整个开放服务的业务逻辑，</li>
<li>  无法直接复用既有接口：当我们需要把一个已经存在的内部服务变为对外服务时，我们不得不通过在原有接口上增加校验逻辑，或增加一个代理调用来实现权限控制，而不能直接复用原有的接口。</li>
</ul>
<blockquote>
<p>  <strong>After：</strong></p>
</blockquote>
<p>面对类似上面的问题，我们要如何解决呢？答案是：服务网关！</p>
<ul>
<li>  为了解决上面这些问题，我们需要将权限控制这样的东西从我们的服务单元中抽离出去，而最适合这些逻辑的地方就是处于对外访问最前端的地方，我们需要一个更强大一些的均衡负载器——<strong>服务网关</strong>。</li>
<li>  服务网关是微服务架构中一个不可或缺的部分。通过服务网关统一向外系统提供REST API的过程中，除了具备服务路由、均衡负载功能之外，它还具备了<code>权限控制</code>等功能。</li>
<li>  Spring Cloud Netflix中的Zuul就担任了这样的一个角色，为微服务架构提供了前门保护的作用，同时将权限控制这些较重的非业务逻辑内容迁移到服务路由层面，使得服务集群主体能够具备更高的可复用性和可测试性。</li>
</ul>
<hr>
<h1 id="Zuul"><a href="#Zuul" class="headerlink" title="Zuul"></a>Zuul</h1><p>Zuul是Netflix开源的微服务网关，它可以和Eureka、Ribbon、Hystrix等组件配合使用。Zuul的核心是一系列的<strong>过滤器</strong>，这些过滤器可以完成以下功能：</p>
<blockquote>
<p><strong>身份认证与安全</strong>：</p>
<ul>
<li>识别每个资源的验证要求，并拒绝那些与要求不符的请求。</li>
</ul>
<p><strong>审查与监控</strong>：</p>
<ul>
<li>在边缘位置追踪有意义的数据和统计结果，从而带来精确的生产视图。</li>
</ul>
<p><strong>动态路由</strong>：</p>
<ul>
<li>动态地将请求路由到不同的后端集群。</li>
</ul>
<p><strong>压力测试</strong>：</p>
<ul>
<li>逐渐增加指向集群的流量，以了解性能。</li>
</ul>
<p><strong>负载分配</strong>：</p>
<ul>
<li>为每一种负载类型分配对应的容量，并弃用超出限定值的请求。</li>
</ul>
<p><strong>静态响应处理</strong>：</p>
<ul>
<li>在边缘位置直接建立部分响应，从而避免其转发到内部集群。</li>
</ul>
<p><strong>多区域弹性</strong>：</p>
<ul>
<li>跨越AWS Region进行请求路由，旨在实现ELB（Elastic Load Balancing）使用的多样化，以及让系统的边缘更贴近系统的使用者。</li>
</ul>
</blockquote>
<h2 id="SpringCould中的Zuul"><a href="#SpringCould中的Zuul" class="headerlink" title="SpringCould中的Zuul"></a>SpringCould中的Zuul</h2><p>SpringCould对Zuul进行了整合与增强。目前，Zuul使用的默认HTTP客户端是<code>ApacheHTTPClient</code>，也可以使用<code>RestClient</code>或者<code>okhttp3.OkHttpClient</code>。可以通过设置文件修改HTTP客户端。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ribbon.restclient.enabled</span>=<span class="string">true;</span></span><br><span class="line"><span class="attr">ribbon.okhttp.enabled</span>=<span class="string">true;</span></span><br></pre></td></tr></table></figure>





<h2 id="Zuul加入后的架构"><a href="#Zuul加入后的架构" class="headerlink" title="Zuul加入后的架构"></a>Zuul加入后的架构</h2><p><img src="/2020/11/07/Zuul/1525675648881.png" alt="1525675648881"></p>
<ul>
<li><strong>不管是来自于客户端（PC或移动端）的请求，还是服务内部调用。一切对服务的请求都会经过Zuul这个网关</strong>，然后再由网关来实现 鉴权、动态路由等等操作。Zuul就是我们服务的统一入口。</li>
</ul>
<hr>
<h2 id="路由规则"><a href="#路由规则" class="headerlink" title="路由规则"></a>路由规则</h2><ul>
<li><p>映射规则</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">10010</span> <span class="comment"># 当前服务的端口号</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">api-gateway</span> <span class="comment"># 当前服务实例名</span></span><br><span class="line"></span><br><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">  	<span class="attr">user-service:</span>	<span class="comment"># 这里是自定义的路由ID</span></span><br><span class="line">  	<span class="attr">path:</span> <span class="string">/user-service/**</span> 	<span class="comment"># 定义访问路径</span></span><br><span class="line">  	<span class="attr">url:</span> <span class="string">http://127.0.0.1:8081</span>	<span class="comment"># 访问路径映射到的实际url地址</span></span><br></pre></td></tr></table></figure>

<p>我们将符合<code>path</code>规则的一切请求，都代理到<code>url</code>参数指定的地址。</p>
<p>本例中，我们将<code>/user-service/**</code>开头的请求，代理到<code>http://127.0.0.1:8081</code>。</p>
<p>此时：<code>http://localhost:10010/user-service/user/1</code> 等价于 <code>http://127.0.0.1:8081/user/1</code></p>
</li>
</ul>
<h3 id="5-1-2-面向服务的路由"><a href="#5-1-2-面向服务的路由" class="headerlink" title="5.1.2    面向服务的路由"></a>5.1.2    面向服务的路由</h3><ul>
<li>在刚才的路由规则中，我们把路径对应的服务地址写死了！如果一个服务有多个实例的话，这样做显然是不合理的。</li>
<li>我们应该根据服务的名称，去Eureka注册中心查找服务对应的所有实例列表，然后进行动态路由才对。</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加Eureka配置，拉取服务列表</span></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">	<span class="attr">registry-fetch-interval-seconds:</span> <span class="number">5</span> <span class="comment"># 获取服务列表的周期：5s</span></span><br><span class="line">  	<span class="attr">service-url:</span></span><br><span class="line">	  <span class="attr">defaultZone:</span> <span class="string">http://127.0.0.1:10086/eureka</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">	<span class="attr">prefer-ip-address:</span> <span class="literal">true</span></span><br><span class="line">	<span class="attr">ip-address:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="comment"># 修改路由映射规则，通过服务名称获取路由地址</span></span><br><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">  	<span class="attr">user-service:</span>	<span class="comment"># 路由ID，随意写</span></span><br><span class="line">  	  <span class="attr">path:</span>	<span class="string">/user-service/**</span>	<span class="comment"># 映射路径</span></span><br><span class="line">  	  <span class="attr">serviceId:</span> <span class="string">user-service</span>	<span class="comment"># 指定服务名称</span></span><br></pre></td></tr></table></figure>

<h4 id="1、简化的路由配置"><a href="#1、简化的路由配置" class="headerlink" title="1、简化的路由配置"></a>1、简化的路由配置</h4><ol>
<li><p>在上面的配置中，我们的规则是这样的：</p>
<ul>
<li><code>zuul.routes.&lt;routes&gt;.path=/xxx/**</code>：来指定映射路径。<code>&lt;routes&gt;</code>是自定义的路由名。</li>
<li><code>zuul.routes.&lt;routes&gt;.serviceId=/user-service</code>：来指定服务名。</li>
</ul>
</li>
<li><p>而大多数情况下，我们的<code>&lt;routes&gt;</code>路由名往往和服务名会定义成一样的，因此Zuul就提供了一种简化的配置语法：</p>
<ul>
<li><code>zuul.routes.&lt;serviceId&gt;=&lt;path&gt;</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">routes:</span></span><br><span class="line">  	<span class="attr">user-service:</span> <span class="string">/user-service/**</span>	<span class="comment"># 服务名称&amp;映射路径[省去了对服务名称的配置]	</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2、默认的路由规则"><a href="#2、默认的路由规则" class="headerlink" title="2、默认的路由规则"></a>2、默认的路由规则</h4><ul>
<li>在使用Zuul的过程中，上述的规则已经大大简化了配置。但是当服务较多时，配置仍是比较繁琐的，因此Zuul就指定了默认的路由规则：<ul>
<li>默认情况下，一切服务的映射路径就是服务名本身。<ul>
<li>例如服务名为：<code>user-service</code>，则默认的映射路径就是：<code>/user-service/**</code></li>
</ul>
</li>
</ul>
</li>
<li>也就是说，上面的映射规则我们完全不配置也是OK的。</li>
</ul>
<h4 id="4、路由前缀"><a href="#4、路由前缀" class="headerlink" title="4、路由前缀"></a>4、路由前缀</h4><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">prefix:</span> <span class="string">/api</span>	<span class="comment"># 添加路由前缀</span></span><br><span class="line">  <span class="attr">routes:</span> </span><br><span class="line">  	<span class="attr">user-service:</span>	<span class="comment"># 路由ID</span></span><br><span class="line">  	  <span class="attr">path:</span> <span class="string">/user-service/**</span></span><br><span class="line">  	  <span class="attr">serviceId:</span> <span class="string">user-service</span></span><br></pre></td></tr></table></figure>

<ul>
<li>我们通过<code>zuul.prefix=/api</code>来指定了路由的前缀，这样在发起请求时，路径就要以<code>/api</code>开头</li>
</ul>
<h2 id="5-2-过滤器"><a href="#5-2-过滤器" class="headerlink" title="5.2    过滤器"></a>5.2    过滤器</h2><ul>
<li>Zuul作为网关的其中一个重要功能，就是实现请求的鉴权。而这个工作往往是通过Zuul提供的过滤器来实现的。</li>
</ul>
<h2 id="5-3-负载均衡-amp-熔断"><a href="#5-3-负载均衡-amp-熔断" class="headerlink" title="5.3    负载均衡  &amp;  熔断"></a>5.3    负载均衡  &amp;  熔断</h2><ul>
<li>Zuul中默认已经集成了Ribbon负载均衡和Hystrix熔断机制。但所有的超时策略走的都是默认值，比如熔断超时时间只有1s，很容易就触发了，因此建议手动配置。</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">zuul:</span></span><br><span class="line">  <span class="attr">retryable:</span> <span class="literal">true</span>	<span class="comment"># 开启重试机制</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">ribbon:</span></span><br><span class="line">  <span class="attr">ConnectTimeout:</span> <span class="number">250</span> <span class="comment"># 连接超时时间(ms)</span></span><br><span class="line">  <span class="attr">ReadTimeout:</span> <span class="number">2000</span> <span class="comment"># 通信超时时间(ms)</span></span><br><span class="line">  <span class="attr">OkToRetryOnAllOperations:</span> <span class="literal">true</span> <span class="comment"># 是否对所有操作重试</span></span><br><span class="line">  <span class="attr">MaxAutoRetriesNextServer:</span> <span class="number">2</span> <span class="comment"># 同一服务不同实例的重试次数</span></span><br><span class="line">  <span class="attr">MaxAutoRetries:</span> <span class="number">1</span> <span class="comment"># 同一实例的重试次数</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hystrix:</span></span><br><span class="line">  <span class="attr">command:</span></span><br><span class="line">	<span class="attr">default:</span></span><br><span class="line">	  <span class="attr">execution:</span></span><br><span class="line">		<span class="attr">isolation:</span></span><br><span class="line">		  <span class="attr">thread:</span></span><br><span class="line">			<span class="attr">timeoutInMillisecond:</span> <span class="number">6000</span> <span class="comment"># 熔断超时时长：6000ms</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/07/Eureka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/07/Eureka/" class="post-title-link" itemprop="url">Eureka</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-07 21:52:34" itemprop="dateCreated datePublished" datetime="2020-11-07T21:52:34+08:00">2020-11-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-09-03 12:39:25" itemprop="dateModified" datetime="2021-09-03T12:39:25+08:00">2021-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/SpringCould/" itemprop="url" rel="index"><span itemprop="name">SpringCould</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Eureka"><a href="#Eureka" class="headerlink" title="Eureka"></a>Eureka</h1><blockquote>
<ul>
<li>  Eureka只是注册中心的一种；</li>
<li>  目前常用的还有 Nacos</li>
</ul>
</blockquote>
<h2 id="为什么要使用注册中心（Eureka能做什么）？"><a href="#为什么要使用注册中心（Eureka能做什么）？" class="headerlink" title="为什么要使用注册中心（Eureka能做什么）？"></a>为什么要使用注册中心（Eureka能做什么）？</h2><blockquote>
<p>  <strong>Before</strong></p>
</blockquote>
<ul>
<li>在微服务架构中，<code>服务提供者</code> 对外提供服务，需要对外暴露自己的地址。</li>
<li><code>服务调用者</code>需要记录<code>服务提供者</code>的地址来进行数据交互，将来地址出现变更，还需要及时更新。</li>
<li>这在服务数量较少的时候并不觉得有什么，如果一个项目中包含几十上百个微服务，此时如果还人为管理地址，将会非常麻烦。</li>
</ul>
<blockquote>
<p>  <strong>After</strong></p>
</blockquote>
<ul>
<li><code>Eureka</code>负责管理、记录<code>服务提供者</code>的信息。</li>
<li><code>服务调用者</code>无需自己寻找服务，而是把自己的需求告诉<code>Eureka</code>，然后<code>Eureka</code>会把符合需求的服务的 IP 地址告诉<code>服务调用者</code>。</li>
<li><code>服务提供者</code>与<code>Eureka</code>之间通过“心跳”机制进行监控，当某个服务提供方出现问题，Eureka自然会把它从服务列表中剔除。</li>
<li>这就实现了服务的自动注册、发现、状态监控。</li>
</ul>
<blockquote>
<p>  <strong>小总结</strong></p>
</blockquote>
<ul>
<li>  注册中心就相当于一个总控，一个“中间人”，维护一张服务列表。没有注册中心之前，<code>服务提供者</code> 和 <code>服务调用者</code> 之间是直接联系的，所以 <code>服务调用者</code> 必须知道 <code>服务提供者</code> 的IP地址，当需要调用很多个服务的时候，记录 <code>服务提供者</code> 的 IP 地址本身就是一项非常复杂的工作。而有了总控（注册中心）后，<code>服务调用者</code> 只需要记住一个 IP 地址，即“总控”的 IP 地址，并定期的从“总控”拉取最新的服务列表，然后 <code>服务调用者</code> 就可以从服务列表中选择合适的 IP 地址去调用 <code>服务提供者</code> 进行业务请求了。</li>
</ul>
<hr>
<h2 id="Eureka架构"><a href="#Eureka架构" class="headerlink" title="Eureka架构"></a>Eureka架构</h2><p><img src="/2020/11/07/Eureka/Eureka%E5%9F%BA%E7%A1%80%E6%9E%B6%E6%9E%84.png"></p>
<blockquote>
<p>Eureka架构中的三个核心角色</p>
<ul>
<li><p><strong>EurekaServer：服务注册中心</strong></p>
<p>服务注册中心可以是单点的，也可以是一个集群，对外暴露自己的地址。</p>
</li>
<li><p><strong>服务提供者</strong></p>
<p>启动后向<code>EurekaServer</code>注册自己的信息（包括地址、提供什么服务等），这些信息保存在<code>EurekaServer</code>的服务列表中。</p>
</li>
<li><p><strong>服务调用者</strong></p>
<p><code>服务调用者</code>从<code>EurekaServer</code>拉取服务列表，从中获得每个<code>服务提供者</code>的信息。就可以知道要去哪里调用<code>服务提供者</code>，并且定义定期从<code>EurekaServer</code>中更新服务列表。</p>
</li>
<li><p><strong>心跳（续约）</strong></p>
<p><code>服务提供者</code>定期通过HTTP方式向<code>EurekaServer</code>刷新自己的状态。</p>
</li>
</ul>
</blockquote>
<h2 id="Eureka组件"><a href="#Eureka组件" class="headerlink" title="Eureka组件"></a>Eureka组件</h2><h3 id="Eureka-Server：服务注册中心"><a href="#Eureka-Server：服务注册中心" class="headerlink" title="Eureka Server：服务注册中心"></a>Eureka Server：服务注册中心</h3><blockquote>
<ul>
<li>Eureka的服务端应用，提供服务注册（针对服务提供者）和发现（针对服务调用者）功能。</li>
<li>EurekaServer可以是一个集群，形成高可用的Eureka中心。</li>
</ul>
</blockquote>
<h4 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h4><ul>
<li><strong>服务同步</strong>（EurekaServer）</li>
</ul>
<blockquote>
<p>为了避免单点故障，我们一般会搭建一个Eureka集群，让多个EurekaServer之间也会互相注册为服务，当<code>服务提供者</code>注册到EurekaServer集群中的某个节点时，该节点会把服务器的信息同步给集群中的每个节点，从而实现<strong>数据同步</strong>。此时，无论客户端访问到EurekaServer集群中的哪一个节点，都可以获取到完整的服务列表信息。</p>
</blockquote>
<ul>
<li><strong>失效剔除</strong>（EurekaServer）</li>
</ul>
<blockquote>
<p>有些时候，我们的<code>服务提供者</code>并不一定会正常下线，可能因为内存溢出、网络故障等原因导致服务无法正常工作。Eureka Server需要将这样的服务剔除出服务列表。因此它会开启一个定时任务，每隔60秒对所有失效的服务（超过90秒未响应）进行剔除。</p>
<p>可以通过<code>eureka.server.eviction-interval-timer-in-ms</code>参数对其进行修改，单位是毫秒，生产环境不要修改。</p>
<p>这个会对我们开发带来极大的不变，你对服务重启，隔了60秒Eureka才反应过来。开发阶段可以适当减小。</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">  	<span class="attr">eviction-interval-timer-in-ms:</span> <span class="number">60</span><span class="string">*1000</span>	<span class="comment"># 失效剔除时间</span></span><br></pre></td></tr></table></figure>



<ul>
<li><strong>自我保护</strong>（EurekaServer）</li>
</ul>
<p>我们关停一个服务，就会在Eureka面板看到一条警告：这是触发了Eureka的自我保护机制。</p>
<p><img src="/2020/11/07/Eureka/1525618396076.png"></p>
<blockquote>
<p>当一个<code>服务提供者</code>未按时心跳续约时，Eureka会统计该服务实例最近15分钟心跳失败的比例是否超过了85%。在生产环境下，因为网络延迟等原因，心跳失败的比例很有可能超标，但此时直接把服务剔除并不妥当，因为服务可能没有宕机。Eureka就把当前实例的注册信心保护起来，不予剔除。生产环境下这很有用，保证了大多数服务依然可用。</p>
<p>但是这给我们的开发带来了麻烦，因此开发阶段我们都会关闭自我保护模式：</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">  	<span class="attr">enable-self-preservation:</span> <span class="literal">false</span>	<span class="comment"># 关闭自我保护模式（缺省为true）</span></span><br></pre></td></tr></table></figure>





<h3 id="服务提供者"><a href="#服务提供者" class="headerlink" title="服务提供者"></a>服务提供者</h3><blockquote>
<ul>
<li><p>提供服务的应用，可以是SpringBoot应用，也可以是其它任意技术实现，只要对外提供Rest风格服务（接口）即可。</p>
</li>
<li><p>服务提供者要向EurekaServer注册服务，并且完成服务续约等工作。</p>
</li>
</ul>
</blockquote>
<h4 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h4><ul>
<li><p><strong>服务注册</strong>（服务提供者）</p>
<blockquote>
<p><code>服务提供者</code>在启动时，会检测配置属性中的：<code>eureka.client.register-with-eureka=true</code>参数是否为true（默认为true）。如果值为true，则会向EurekaServer发起一个Rest请求，并携带自己的元数据信息。EurekaServer会把这些信息保存到一个双层的Map结构中，第一层Map的key就是服务名称，第二层Map的key是服务的实例ID。</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>服务续约</strong>（服务提供者）</p>
<blockquote>
<p>在注册完成以后，<code>服务提供者</code>与<code>Eureka</code>之间会维持一个”心跳”（定时向EurekaServer发送Rest请求），告诉EurekaServer：“我还活着”。我们将这个过程称为<strong>服务续约（renew）</strong>。</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span> </span><br><span class="line">  	<span class="attr">lease-expiration-duration-in-seconds:</span> <span class="number">90</span>	<span class="comment"># 服务失效时间，默认为90s</span></span><br><span class="line">    <span class="attr">lease-renewal-interval-in-seconds:</span> <span class="number">30</span>	<span class="comment"># 服务续约时间，默认为30s</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>也就是说，默认情况下每个30秒服务会向注册中心发送一次心跳，证明自己还活着。如果超过90秒没有发送心跳，EurekaServer就会认为该服务宕机，会从服务列表中移除，这两个值在生产环境不要修改，默认即可。</p>
<p>但是在开发时，这个值有点太长了，经常我们关掉一个服务，会发现Eureka依然认为服务在活着。所以我们在开发阶段可以适当调小。</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">lease-expiration-duration-in-seconds:</span> <span class="number">10</span> <span class="comment"># 10秒即过期</span></span><br><span class="line">    <span class="attr">lease-renewal-interval-in-seconds:</span> <span class="number">5</span> <span class="comment"># 5秒一次心跳</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>实例ID</strong></p>
<p>先来看一下服务状态信息：</p>
<p>在Eureka监控页面，查看服务注册信息：</p>
<p><img src="/2020/11/07/Eureka/1525617060656.png" alt="1525617060656"></p>
<p>在status一列中，显示以下信息：</p>
<ul>
<li>UP(1)：代表现在是启动了1个服务器实例，没有形成集群</li>
<li>DESKTOP-2MVEC12:user-service:8081：是实例的名称（instance-id），<ul>
<li>默认格式是：<code>$&#123;hostname&#125; + $&#123;spring.application.name&#125; + $&#123;server.port&#125;</code></li>
<li>instance-id是区分同一服务的不同实例的唯一标准，因此不能重复。</li>
</ul>
</li>
</ul>
<p>我们可以通过instance-id属性来修改它的构成：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">instance-id:</span> <span class="string">$&#123;spring.application.name&#125;:$&#123;server.port&#125;</span></span><br></pre></td></tr></table></figure>

<p>重启服务再试试看：</p>
<p><img src="/2020/11/07/Eureka/1525617542081.png" alt="1525617542081"></p>
</li>
</ul>
<h3 id="服务调用者"><a href="#服务调用者" class="headerlink" title="服务调用者"></a>服务调用者</h3><blockquote>
<p><code>服务调用者</code>从<code>服务注册中心</code>获取服务列表，从而得知每个 <code>服务提供者</code> 的信息，知道去哪里调用服务方。</p>
</blockquote>
<h4 id="功能-2"><a href="#功能-2" class="headerlink" title="功能"></a>功能</h4><ul>
<li><strong>获取服务列表</strong>（服务消费者）</li>
</ul>
<blockquote>
<p>当<code>服务消费者</code>启动时，会检测<code>eureka.client.fetch-registry=true</code>参数的值，如果为true（默认为true），则会从EurekaServer中拉取服务列表缓存在本地，并且每隔 30s 会重新获取最新的数据。我们可以通过下面的参数来进行修改：</p>
</blockquote>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">  	<span class="attr">registry-fetch-interval-seconds:</span> <span class="number">30</span>		<span class="comment"># 默认值是30s</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>生产环境中，我们不需要修改这个值。</p>
<p>但是为了开发环境下，能够快速得到服务的最新状态，我们可以将其设置小一点。</p>
</blockquote>
<hr>
<h2 id="Eureka中常见的配置信息"><a href="#Eureka中常见的配置信息" class="headerlink" title="Eureka中常见的配置信息"></a>Eureka中常见的配置信息</h2><h3 id="Eureka服务端"><a href="#Eureka服务端" class="headerlink" title="Eureka服务端"></a>Eureka服务端</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">10086</span> <span class="comment"># 当前服务的端口号</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">eureka-server</span> <span class="comment"># 当前服务的名称（ID），会在Eureka中显示</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">	<span class="attr">register-with-eureka:</span> <span class="literal">false</span> <span class="comment"># 是否注册自己的信息到EurekaServer，默认是true</span></span><br><span class="line">	<span class="attr">fetch-registry:</span> <span class="literal">false</span> <span class="comment"># 是否拉取其它服务的信息，默认是true</span></span><br><span class="line">	<span class="attr">service-url:</span> <span class="comment"># EurekaServer的地址，现在是自己的地址，如果是集群，需要加上其它Server的地址。</span></span><br><span class="line">	  <span class="attr">defaultZone:</span> <span class="string">http://127.0.0.1:$&#123;server.port&#125;/eureka</span></span><br></pre></td></tr></table></figure>

<h3 id="Eureka客户端"><a href="#Eureka客户端" class="headerlink" title="Eureka客户端"></a>Eureka客户端</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span>	<span class="comment"># 当前服务器的端口号</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">	<span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mydb01</span></span><br><span class="line">	<span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">	<span class="attr">password:</span> <span class="number">123</span></span><br><span class="line">	<span class="attr">hikari:</span></span><br><span class="line">	  <span class="attr">maximum-pool-size:</span> <span class="number">20</span>		<span class="comment"># 最大连接池数量</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">	<span class="attr">name:</span> <span class="string">user-service</span> <span class="comment"># 应用名称</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.leyou.userservice.pojo</span>	<span class="comment"># mybatis实体类包扫描并起别名[用于封装查询到的数据]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">client:</span></span><br><span class="line">	<span class="attr">service-url:</span> <span class="comment"># EurekaServer服务器的地址，多个地址以 [，] 隔开</span></span><br><span class="line">	  <span class="attr">defaultZone:</span> <span class="string">http://127.0.0.1:10086/eureka,http://127.0.0.1:10087/eureka</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">	<span class="attr">prefer-ip-address:</span> <span class="literal">true</span> <span class="comment"># 当调用getHostname获取实例的hostname时，返回ip而不是host名称</span></span><br><span class="line">	<span class="attr">ip-address:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>   <span class="comment"># 指定自己的ip信息，不指定的话会自己寻找</span></span><br><span class="line">	<span class="attr">lease-expiration-duration-in-seconds:</span> <span class="number">90</span>	<span class="comment"># 默认值，服务失效时间</span></span><br><span class="line">	<span class="attr">lease-renewal-interval-in-seconds:</span> <span class="number">30</span>	<span class="comment"># 默认值，服务续约间隔时间</span></span><br><span class="line">	<span class="attr">registry-fetch-interval-seconds:</span> <span class="number">30</span> 	<span class="comment"># 默认值，注册列表拉取时间间隔</span></span><br><span class="line">  <span class="attr">server:</span></span><br><span class="line">	<span class="attr">enable-self-preservation:</span> <span class="literal">false</span> <span class="comment"># 自我保护（缺省为打开）</span></span><br><span class="line">	<span class="attr">eviction-interval-timer-in-ms:</span> <span class="number">1000</span> <span class="comment"># 失效剔除（缺省为60*1000ms）</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>不用指定<code>register-with-eureka</code>和<code>fetch-registry</code>，因为默认是true。</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/07/Hystrix/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/07/Hystrix/" class="post-title-link" itemprop="url">Hystrix</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-07 18:35:19" itemprop="dateCreated datePublished" datetime="2020-11-07T18:35:19+08:00">2020-11-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-09-03 15:29:32" itemprop="dateModified" datetime="2021-09-03T15:29:32+08:00">2021-09-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/SpringCould/" itemprop="url" rel="index"><span itemprop="name">SpringCould</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix/wiki">Hystrix官方文档</a></li>
</ul>
<h1 id="雪崩效应"><a href="#雪崩效应" class="headerlink" title="雪崩效应"></a>雪崩效应</h1><p>分布式系统环境下，<strong>服务间的依赖</strong>非常常见，一个服务调用通常依赖多个基础服务。</p>
<p>如下图，当库存服务不可用时，商品服务的请求库存服务的线程就会被阻塞，当有大批量请求调用库存服务时，这些所有的请求就都会被阻塞，最终可能导致整个商品服务的资源被耗尽（主要是线程池资源，虽然库存服务不可用，但是每个商品服务的请求还会占用一个线程，并且因为不会获取到响应，也就不会归还线程，这样当线程池资源耗尽时商品服务就会被阻塞），无法继续对外提供服务。并且这种不可用可能沿请求调用链向上传递，这种现象称为<strong>雪崩效应</strong>。</p>
<p><img src="/2020/11/07/Hystrix/%E9%9B%AA%E5%B4%A9%E6%95%88%E5%BA%94.png"></p>
<h2 id="雪崩效应的常见场景"><a href="#雪崩效应的常见场景" class="headerlink" title="雪崩效应的常见场景"></a>雪崩效应的常见场景</h2><blockquote>
<ul>
<li>硬件故障</li>
<li>流量激增</li>
<li>缓存穿透</li>
<li>程序BUG</li>
<li>同步等待</li>
</ul>
</blockquote>
<h2 id="雪崩效应的应对策略"><a href="#雪崩效应的应对策略" class="headerlink" title="雪崩效应的应对策略"></a>雪崩效应的应对策略</h2><p>针对造成雪崩效应的不同场景，可以使用不同的应对策略，没有一种通用所有场景的策略。</p>
<blockquote>
<p>  <strong>小总结</strong></p>
</blockquote>
<ul>
<li>  <strong>如果一个应用不能对（服务间的）依赖故障进行隔离，那该应用本身就处在被拖垮的风险中。</strong>            </li>
<li>  因此，为了构建稳定、可靠的分布式系统，我们的服务应当具有自我保护能力，当依赖的服务不可用时，当前服务启动自我保护功能，从而避免发生雪崩效应。</li>
</ul>
<hr>
<h1 id="Hystrix"><a href="#Hystrix" class="headerlink" title="Hystrix"></a>Hystrix</h1><p>Hystrix，中文含义是豪猪。因其背上长满棘刺，从而有了自我保护能力。            SpringCould中的Hystrix是Netflix一款开源的容错框架，同样具有自我保护能力。</p>
<p>Hystrix的设计目标：</p>
<blockquote>
<ul>
<li>对来自依赖的延迟和故障进行防护和控制（这些依赖通常是通过网络访问的）</li>
<li>阻止故障的连锁反应</li>
<li>快速失败并迅速恢复</li>
<li>回退并优雅降级</li>
<li>提供实时的监控与示警</li>
</ul>
</blockquote>
<p>Hystrix遵循的设计原则：</p>
<blockquote>
<ul>
<li>防止任何单独的依赖耗尽资源（主要是线程资源）</li>
<li>过载立即切断并快速失败，防止排队</li>
<li>尽可能提供回退以保护用户免受故障</li>
<li>使用隔离技术来限制一个依赖的影响</li>
<li>通过近实时的指标、监控和示警，确保故障被及时发现</li>
<li>通过动态修改配置属性，确保故障及时恢复</li>
<li>防止整个依赖客户端执行失败，而不仅仅是网络通信</li>
</ul>
</blockquote>
<p>Hystrix如何实现这些设计目标？</p>
<blockquote>
<ul>
<li>使用命令模式将所有对外部服务（或依赖关系）的调用包装在<code>HystrixCommand</code>或<code>HystrixObservableCommand</code>对象中，并将该对象放在单独的线程中执行；[没看懂…]</li>
<li>每个依赖关系都维护着一个线程池，线程池被耗尽则拒绝请求（而不是让请求排队）</li>
<li>记录请求成功、失败、超时和线程拒绝</li>
<li>服务错误百分比超过了阈值，熔断器开关自动打开，一段时间内停止对该服务的所有请求</li>
<li>请求失败、被拒绝、超时或熔断时执行降级逻辑</li>
<li>近实时的监控指标和配置的修改</li>
</ul>
</blockquote>
<h1 id="Hystrix处理流程"><a href="#Hystrix处理流程" class="headerlink" title="Hystrix处理流程"></a>Hystrix处理流程</h1><p><img src="/2020/11/07/Hystrix/hystrix%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B%E5%9B%BE.png"></p>
<p>Hystrix的整个工作流程如下：</p>
<blockquote>
<ol>
<li>构造一个<code>HystrixCommand</code>或<code>HystrixObservableCommand</code>对象，用于封装请求，并在构造方法中配置请求被执行需要的参数；</li>
<li>执行命令，Hystrix提供了4种执行命令的方法，后面详述；</li>
<li>判断是否要使用缓存响应请求，若启动了缓存且缓存可用，则直接使用缓存响应请求。[Hystrix支持请求缓存，但需要用户自定义启动]</li>
<li>判断熔断器是否打开，如果打开，则跳到第8步；</li>
<li>判断线程池/队列/信号量是否已满，已满则跳到第8步；</li>
<li>执行<code>HystrixCommand.run()</code>或<code>HystrixObservableCommand.construct()</code>，如果执行失败或超时，跳到第8步，否则跳到第9步；</li>
<li>统计熔断器监控指标；</li>
<li>执行FallBack备用逻辑；</li>
<li>返回请求响应。</li>
</ol>
<p>从流程图上可知，第5步线程池/队列/信号量已满时，还会执行第7步逻辑，更新熔断器的统计信息，而第6步无论成功与否，都会执行第7步逻辑，更新熔断器统计信息。</p>
</blockquote>
<h1 id="Hystrix容错"><a href="#Hystrix容错" class="headerlink" title="Hystrix容错"></a>Hystrix容错</h1><p>Hystrix的容错主要是通过添加允许延迟和容错方法，帮助控制这些分布式服务之间的交互。            还通过隔离服务之间的访问点，阻止它们之间的级联故障以及回退选项来实现这一点，从而提高系统的整体弹性。            Hystrix主要提供了以下几种容错方法：</p>
<ul>
<li>资源隔离</li>
<li>熔断</li>
<li>降级</li>
</ul>
<p>下面我们详细了解一下这几种容错机制。</p>
<hr>
<h2 id="资源隔离"><a href="#资源隔离" class="headerlink" title="资源隔离"></a>资源隔离</h2><blockquote>
<p>资源隔离主要指对线程的隔离。Hystrix提供了2种线程隔离方式：线程池和信号量</p>
</blockquote>
<h3 id="线程隔离——线程池"><a href="#线程隔离——线程池" class="headerlink" title="线程隔离——线程池"></a>线程隔离——线程池</h3><h3 id="线程隔离——信号量"><a href="#线程隔离——信号量" class="headerlink" title="线程隔离——信号量"></a>线程隔离——信号量</h3><hr>
<h2 id="熔断"><a href="#熔断" class="headerlink" title="熔断"></a>熔断</h2><h3 id="熔断器简介"><a href="#熔断器简介" class="headerlink" title="熔断器简介"></a>熔断器简介</h3><p>在现实生活中，家用电路中都会安装一个保险盒，当负载过载时，保险盒中的保险丝就会自动熔断，保护下游部件不被烧毁。            Hystrix中的熔断器（Circuit Breaker）也是起类似作用。Hystrix在运行过程中回向每个CommandKey对应的熔断器报告成功、失败、超时和拒绝的状态，熔断器维护并统计这些数据，并根据这些信息来决策熔断器是否打开。如果打开，则熔断后续请求，快速返回。            隔一段时间后熔断器尝试半开，放一部分流量请求进来，相当于对依赖服务做一次健康检查，如果请求成功熔断器关闭。</p>
<h3 id="熔断器配置"><a href="#熔断器配置" class="headerlink" title="熔断器配置"></a>熔断器配置</h3><p>熔断器主要包括以下6个参数：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">参数</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center"><code>circuitBreaker.enabled</code></td>
<td align="center">是否启用熔断器，默认true</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><code>circuitBreaker.forceOpen</code></td>
<td align="center">强制打开熔断器，默认false</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><code>circuitBreaker.forceClosed</code></td>
<td align="center">强制关闭熔断器，默认false</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><code>circuitBreaker.errorThresholdPercentage</code></td>
<td align="center">错误率阈值，默认值是50%</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><code>circuitBreaker.requestVolumeThreshold</code></td>
<td align="center">统计请求的最小数量，默认值是20</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"><code>circuitBreaker.sleepWindowMillseconds</code></td>
<td align="center">半开状态试探睡眠时间，默认值5000ms</td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li><code>circuitBreaker.errorThresholdPercentage</code>是错误率的阈值，例如一段时间内有100个请求，其中有54个超时或异常，那么这段时间内的错误率就是54%，大于阈值50%，这种情况下就会触发熔断器打开。</li>
<li><code>circuitBreaker.requestVolumeThreshold</code>的含义是：一段时间内至少有20个请求才能进行<code>errorThresholdPercentage</code>计算，如果一段时间内只有19个请求，并且这些请求全都失败了，错误率是100%，但是熔断器仍不会打开，因为总请求数不满20。</li>
<li><code>circuitBreaker.sleepWindowMillseconds</code>的含义是：当熔断器开启5000s之后，会尝试放一部分流量过去进行试探，确定依赖服务是否恢复。</li>
</ul>
</blockquote>
<h3 id="熔断器工作原理"><a href="#熔断器工作原理" class="headerlink" title="熔断器工作原理"></a>熔断器工作原理</h3><p><img src="/2020/11/07/Hystrix/%E7%86%94%E6%96%AD%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.png"></p>
<p>熔断器的工作流程如下：</p>
<blockquote>
<ol>
<li>调用<code>allowRequest()</code>判断是否允许将请求提交到线程池：<ul>
<li>如果熔断器强制打开，不允许放行，返回；</li>
<li>如果熔断器强制关闭，允许放行。此外不需要再关注熔断器的实际状态，也就是说熔断器仍会维护统计数据和开关状态，但是不生效。</li>
</ul>
</li>
<li>调用<code>isOpen()</code>判断熔断器开关是否打开：<ul>
<li>1）如果熔断器打开，进入第3步，否则继续；</li>
<li>2）如果一个周期内总的请求数小于<code>circuitBreaker.requestVolumeThreshold</code>的值，允许请求放行，否则进入3)；</li>
<li>3）如果一个周期内错误率小于<code>circuitBreaker.errorThresholdPercentage</code>的值，允许请求放行。否则，打开熔断器开关，进入第3步。</li>
</ul>
</li>
<li>调用<code>allowSingleTest()</code>判断是否允许单个请求通行，检查依赖服务是否恢复。<ul>
<li>1）如果熔断器打开，且距离熔断器打开的时间或上一次试探请求放行的时间超过<code>circuitBreaker.sleepWindowMillseconds</code>，熔断器进入半开状态，允许放行一个试探请求；否则，不允许放行。</li>
</ul>
</li>
</ol>
</blockquote>
<h2 id="回退降级"><a href="#回退降级" class="headerlink" title="回退降级"></a>回退降级</h2><p>降级，通常是指服务高峰期，为了保证核心服务的正常运行，需要停掉一些不太重要的业务，或者某些服务不可用时，执行备用逻辑从故障服务中快速失败或快速返回，以保障主体业务不受影响。            Hystrix提供的降级服务主要是为了容错，保证当前服务不受依赖服务故障的影响，从而提高服务的健壮性。            要支持回退或降级处理，可以重写<code>HystrixCommand</code>中的<code>getFallBack()</code>方法或<code>HystrixObservableCommand</code>中的<code>resumeWithFallBack()</code>方法。</p>
<p>Hystrix会在以下几种情况下执行降级逻辑：</p>
<blockquote>
<ul>
<li>执行<code>construct()</code>或<code>run()</code>抛出异常</li>
<li>熔断器打开导致命令断路</li>
<li>命令的线程池或信号量的容量超额，命令被拒绝</li>
<li>命令执行超时</li>
</ul>
</blockquote>
<ol>
<li>正常工作的情况下，客户端请求调用服务API接口：</li>
</ol>
<p><img src="/2020/11/07/Hystrix/1525658906255.png" alt="1525658906255"></p>
<ol start="2">
<li>当有服务出现异常时，直接进行失败回滚，服务降级处理：</li>
</ol>
<p><img src="/2020/11/07/Hystrix/1525658983518.png" alt="1525658983518"></p>
<blockquote>
<p>当服务繁忙时，如果服务出现异常，不是粗暴的直接报错，而是返回一个友好的提示，虽然拒绝了用户的访问，但是会返回一个结果。</p>
<p>这就好比去买鱼，平常超市买鱼会额外赠送杀鱼的服务。等到逢年过节，超时繁忙时，可能就不提供杀鱼服务了，这就是服务的降级。</p>
<p>系统特别繁忙时，一些次要服务暂时中断，优先保证主要服务的畅通，一切资源优先让给主要服务来使用，在双十一、618时，京东天猫都会采用这样的策略。</p>
</blockquote>
<h3 id="降级回退方式"><a href="#降级回退方式" class="headerlink" title="降级回退方式"></a>降级回退方式</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/03/HTTP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/03/HTTP%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">HTTP协议</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-11-03 21:56:34" itemprop="dateCreated datePublished" datetime="2020-11-03T21:56:34+08:00">2020-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-10-13 09:15:03" itemprop="dateModified" datetime="2021-10-13T09:15:03+08:00">2021-10-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1、相关概念"><a href="#1、相关概念" class="headerlink" title="1、相关概念"></a>1、相关概念</h1><blockquote>
<p>  什么是协议？</p>
</blockquote>
<p>协议是指双方或多方相互约定好，大家都需要遵循的规则。</p>
<blockquote>
<p>  HTTP：<code>Hyper Text Transfer Protocol</code>     超文本传输协议</p>
</blockquote>
<p>所谓 HTTP 协议，就是指：两台或多台计算机通信时，传输数据时需要遵守的规则。</p>
<p>HTTP协议中的数据又叫做报文。</p>
<blockquote>
<p>  HTTP协议的特点：</p>
</blockquote>
<ol>
<li>HTTP 协议是基于 TCP/IP 的高级协议</li>
<li>默认端口号：80</li>
<li>基于<strong>请求/响应模型</strong>：一次请求对应一次响应。<ul>
<li>客户端浏览器访问服务器端的网页，假设一个页面上有很多内容，如图片、CSS 样式、HTML静态资源、JS样式等。这些内容不是一次请求就全部响应加载出来的，而是多次请求多次响应的过程。</li>
</ul>
</li>
<li>无状态的：<ul>
<li>每次请求之间相互独立，不能交互数据。</li>
</ul>
</li>
</ol>
<blockquote>
<p>  HTTP 协议的历史版本</p>
</blockquote>
<ul>
<li>HTTP 1.0 ：每次请求都会建立新的连接。(这里的连接指的是 TCP 连接，因为 HTTP 底层是 TCP 协议)<ul>
<li>  每次请求得到响应，获取资源后，都会将连接释放，下次请求会建立新的连接，周而复始。</li>
</ul>
</li>
<li>HTTP 1.1 ：复用连接<ul>
<li>  第一次请求得到响应后，在计时器未超时之前，保持与该网页服务器的连接，继续访问无需重新建立连接。</li>
</ul>
</li>
</ul>
<hr>
<h1 id="2、请求"><a href="#2、请求" class="headerlink" title="2、请求"></a>2、请求</h1><p>客户端给服务器发送数据叫请求。服务器给客户端回传数据叫做响应。</p>
<p>HTTP有 9 种请求方式，常用的有2种：</p>
<table>
<thead>
<tr>
<th align="center">请求方式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>GET</strong></td>
<td>查</td>
</tr>
<tr>
<td align="center"><strong>POST</strong></td>
<td>改</td>
</tr>
<tr>
<td align="center"><strong>PUT</strong></td>
<td>增</td>
</tr>
<tr>
<td align="center"><strong>DELETE</strong></td>
<td>删</td>
</tr>
<tr>
<td align="center">HEAD</td>
<td></td>
</tr>
<tr>
<td align="center">PATCH</td>
<td></td>
</tr>
<tr>
<td align="center">OPTIONS</td>
<td></td>
</tr>
<tr>
<td align="center">CONNECT</td>
<td></td>
</tr>
<tr>
<td align="center">TRACE</td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>  <strong>GET</strong>：</p>
</blockquote>
<ol>
<li>请求参数在请求行中，位置在 URL 之后【请求参数是请求消息的一部分，比如登录界面的账号、密码信息等】</li>
<li>请求参数是有长度限制的【因为把请求参数都算作 URL 长度】</li>
<li>安全性较差。</li>
</ol>
<blockquote>
<p>  <strong>POST</strong>：</p>
</blockquote>
<ol>
<li>请求参数被封装在请求体中。</li>
<li>请求参数没有长度限制。</li>
<li>相对安全。</li>
</ol>
<p><strong>GET 和 POST 请求的区别：</strong></p>
<ul>
<li><p>使用上的区别</p>
<ol>
<li> GET 请求使用 URL 或 Cookie 传参，而 POST 一般将请求数据放在请求体中（当然也可以放在 cookie 中）。</li>
<li> GET 请求将请求参数放在请求行中，而请求行是有长度限制的，所以说请求参数也是有长度限制的，而 POST 请求将请求数据放在请求体中，容量非常大。</li>
<li> POST 比 GET 安全，因为数据在地址栏上不可见。</li>
</ol>
</li>
<li><p>本质区别：</p>
<ol>
<li> GET 和 POST 最大的区别在于 GET 请求是<strong>幂等性</strong>的，而 POST 请求不是。</li>
</ol>
<blockquote>
<p>  幂等性：幂等性是指一次和多次请求某一个资源应该具有同样的效果。即一个方法重复执行多次，产生的效果是一样的。</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="2-1、GET请求格式"><a href="#2-1、GET请求格式" class="headerlink" title="2.1、GET请求格式"></a>2.1、GET请求格式</h2><ol>
<li><p>请求行</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET	/demo.html HTTP/1.1</span><br><span class="line">	- GET：请求方式</span><br><span class="line">	- demo.html：请求路径[+?+请求参数]	// 与POST请求不同，请求参数直接拼接在请求路径上</span><br><span class="line">	- HTTP/1.1：协议/版本号</span><br></pre></td></tr></table></figure></li>
<li><p>请求头</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式：[key:value]</span><br><span class="line">	不同的键值对，表示不同的含义</span><br></pre></td></tr></table></figure></li>
<li><p>示例</p>
<p><img src="/2020/11/03/HTTP%E5%8D%8F%E8%AE%AE/image-20200519085300180-1597652154013.png" alt="image-20200519085300180"></p>
</li>
</ol>
<h2 id="2-2、POST请求格式"><a href="#2-2、POST请求格式" class="headerlink" title="2.2、POST请求格式"></a>2.2、POST请求格式</h2><ol>
<li><p><strong>请求行</strong></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST/demo.html HTTP/1.1</span><br><span class="line">	- POST：请求方式</span><br><span class="line">	- demo.html：请求路径</span><br><span class="line">	- HTTP/1.1：协议/版本号</span><br></pre></td></tr></table></figure></li>
<li><p><strong>请求头</strong></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式：[key:value]</span><br><span class="line">	不同的键值对，表示不同的含义</span><br></pre></td></tr></table></figure></li>
<li><p>请求空行</p>
<ul>
<li>功能：用于分隔POST请求的请求头和请求体。</li>
</ul>
</li>
<li><p>请求体（正文）</p>
<ul>
<li>功能：用于封装请求参数，里面保存着发送给服务器的数据</li>
</ul>
</li>
<li><p>示例</p>
<p><img src="/2020/11/03/HTTP%E5%8D%8F%E8%AE%AE/image-20200519091906540-1597652154013.png" alt="image-20200519091906540"></p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/login.html</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>localhost</span><br><span class="line"><span class="attribute">User-Agent</span><span class="punctuation">: </span>Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0</span><br><span class="line"><span class="attribute">Accept</span><span class="punctuation">: </span>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line"><span class="attribute">Accept-Language</span><span class="punctuation">: </span>zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><br><span class="line"><span class="attribute">Accept-Encoding</span><span class="punctuation">: </span>gzip, deflate</span><br><span class="line"><span class="attribute">Referer</span><span class="punctuation">: </span>http://localhost/login.html</span><br><span class="line"><span class="attribute">Connection</span><span class="punctuation">: </span>keep-alive</span><br><span class="line"><span class="attribute">Upgrade-Insecure-Requests</span><span class="punctuation">: </span>1</span><br><span class="line"># 请求空行</span><br><span class="line"># 请求体</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="2-3、常用的请求头说明"><a href="#2-3、常用的请求头说明" class="headerlink" title="2.3、常用的请求头说明"></a>2.3、常用的请求头说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1.Host: &quot;发起请求的浏览器所在的主机的IP地址&quot;</span><br><span class="line">    </span><br><span class="line">2.User-Agent：&quot;发起请求的浏览器的版本信息[包括浏览器的名称、版本等]&quot;</span><br><span class="line">    -- 在服务器端获取该信息，可以针对不同的浏览器的进行不同的适配处理</span><br><span class="line">    </span><br><span class="line">3.Accept: &quot;告诉服务器可以接收的返回值的数据类型有哪些&quot;</span><br><span class="line">    </span><br><span class="line">4.Accept-Language: &quot;告诉服务器可以接收的语言类型有哪些&quot;</span><br><span class="line"></span><br><span class="line">5.Accept-Encoding: &quot;告诉服务器可以解析哪些压缩/编码格式&quot;</span><br><span class="line">    </span><br><span class="line">6.Referer：&quot;告诉服务器，当前请求从哪里来？[请求发起时，浏览器地址栏中的地址]&quot;</span><br><span class="line">    -- 作用：1、防盗链		2、统计工作</span><br><span class="line">    </span><br><span class="line">7.Connection: keep-alive 	-- 告诉服务器：当前的状态是每次响应后保持连接状态</span><br><span class="line">  </span><br><span class="line">8.Upgrade-Insecure-Requests: 1		-- 升级相关</span><br><span class="line"></span><br><span class="line">9.Content-Type：&quot;表示发送的数据类型（MIME类型）&quot;</span><br><span class="line">    -- application/x-www-form-urlencoded</span><br><span class="line">    	# 表示以键值对的格式发送请求数据（数据封装在请求体中）。如：name1=value1&amp;name2=value2，然后对其进行url编码</span><br><span class="line">    	# url编码是把非英文的内容转换为：%xx%xxx 的格式</span><br><span class="line">    -- multipart/form-data</span><br><span class="line">    	# 表示以多段的形式提交数据给服务器（以流的形式提交，用于上传）</span><br><span class="line">    </span><br><span class="line">10.Content-Length：&quot;表示发送的数据的长度&quot;</span><br><span class="line">    </span><br><span class="line">11.Cache-Control：&quot;表示如何控制缓存&quot; </span><br><span class="line">	-- no-cache 不缓存</span><br></pre></td></tr></table></figure>







<h2 id="2-4、常见的GET-POST请求方式？"><a href="#2-4、常见的GET-POST请求方式？" class="headerlink" title="2.4、常见的GET/POST请求方式？"></a>2.4、常见的GET/POST请求方式？</h2><blockquote>
<p>GET请求：</p>
<ol>
<li><code>&lt;form&gt;</code>标签中 method=get</li>
<li><code>&lt;a&gt;</code>标签</li>
<li><code>&lt;link&gt;</code>标签引入CSS</li>
<li><code>&lt;Script&gt;</code>标签引入JS文件</li>
<li><code>&lt;img&gt;</code>标签引入图片</li>
<li><code>iframe</code>引入HTML页面</li>
<li>在浏览器地址栏中输入地址后敲回车</li>
</ol>
<p>POST请求：</p>
<ol>
<li><code>&lt;form&gt;</code>标签中 method=post</li>
</ol>
</blockquote>
<hr>
<h1 id="3、响应"><a href="#3、响应" class="headerlink" title="3、响应"></a>3、响应</h1><h2 id="3-1、HTTP-协议响应消息的格式"><a href="#3-1、HTTP-协议响应消息的格式" class="headerlink" title="3.1、HTTP 协议响应消息的格式"></a>3.1、HTTP 协议响应消息的格式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>响应行</span><br><span class="line">    （<span class="number">1</span>）响应的协议/版本号	<span class="comment">// HTTP/1.1</span></span><br><span class="line">    （<span class="number">2</span>）响应状态码		<span class="comment">// 200(成功)</span></span><br><span class="line">    （<span class="number">3</span>）响应状态描述符		<span class="comment">// OK</span></span><br><span class="line"><span class="number">2.</span>响应头</span><br><span class="line">    [key：value]		<span class="comment">// 不同的响应头，有不同的含义</span></span><br><span class="line">    </span><br><span class="line"><span class="number">3.</span>响应空行</span><br><span class="line">    </span><br><span class="line"><span class="number">4.</span>响应体		<span class="comment">// 就是回传给客户端的数据</span></span><br></pre></td></tr></table></figure>

<p><img src="/2020/11/03/HTTP%E5%8D%8F%E8%AE%AE/image-20200519100620160-1597652154014.png" alt="image-20200519100620160"></p>
<h2 id="3-2、常见的响应状态码"><a href="#3-2、常见的响应状态码" class="headerlink" title="3.2、常见的响应状态码"></a>3.2、常见的响应状态码</h2><p><strong>状态码分类（5大类）：</strong></p>
<blockquote>
<p><strong>1xx：</strong></p>
</blockquote>
<ul>
<li>服务器接收到了客户端的请求，但是没有接收完整，等待一段时间之后，发送1xx状态码给客户端。</li>
<li>客户端发送的请求数据不完整或者在传输过程中部分数据丢失，导致服务器一直处于等待请求数据的状态。直到等待的时间大于超时时间后，就会给向客户端响应 1xx 状态码表示请求数据不完整。</li>
</ul>
<blockquote>
<p><strong>2xx：</strong></p>
</blockquote>
<ul>
<li>客户端请求消息和服务器端响应消息都成功时返回2xx状态码表示成功。</li>
</ul>
<blockquote>
<p><strong>3xx</strong></p>
</blockquote>
<ul>
<li>重定向：<ul>
<li>301（永久重定向）：请求的网页已经永久移动到了新位置，当返回 301 状态码时请求者应该将请求 URL 改为新的 URL。</li>
<li>302（临时重定向）：服务器目前从新的网页响应请求，但是请求者接下来的请求应该继续使用原 URL。</li>
</ul>
</li>
<li>304（访问缓存）</li>
</ul>
<blockquote>
<p><strong>4xx</strong></p>
</blockquote>
<ul>
<li>客户端请求发生了错误</li>
<li>400：客户端请求语法错误</li>
<li>403：服务器收到请求，但拒绝提供服务。</li>
<li>404：（未找到）服务器找不到请求的资源</li>
<li>405：客户端发送请求的方式与服务器规定的请求方式不一致！    如：在服务器中规定某个请求的请求方式是 POST 请求，而客户端却已 GET 的方式提交请求，这时就会出现405错误。</li>
</ul>
<blockquote>
<p><strong>5xx</strong></p>
</blockquote>
<ul>
<li>服务器内部错误</li>
</ul>
<h3 id="301-和-302-的区别"><a href="#301-和-302-的区别" class="headerlink" title="301 和 302 的区别"></a>301 和 302 的区别</h3><hr>
<h2 id="3-3、常见的响应头"><a href="#3-3、常见的响应头" class="headerlink" title="3.3、常见的响应头"></a>3.3、常见的响应头</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.Content-Type: &quot;服务器告诉客户端本次响应体的响应数据类型（MIME类型）&quot;</span><br><span class="line"></span><br><span class="line">2.Content-Length: &quot;服务器告诉客户端本次响应体的长度&quot;</span><br><span class="line"></span><br><span class="line">3.Content-disposition: &quot;服务器告诉客户端以什么格式打开响应体数据&quot;</span><br><span class="line">  -- props:</span><br><span class="line">  -- 	1. in-line	：默认值，在当前页面打开</span><br><span class="line">  -- 	2. attachment；filename=xxx	：以附件形式打开响应体。【文件下载】</span><br></pre></td></tr></table></figure>





<h2 id="3-4、响应体"><a href="#3-4、响应体" class="headerlink" title="3.4、响应体"></a>3.4、响应体</h2><ul>
<li><p>传输的数据【最终被浏览器解析展示在页面上】</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">title</span>&gt;</span>$Title$<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    	hello , response</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<hr>
<h1 id="4、HTTP-长连接和短连接"><a href="#4、HTTP-长连接和短连接" class="headerlink" title="4、HTTP 长连接和短连接"></a>4、HTTP 长连接和短连接</h1><p><strong>短连接</strong></p>
<ul>
<li>  在 <code>HTTP/1.0</code> 中，默认使用的是短连接。也就是说，浏览器和服务器每进行一次 HTTP 请求，就建立一次 TCP 连接，任务结束就释放连接。</li>
<li>  如果客户端浏览器访问的某个页面中包含有其它 Web 资源，如 JavaScript 文件、图像文件、CSS文件等，当浏览器每遇到这样一个Web 资源，就会新发起一个 HTTP 请求，新建一个 TCP 连接。</li>
</ul>
<p><strong>长连接</strong></p>
<ul>
<li>  从 <code>HTTP/1.1</code> 起，默认使用长连接，用以保持连接特性。</li>
<li>  使用长连接的 HTTP 协议，会在响应头有加入一行代码：<strong>Connection:keep-alive</strong></li>
<li>  在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的连接。Keep-Alive 不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间。</li>
<li>  实现长连接要客户端和服务端都支持长连接。</li>
</ul>
<p><strong>总结：</strong></p>
<ul>
<li>  HTTP 协议的长连接和短连接，实质上是 TCP 协议的长连接和短连接。</li>
</ul>
<hr>
<h1 id="5、HTTP1-0-和-HTTP1-1-的区别"><a href="#5、HTTP1-0-和-HTTP1-1-的区别" class="headerlink" title="5、HTTP1.0 和 HTTP1.1 的区别"></a>5、HTTP1.0 和 HTTP1.1 的区别</h1><ol>
<li> <strong>支持长连接</strong></li>
</ol>
<p><code>HTTP/1.1</code> 支持长连接（Persistent Connection），在一个 TCP 连接上可以传送多个 HTTP 请求和响应，减少了建立和关闭连接的消耗和延迟。</p>
<p><code>HTTP/1.1</code> 中默认开启长连接 <code>Connection: keep-alive</code>，一定程度上弥补了 <code>HTTP/1.0</code> 每次请求都要创建连接的缺点。</p>
<ol start="2">
<li> <strong>错误通知的管理</strong></li>
</ol>
<p>在 <code>HTTP/1.1</code> 中新增了 24 个错误状态响应码。如 409（Conflict）表示请求的资源与资源的当前状态发生冲突；410（Gone）表示服务器上的某个资源被永久性的删除。</p>
<ol start="3">
<li> <strong>Host 头处理</strong></li>
</ol>
<p>在 <code>HTTP/1.0</code> 中认为每台服务器都绑定一个唯一的 IP 地址，因此请求消息中的 URL 并没有传递主机名（<strong>hostname</strong>）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机（Multi-homed Web Servers），并且它们共享一个IP地址。所以 <code>HTTP/1.1</code> 的请求消息和响应消息都支持 Host 头域，且请求消息中如果没有 Host 头域会报告一个错误（400 Bad Request）。</p>
<hr>
<h1 id="6、MINE-类型数据"><a href="#6、MINE-类型数据" class="headerlink" title="6、MINE 类型数据"></a>6、MINE 类型数据</h1><blockquote>
<p>通过上面的学习，我们会发现无论是在请求头中还是响应头中都有一个 <strong>Content-Type</strong> 属性，这个属性在开发中非常有用。比较常见的文件上传就是利用这个属性来实现的。[文件下载则通过响应头中的另一个属性 <strong>Content-disposition</strong> 来实现。]</p>
</blockquote>
<blockquote>
<p>请求头/响应头都是通过键值对来保存数据的，<code>Content-Type</code> 作为一个键值对的 Key ，而它对应的 Value 就是我们下面要讲的 MIME 类型数据！！！</p>
</blockquote>
<h2 id="MIME类型说明"><a href="#MIME类型说明" class="headerlink" title="MIME类型说明"></a>MIME类型说明</h2><blockquote>
<p>MIME：</p>
</blockquote>
<p>Multipurpose Internet Mail Extensions</p>
<blockquote>
<p>概念：</p>
</blockquote>
<p>MIME 是<strong>描述消息内容类型的因特网标准</strong>。MIME 消息类型包含文本、图像、音频、视频以及其他应用程序专用的数据。</p>
<blockquote>
<p>格式：</p>
</blockquote>
<p>MIME类型的格式：<strong>大类型/小类型</strong>，并与某一种文件扩展名相对应。</p>
<blockquote>
<p>常见的MIME类型：</p>
</blockquote>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center">文件</th>
<th align="center">文件后缀名</th>
<th align="center">MIME类型</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">超文本标记语言</td>
<td align="center">.html || .htm</td>
<td align="center">text/html</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">普通文本</td>
<td align="center">.txt</td>
<td align="center">text/plain</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">RTF文本（类似于Word文档）</td>
<td align="center">.rtf</td>
<td align="center">application/rtf</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">GIF图形</td>
<td align="center">.gif</td>
<td align="center">image/img</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">JPEG图形</td>
<td align="center">.jpeg || .jpg</td>
<td align="center">image/jpeg</td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">au声音文件</td>
<td align="center">.au</td>
<td align="center">auto/basic</td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">MIDI音乐文件</td>
<td align="center">.mid || .midi</td>
<td align="center">audio/midi || audio/x-midi</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">RealAudio音乐文件</td>
<td align="center">.ra || .ram</td>
<td align="center">video/mpeg</td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">MPEG文件</td>
<td align="center">.mpg || .mpeg</td>
<td align="center">video/mpeg</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">AVI文件</td>
<td align="center">.avi</td>
<td align="center">video/x-msvideo</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">GZIP文件</td>
<td align="center">.gz</td>
<td align="center">application/x-gzip</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">TAR文件</td>
<td align="center">.tar</td>
<td align="center">application/x-tar</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="post-title-link" itemprop="url">计算机网络</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-29 10:21:52" itemprop="dateCreated datePublished" datetime="2020-10-29T10:21:52+08:00">2020-10-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-09-02 10:18:44" itemprop="dateModified" datetime="2021-09-02T10:18:44+08:00">2021-09-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" itemprop="url" rel="index"><span itemprop="name">计算机网络</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="计算机网络体系结构"><a href="#计算机网络体系结构" class="headerlink" title="计算机网络体系结构"></a>计算机网络体系结构</h1><h2 id="计算机网络概念"><a href="#计算机网络概念" class="headerlink" title="计算机网络概念"></a>计算机网络概念</h2><blockquote>
<p>将<code>多个计算机系统</code>通过<code>通信设备</code>连接起来，由<code>软件</code>实现<code>资源共享和信息传递</code>的系统。</p>
</blockquote>
<h2 id="计算机网络的组成"><a href="#计算机网络的组成" class="headerlink" title="计算机网络的组成"></a>计算机网络的组成</h2><blockquote>
<p><strong>硬件 + 软件 + 协议</strong></p>
</blockquote>
<ol>
<li>硬件：<ul>
<li>主机</li>
<li>通信链路（双绞线、光纤等）</li>
<li>交换设备（路由器、交换机等）</li>
<li>……</li>
</ul>
</li>
<li>软件：实现资源共享的软件。</li>
<li>协议：规定了通过网络传输数据时需要遵循的规范。<ul>
<li>是两个(或多个)<strong>对等实体</strong>间通信的规则的集合，不对等的实体间是没有协议的。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="计算机网络的功能"><a href="#计算机网络的功能" class="headerlink" title="计算机网络的功能"></a>计算机网络的功能</h2><blockquote>
<p><strong>数据通信 + 资源共享 + 分布式处理 + 提高可靠性 + 负载均衡</strong></p>
</blockquote>
<ol>
<li>数据通信</li>
<li>资源共享</li>
<li>分布式处理：<ul>
<li>当计算机网络中的某个计算机负荷过重时，可以将其处理的任务分配给其它计算机系统，从而提高整个系统的利用率。</li>
</ul>
</li>
<li>提高可靠性：<ul>
<li>整个计算机网络系统就是一个大的集群，计算机网络中的各台计算机可以互为替代机。</li>
</ul>
</li>
<li>负载均衡<ul>
<li>将工作任务均衡的分配给计算机网络中的各台计算机。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="计算机网络的分类"><a href="#计算机网络的分类" class="headerlink" title="计算机网络的分类"></a>计算机网络的分类</h2><blockquote>
<ol>
<li><strong>WAN + MAN + LAN + PAN</strong></li>
<li><strong>广播式网络 + 点对点网络</strong></li>
<li><strong>有线网络 + 无线网络</strong></li>
</ol>
</blockquote>
<h3 id="按分布范围分类"><a href="#按分布范围分类" class="headerlink" title="按分布范围分类"></a>按分布范围分类</h3><ol>
<li>广域网（WAN）</li>
<li>城域网（MAN）</li>
<li>局域网（LAN）</li>
<li>个人区域网（PAN）</li>
</ol>
<h3 id="按传输技术分类"><a href="#按传输技术分类" class="headerlink" title="按传输技术分类"></a>按传输技术分类</h3><ol>
<li>广播式网络</li>
<li>点对点网络</li>
</ol>
<h3 id="按传输介质分类"><a href="#按传输介质分类" class="headerlink" title="按传输介质分类"></a>按传输介质分类</h3><ol>
<li>有线网络</li>
<li>无线网络</li>
</ol>
<h2 id="协议数据单元-PDU"><a href="#协议数据单元-PDU" class="headerlink" title="协议数据单元(PDU)"></a>协议数据单元(PDU)</h2><ul>
<li><code>PDU（Protocol Data Unit）</code>：协议数据单元</li>
<li><code>PCI（Protocol Control Information）</code>：协议控制信息</li>
<li><code>SDU（Service Data Unit）</code>：服务数据单元</li>
</ul>
<blockquote>
<p>对等层之间传递数据的单位称为该层的 PDU。</p>
</blockquote>
<p>在实际的网络中，每层的PDU都有一个别名，分别是：</p>
<table>
<thead>
<tr>
<th align="center">层</th>
<th align="center">PDU的别名</th>
</tr>
</thead>
<tbody><tr>
<td align="center">物理层</td>
<td align="center">比特</td>
</tr>
<tr>
<td align="center">数据链路层</td>
<td align="center">帧</td>
</tr>
<tr>
<td align="center">网络层</td>
<td align="center">分组(/IP数据报)</td>
</tr>
<tr>
<td align="center">传输层</td>
<td align="center">报文段(TCP)/用户数据报(UDP)</td>
</tr>
</tbody></table>
<h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><blockquote>
<p><code>服务</code>是垂直的，是指：<strong>下层为<u>紧邻的</u>上层提供的功能调用。</strong></p>
</blockquote>
<h3 id="服务原语"><a href="#服务原语" class="headerlink" title="服务原语"></a>服务原语</h3><p>上层要使用下层所提供的服务，必须和下层进行交互，这些交互的命令在OSI中被称为<strong>服务原语</strong>。OSI将服务原语划分为4类：</p>
<blockquote>
<ol>
<li><code>请求(Request)</code>：服务用户–&gt;&gt;服务提供者，请求完成某项工作。</li>
<li><code>指示(Indication)</code>：服务提供者–&gt;&gt;服务用户，指示用户做某事。</li>
<li><code>响应(Response)</code>：服务用户–&gt;&gt;服务提供者，作为对<code>指示</code>的响应。</li>
<li><code>证实(Conformation)</code>：服务提供者–&gt;&gt;服务用户，作为对<code>请求</code>的证实。</li>
</ol>
</blockquote>
<h3 id="服务的分类"><a href="#服务的分类" class="headerlink" title="服务的分类"></a>服务的分类</h3><blockquote>
<ol>
<li><strong>面向连接服务&amp;无连接服务</strong></li>
<li><strong>可靠服务&amp;不可靠服务</strong></li>
<li><strong>有应答服务&amp;无应答服务</strong></li>
</ol>
</blockquote>
<h4 id="1、面向连接服务-amp-无连接服务"><a href="#1、面向连接服务-amp-无连接服务" class="headerlink" title="1、面向连接服务&amp;无连接服务"></a>1、面向连接服务&amp;无连接服务</h4><blockquote>
<ul>
<li>面向连接服务：<code>建立连接 --&gt;&gt;数据传输 --&gt;&gt; 连接释放 </code></li>
<li>无连接服务：尽最大努力交付，是不可靠的服务</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th align="center">面向连接服务</th>
<th align="center">无连接服务</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1. 通信前是否建立连接</td>
<td align="center">是</td>
<td align="center">否</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2. 通信前是否分配相应的资源（如内存空间）</td>
<td align="center">是</td>
<td align="center">否</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3. 传输结束后是否释放连接</td>
<td align="center">是</td>
<td align="center">否</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4. 常见的例子</td>
<td align="center">TCP</td>
<td align="center">IP/UDP</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td align="center"></td>
<td align="center"></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="2、可靠服务-amp-不可靠服务"><a href="#2、可靠服务-amp-不可靠服务" class="headerlink" title="2、可靠服务&amp;不可靠服务"></a>2、可靠服务&amp;不可靠服务</h4><blockquote>
<ul>
<li><p>可靠服务：网络具有纠错、检错、应答机制，能保证数据正确、可靠的传送到目的地。</p>
</li>
<li><p>不可靠服务：网络只是尽量正确、可靠的传送，但不能保证数据正确、完整地传送到目的地。</p>
<p>对于不可靠服务，其数据的正确性只能靠用户来保障。</p>
</li>
</ul>
</blockquote>
<h4 id="3、有应答服务-amp-无应答服务"><a href="#3、有应答服务-amp-无应答服务" class="headerlink" title="3、有应答服务&amp;无应答服务"></a>3、有应答服务&amp;无应答服务</h4><blockquote>
<ul>
<li>有应答服务：接收方在收到数据后向发送方给出相应的应答。</li>
<li>无应答服务：接收方收到数据后不自动给出应答。若需要应答，则交给高层实现。</li>
</ul>
</blockquote>
<h1 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h1><h1 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h1><h2 id="数据链路层的功能"><a href="#数据链路层的功能" class="headerlink" title="数据链路层的功能"></a>数据链路层的功能</h2><blockquote>
<p>提供<code>点到点(不同IP地址之间)</code>的通信</p>
<ol>
<li>为网络层提供服务。</li>
<li><strong>成帧</strong>：将网络层传下来的 IP 数据报封装成帧。(为上层提供服务)</li>
<li><strong>差错控制</strong></li>
<li><strong>流量控制</strong></li>
<li><strong>链路管理</strong></li>
</ol>
</blockquote>
<h3 id="为网络层提供服务"><a href="#为网络层提供服务" class="headerlink" title="为网络层提供服务"></a>为网络层提供服务</h3><blockquote>
<p>对网络层而言，数据链路层的功能就是将源机器中来自网络层的数据传送到目标机器的网络层中去。</p>
</blockquote>
<p>数据链路层为网络层提供的服务有：</p>
<ol>
<li>无确认的无连接服务</li>
<li>有确认的无连接服务</li>
<li>有确认的面向连接服务</li>
</ol>
<h3 id="链路管理"><a href="#链路管理" class="headerlink" title="链路管理"></a>链路管理</h3><blockquote>
<p>数据链路层连接的建立、维持和释放过程就称为<code>链路管理</code>。</p>
</blockquote>
<h3 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h3><blockquote>
<p>差错控制是通信的2个节点之间约定好的特定的检错规则。如奇偶校验码，接收方根据约定好的规则去检测接收到的数据是否正确。如果出了差错，能纠错就纠错，不能纠错就丢弃，确保向上层提交的数据都是无误的。</p>
</blockquote>
<h3 id="流量控制"><a href="#流量控制" class="headerlink" title="流量控制"></a>流量控制</h3><blockquote>
<p>在2个节点之间传送数据时，由于2个节点的性能不同，可能节点A的发送速度远大于B节点的接收速度，如果不加以控制，那么节点B就会丢弃很多来不及接收的数据。流量控制就是想办法协调2个节点的速度，使A节点的发送速度与B节点的接收速度达到一个平衡状态。</p>
</blockquote>
<h4 id="可靠传输机制"><a href="#可靠传输机制" class="headerlink" title="可靠传输机制"></a>可靠传输机制</h4><h5 id="1、停止-等待协议"><a href="#1、停止-等待协议" class="headerlink" title="1、停止-等待协议"></a>1、停止-等待协议</h5><h5 id="2、后退N帧协议"><a href="#2、后退N帧协议" class="headerlink" title="2、后退N帧协议"></a>2、后退N帧协议</h5><h5 id="3、选择重传协议"><a href="#3、选择重传协议" class="headerlink" title="3、选择重传协议"></a>3、选择重传协议</h5><hr>
<h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><ul>
<li>  网络层传输的 PDU 叫做<strong>分组（或 IP 数据报）</strong>。</li>
<li>  网络层的主要任务是将网络层的数据报从源端传递到目的端，为网络上的不同主机提供通信服务。</li>
<li>  分层结构中下层服务对于上层是“不可见”的，所以网络层的功能是描述两个对等层之间的，不考虑物理层和数据链路层。</li>
</ul>
<h2 id="网络层的功能"><a href="#网络层的功能" class="headerlink" title="网络层的功能"></a>网络层的功能</h2><blockquote>
<ol>
<li>为传输层提供服务</li>
<li>数据通信</li>
<li><strong>异构网络互联</strong></li>
<li><strong>路由与转发</strong></li>
<li><strong>拥塞控制</strong></li>
<li>流量控制</li>
<li>差错控制</li>
<li>…</li>
</ol>
</blockquote>
<h3 id="异构网络互联"><a href="#异构网络互联" class="headerlink" title="异构网络互联"></a>异构网络互联</h3><blockquote>
<p>  <strong>什么叫异构网络互联？</strong></p>
</blockquote>
<ul>
<li>  我们通常使用的互联网，它就是一个由无数个异构网络互联形成的大型计算机网络。</li>
<li>  所谓的<strong>计算机网络</strong>，通俗来讲就是一个网络连接了多台计算机，这多台计算机之间可以通过网络进行通信、数据共享等功能。</li>
<li>  而<strong>异构网络</strong>的意思就是：计算机网络是一个概念，其具体的落地实现可以有多种，使用不同的寻址方案、不同的网络接入机制、不同的差错处理机制、不同的路由选择机制等实现的计算机网络是不同的，它们互相之间就是异构网络。</li>
<li>  每种异构网络都有其擅长的应用场景，没有一种统一的网络能适应所有用户的需求。<strong>异构网络互联</strong>就是让这些异构的网络之间实现相互通信。</li>
<li>  举个例子就是：某公司内部有自己的内网，而它同时又想可以连接到公网（外网）上去，这就涉及到了异构网络的互联。</li>
<li>  <strong>定义</strong>：所谓<code>网络的互联</code>就是指：将2个以上的计算机网络，通过一定的方法，用一种或多种通信处理设备（即中间设备）连接起来，以构成更大的网络系统。中间设备又称为<strong>中间系统</strong>或中继系统。</li>
</ul>
<blockquote>
<p>  <strong>什么是中继系统？</strong></p>
</blockquote>
<ul>
<li>中继系统就是两个（或多个）异构网络之间进行通信的转发器。即一个网络内所有计算机发出的消息的都会先发送到中继系统，再由中继系统传递给别的网络；同理，接收消息时也是先由中继系统接收，再转发中该网络内某个具体的计算机上。</li>
</ul>
<blockquote>
<p>  <strong>中继系统分类：</strong></p>
</blockquote>
<p>根据中继系统所在的层次，有以下4种不同的中继系统：</p>
<ol>
<li>物理层中的中继系统：<strong>中继器、集线器</strong></li>
<li>数据链路层中的中继系统：<strong>网桥、交换机</strong></li>
<li>网络层中的中继系统：<strong>路由器</strong></li>
<li>网络层以上的中继系统：<strong>网关</strong></li>
</ol>
<p><strong>例子</strong>：要实现网络的互联，每层的中继系统都必不可少。比如，我们在计算机 A 的浏览器上通过 <strong>网关</strong> 访问了 X 资源，首先要把我们的请求信息由上到下一层层封装，最后封装为比特流，通过电信号的形式一层层的传递给存放 A 资源的计算机 B，计算机 B 再把接收到的比特流逐级解封装为请求信息，作出响应。这一过程中，我们在每一层都可能使用了中继系统。</p>
<hr>
<h3 id="路由与转发"><a href="#路由与转发" class="headerlink" title="路由与转发"></a>路由与转发</h3><p>在上面的学习中，我们知道了<strong>路由器是多个计算机网络相互联系的中继系统</strong>。那么路由器做了哪些事情呢？</p>
<p>路由器主要完成 2 个功能：</p>
<blockquote>
<ol>
<li>路由选择：</li>
<li>分组转发：路由器根据转发表将用户的IP数据报从合适的端口转发出去。</li>
</ol>
</blockquote>
<blockquote>
<ol>
<li> <strong>什么是路由选择？</strong></li>
</ol>
</blockquote>
<ul>
<li>  路由选择就是选择路径。每个路由器都维护了一张路由表，这张路由表记录了该路由器可以到达的其它所有的路由器。</li>
<li>  比如计算机 A 在网 1 内，计算机 B 在网 9 中，从网 1 到 网 9 有多条路径可以到达，如何选择路径就是路由选择。</li>
<li>  路由选择是由路由选择算法决定的。</li>
<li>  路由转发是从一个路由器转发到另一个路由器，而不是从一个路由器下的计算机到另一路由器下的计算机。</li>
</ul>
<blockquote>
<ol start="2">
<li> <strong>什么是分组转发？</strong></li>
</ol>
</blockquote>
<ul>
<li>  分组转发也是使用路由表进行转发，只不过路由选择重点在于选择，分组转发重点在于数据传输。也就是根据选择好的路径进行数据传输。</li>
<li>  <strong>路由器仅根据目的主机所在的网络号来转发分组（IP数据报）</strong>，从而减少了路由表所占的存储空间。（即路由表中记录的是网络号）</li>
<li>  意思就是：一个网络内一般会有很多台计算机，但是这些计算机都同属于一个网络号。</li>
</ul>
<h3 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h3><blockquote>
<p>  <strong>什么是网络拥塞？</strong></p>
</blockquote>
<p>网络中的数据传输一般要经过多个路由器，如果某个路由器接收的数据量远大于该节点的最大接收范围，接收数据的能力而言），那么就说网络处于<strong>拥塞状态</strong>。</p>
<blockquote>
<p>  <strong>什么是拥塞控制？</strong></p>
</blockquote>
<ul>
<li>  拥塞控制就是确保子网络只承载其能承受的最大数据流量。</li>
</ul>
<blockquote>
<p>  <strong>拥塞控制的方法？</strong></p>
</blockquote>
<ul>
<li>  <strong>开环控制</strong>：事先考虑好所有的情况，运行时不再更改。</li>
<li>  <strong>闭环控制</strong>：运行时监控，哪里出现拥塞就进行分流。</li>
</ul>
<blockquote>
<p>  分类IP地址</p>
</blockquote>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820101552003.png" alt="image-20210820101552003"></p>
<hr>
<h2 id="网络层常见的协议"><a href="#网络层常见的协议" class="headerlink" title="网络层常见的协议"></a>网络层常见的协议</h2><blockquote>
<ol>
<li>IP</li>
<li>ICMP</li>
<li>IGMP</li>
</ol>
</blockquote>
<h2 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h2><blockquote>
<p>版本为4的IP协议</p>
</blockquote>
<h3 id="IP数据报"><a href="#IP数据报" class="headerlink" title="IP数据报"></a>IP数据报</h3><h4 id="IP数据报的分片"><a href="#IP数据报的分片" class="headerlink" title="IP数据报的分片"></a>IP数据报的分片</h4><h3 id="IPv4地址"><a href="#IPv4地址" class="headerlink" title="IPv4地址"></a>IPv4地址</h3><blockquote>
<ul>
<li><p>连接在Internet中的每一台主机（或路由器）都分配一个<code>32位</code>的全球唯一的标识符，即IP地址。</p>
</li>
<li><p>IP地址可分为5类：ABCDE</p>
</li>
<li><p><code>IP地址 = &#123;&lt;网络号&gt;, &lt;主机号&gt;&#125;</code></p>
<p>其中，网络号标志主机(或路由器)连接到的网络，一个网络号在因特网范围内必须是唯一的；</p>
<p>主机号标志该主机(或路由器)，一个主机号在网络号所指明的网络范围内是唯一的。</p>
</li>
</ul>
</blockquote>
<ol>
<li>IP地址分为5类，这5类分别对应着5种网络号的开头</li>
</ol>
<table>
<thead>
<tr>
<th align="center">分类</th>
<th align="center">网络号中对应的标示</th>
<th align="center">网络号在IP地址中占的位数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="center">0</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">B</td>
<td align="center">10</td>
<td align="center">16</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">110</td>
<td align="center">24</td>
</tr>
<tr>
<td align="center">D</td>
<td align="center">1110</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">E</td>
<td align="center">1111</td>
<td align="center">-</td>
</tr>
</tbody></table>
<ol start="2">
<li><p>在各类IP地址中，有一些IP地址表示特殊用途，不可以当做某台主机的的IP地址。</p>
<blockquote>
<ul>
<li>主机号全为0表示本网络本身</li>
<li>主机号全为1表示本网络的广播地址</li>
<li>127.0.0.0表示主机本身</li>
<li>32为全为0表示本网络上的本主机。</li>
<li>32位全为1表示整个网络的广播地址。</li>
</ul>
</blockquote>
</li>
<li></li>
</ol>
<h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><hr>
<h1 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h1><h2 id="传输层概述"><a href="#传输层概述" class="headerlink" title="传输层概述"></a>传输层概述</h2><blockquote>
<ol>
<li>传输层为运行在不同主机上的进程之间提供了<strong>逻辑通信</strong>（即端到端的通信）。</li>
<li>流量控制</li>
<li>差错控制</li>
<li>服务治理</li>
<li>数据传输管理</li>
</ol>
</blockquote>
<blockquote>
<p>  <strong>核心功能</strong></p>
</blockquote>
<ul>
<li>  传输层提供<strong>进程间的逻辑通信</strong>；网络层提供主机间的逻辑通信。</li>
<li>  传输层实现进程间的逻辑通信依赖的是<strong>套接字</strong>，在网络通信中，主机 A 发送给主机 B 的报文段包含目的端口号和源端口号，目的端口号用于找到主机 B 的进程，源端口号则用于主机 B 返回响应消息。</li>
</ul>
<blockquote>
<p>  <strong>传输协议（TCP / UDP）</strong></p>
</blockquote>
<ul>
<li>  传输层提供两种不同的传输协议，即 ①面向连接的 TCP；  ②无连接的 UDP</li>
<li>  <strong>网络层的 IP 协议是不可靠的。</strong></li>
<li>  当传输层采用<strong>面向连接</strong>的 TCP 协议时，尽管下面的网络层是不可靠的，但是由于 TCP 具有可靠性，所以建立的逻辑信道就相当于是一条<strong>全双工</strong>的可靠信道；而当传输层采用无连接的 UDP 时，建立的逻辑信道仍然是一条不可靠信道。</li>
</ul>
<blockquote>
<p>  <strong>面向连接 vs. 无连接</strong></p>
</blockquote>
<ul>
<li><strong>面向连接</strong>就是，通信的双方在：<ol>
<li> 正式通信前，要先建立连接，</li>
<li> 通信过程中，要一直监控连接的情况；</li>
<li> 通信结束后，要释放连接。</li>
</ol>
</li>
<li>  <strong>无连接</strong>是：通信的双方无需提前建立连接，需通信的时候，直接将“数据”发送到网络上，尽可能地往目的地输送，但不保证一定成功。</li>
</ul>
<blockquote>
<p>  <strong>单工、全双工、半双工</strong></p>
</blockquote>
<ul>
<li>  <strong>单工：</strong>一条信道，只有一个方向通信。即 A 可以给 B 发，但 B 不能给 A 发。如果 A 想发给 B，则需要新建一条 B 到 A 的信道。</li>
<li>  <strong>半双工：</strong>两条信道，A 可以给 B 发，B 也可以给 A 发，但 A 给 B 发和 B 给 A 发不能同时进行。即 A 不能同时接收和发送，B 也一样。</li>
<li>  <strong>全双工：</strong>两条信道，A 和 B 都可以同时接收和发送。</li>
</ul>
<blockquote>
<p>  <strong>端口的作用：</strong></p>
</blockquote>
<ul>
<li>  <strong>端口就是应用层和传输层之间进行数据传输的通道</strong>。</li>
<li>  应用层的各种应用进程需要通过端口才能将其数据向下交付给传输层；以及传输层可以将其报文段中的数据通过端口向上交付给应用层的进程。</li>
</ul>
<blockquote>
<p>  <strong>端口号</strong></p>
</blockquote>
<ul>
<li>  端口号用于在一台计算机上唯一标识一个端口。</li>
</ul>
<blockquote>
<p>  <strong>套接字（Socket）</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">套接字 = （主机IP地址，端口号）</span><br></pre></td></tr></table></figure>

<ul>
<li>  套接字唯一地标识了一个主机和其上的一个应用（进程）。</li>
<li>  叫进程更为合适一点，因为客户机上一些应用使用的端口号是动态的，只有在运行时作为一个进程才能知道。</li>
</ul>
<hr>
<h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><blockquote>
<p>  <strong>UDP 优点</strong></p>
</blockquote>
<ol>
<li> UDP 是无连接的，即不会引入建立连接的时延；</li>
<li> 不需要维护连接状态，即不需要消耗资源去跟踪连接状态的相关参数，消耗的系统资源更少，即同样的软、硬件条件下能支持更多的服务。</li>
<li> 分组首部开销小。TCP 首部需要 20Byte，而 UDP 仅需 8Byte。（TCP由于要建立、维护、释放连接，所以首部需要的信息多一点）</li>
<li> UDP 没有拥塞控制，允许丢弃部分数据，对于要求控制发送时间的应用友好。即允许发送失败，但不允许发送超时的应用。</li>
</ol>
<blockquote>
<p>  <strong>UDP 首部格式</strong></p>
</blockquote>
<ul>
<li>  <strong>目的端口号</strong></li>
<li>  <strong>源端口号</strong>：在需要对方回信时使用，不需要时全选 0 即可。</li>
<li>  <strong>长度</strong>：UDP 数据报的包括（首部长度+数据长度）。最短为 8Byte，即只有首部无数据。</li>
<li><strong>校验和</strong>：<ul>
<li>  接收方使用，用于检验 UDP 数据在传输中是否出错了，<strong>有错就丢弃</strong>。</li>
<li>  该字段是可选的，如果源主机不想计算校验和，直接令该字段全为 0  即可。</li>
</ul>
</li>
</ul>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/20171019224629112" alt="img"></p>
<ul>
<li>  如果接收方传输层的 UDP 发现报文中的端口号不存在，就丢弃该报文。</li>
<li>  UDP 首部 8Byte 是四部分平均分配的，每一部分占 2Byte。</li>
<li>  UDP 校验和可以校验数据报的首部部分和数据部分，发送方 UDP 将校验和保存在 UDP 首部中，接收方 UDP 通过破解校验和得到的结果，确定发送的消息是否正确，如果正确就接收，不正确就丢弃。</li>
</ul>
<hr>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h3 id="TCP-报文段"><a href="#TCP-报文段" class="headerlink" title="TCP 报文段"></a>TCP 报文段</h3><ul>
<li>  TCP 传送的数据单元叫做<strong>TCP报文段</strong>。</li>
<li>  <code>TCP报文段 = TCP 首部 + TCP 数据部分</code></li>
<li>  <strong>TCP 首部长度是可变的，至少占 20Byte ，最多占 60Byte</strong>。允许扩充，每次扩充必须是 4Byte 的整数倍，即 <code>(4*N) Byte</code>。</li>
<li>  整个 TCP 报文段作为 IP 数据报的的数据部分封装在 IP 数据报中。</li>
</ul>
<img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/20181130165347546.png" alt="img" style="zoom:150%;">



<blockquote>
<p>  <strong>TCP 首部各成员的含义：</strong></p>
</blockquote>
<ol>
<li><p> <strong>源端口号</strong></p>
</li>
<li><p> <strong>目的端口号</strong></p>
</li>
<li><p><strong>序号</strong>：TCP 传输的是字节流（即一个一个字节的集合），即一个 TCP 报文段包含几百几千个 Byte，TCP 会为每个 Byte 都建立一个编号，而<strong>序号</strong>指的就是当前报文段所发送的字节流数据中第一个字节的序号。</p>
<p> 例如：一个报文段的序号值为 301，携带的数据共有 100Byte，这就表明当前报文段数据的最后一个字节的序号是 400，故希望下一个报文段的数据序号应该从 401 开始。</p>
</li>
<li><p><strong>数据偏移</strong>：数据偏移指的就是首部长度。因为 TCP 首部是变长的，所以要使用数据偏移记录 TCP 报文段的首部长度。</p>
<p> <code>数据偏移 = | TCP报文段的起始位置 - TCP报文段数据部分的起始位置 |</code></p>
</li>
<li><p> <strong>保留字段</strong>：保留为今后使用</p>
</li>
<li><p> <strong>URG（紧急位）</strong>：Urgency，当某一报文段中包含紧急数据时可以声明为紧急报文段，其对应的优先级会被提高。URG 需要和<strong>紧急指针</strong>配套使用，<code>URG=1</code> 表示紧急指针字段有效。</p>
</li>
<li><p> <strong>紧急指针</strong>：紧急指针指出在本报文段中紧急数据共有多个字节。紧急数据需放在数据部分的最前面，数据从第一个字节开始到紧急指针所指的字节就是紧急数据。</p>
</li>
<li><p> <strong>确认号</strong>：是接收方的 TCP 期望收到的下一个报文段的第一个字节的序号。若确认号为 N，则表明接收方前 N-1 个字节全部正确接收到了。确认号需要和<strong>确认位（ACK）</strong>配合使用【确认号是接收方在响应信息的确认报文段中使用的】</p>
</li>
<li><p><strong>ACK（确认位）</strong>：只有当 ACK=1 时确认号字段才有效；当 ACK=0 时，确认号无效。</p>
<p> TCP 规定，在建立连接之后所有传送的报文段都必须把 ACK 置为 1。</p>
</li>
<li><p> <strong>PSH（推送位）</strong>：相当于强制刷新到上层协议的内存中。一般情况下，接收方接收到的数据会先保存在缓存中，等缓存填满之后再向上交付，但是收到 <strong>PSH=1</strong> 的报文段后，不管缓存是否填满，会立即执行一个数据的向上交付。</p>
</li>
<li><p> <strong>RST（复位位）</strong>：Reset，当 <strong>RST=1</strong> 时，表名 TCP 连接中出现了严重错误，必须释放连接，重新建立建立。</p>
</li>
<li><p><strong>SYN（同步位）</strong>：<strong>SYN=1</strong> 表示这是一个<strong>连接请求</strong>或<strong>连接接收</strong>报文。</p>
<ul>
<li>  当 <strong>SYN=1，ACK=0</strong> 时，表明这是一个连接请求报文；[TCP 规定连接建立后，确认位 ACK=1 恒成立，但是第一次请求建立连接时连接还尚未建立，所以 ACK=0 。]</li>
<li>  若对方同意建立，则在响应报文中使用 <strong>SYN=1，ACK=1</strong> ，此时连接已经建立了。</li>
</ul>
</li>
<li><p> <strong>FIN（终止位）</strong>：<strong>FIN=1</strong> 表示此报文段的发送方数据已经发送完毕，并要求释放连接。</p>
</li>
<li><p> <strong>窗口</strong>：指出了<strong>当前</strong>还允许对方发送的最大数据量。这个值在不断地变化，接收方的缓存空间是有限的，假设接收方缓存大小为 1000Byte，当已经使用了 300Byte 后，这时候窗口的大小就是 700Byte，即当前允许对方发送的最大数据量。</p>
</li>
<li><p> <strong>校验和</strong>：用于校验 TCP 报文段首部和数据两部分。</p>
</li>
<li><p> <strong>选项</strong>：长度可变，TCP 最初只规定了一种选项。即最大报文长度。</p>
</li>
<li><p> <strong>填充</strong>：为了使整个首部的长度是 4Byte 的整数倍。</p>
</li>
</ol>
<hr>
<h3 id="TCP连接的建立"><a href="#TCP连接的建立" class="headerlink" title="TCP连接的建立"></a>TCP连接的建立</h3><p>每一条 TCP 连接有两个端点，分别是两个套接字。</p>
<p>TCP连接的建立要经过3个步骤，通常称为“三次握手”。</p>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/20180714120413411" alt="img"></p>
<blockquote>
<p>  <strong>step1：</strong></p>
</blockquote>
<ul>
<li>  客户机的 TCP 首先向服务器的 TCP 发送一个连接请求报文段。</li>
<li>  这个特殊的报文段中不包含应用层数据，但其首部的 SYN 标志位被置为 1，ACK 仍为 0（因为 ACK=1 标识着确认号有效，但是第一次请求建立连接时并没有确认号，所以确认位置为 0 即可）</li>
<li>  另外，客户机会随机选择一个起始序号 seq=x (连接请求报文中不携带数据，但是会消耗掉一个序号)。</li>
</ul>
<blockquote>
<p>  <strong>step2：</strong></p>
</blockquote>
<ul>
<li>  服务器的 TCP 接收到连接请求报文段后，<strong>如果同意建立连接</strong>，就向客户机发回确认报文段，<strong>并为该 TCP 连接分配 TCP 缓存和变量</strong>。</li>
<li>  如果服务器同意建立，此时对于服务器而言，连接就已经建立了，处于<strong>“半连接状态”</strong>。</li>
<li>  在确认报文段中，<strong>SYN=1，ACK=1</strong>，确认号字段的值为 <code>x+1</code>，并且服务器会随机选择一个起始序号 <code>seq=y</code>。确认报文段同样不携带数据，但也要消耗掉一个序号。（因为服务器要发送确认号给客户端，所以确认位 SYN 必须为 1）</li>
</ul>
<blockquote>
<p>  <strong>step3：</strong></p>
</blockquote>
<ul>
<li>  当客户机收到确认报文段后，还要向服务器给出确认报文段，并且也要<strong>给该连接分配缓存和变量</strong>。</li>
<li>  这个报文段的<strong>确认位 ACK=1，序号 seq=x+1，确认号 ack=y+1</strong>。</li>
<li>  <strong>该报文段可以携带数据，如果不携带数据则不消耗序列号。</strong></li>
</ul>
<p>在成功进行了以上三步后，TCP 连接就建立了，接下来就可以传递应用层数据了。</p>
<p>TCP 提供的是全双工通信，因此通信双方的应用层任何时候都能发送数据。</p>
<p>由于服务器端的资源是在第二次握手时分配的，而客户端的资源是在第三次握手时才分配的。所以客户端可以利用这一特性在发送大量的请求去攻击服务器，这叫做 <strong>SYN洪泛攻击</strong>。</p>
<blockquote>
<p>  <strong>SYN 洪泛攻击</strong></p>
</blockquote>
<p>SYN 洪泛攻击发生在传输层的 TCP 协议建立连接的“三次握手”中。</p>
<ol>
<li> 攻击者发送 TCP SYN ，SYN 是TCP 三次握手中的第一个数据包。当服务器返回 ACK 后，该攻击者就不对其再进行确认，那么这个 TCP 就处于挂起状态，也就是所谓的半连接状态。</li>
<li> 服务器收不到确认的话，还会重复发送 ACK 给攻击者，这样会更加浪费服务器的资源。</li>
<li> 攻击者对服务器发送大量的这种 TCP 连接，，由于每一个都无法完成三次握手，所以在服务器上，这些 TCP 会因为挂起状态而消耗 CPU 内存，最终导致服务器宕机。</li>
</ol>
<hr>
<h3 id="TCP连接的释放"><a href="#TCP连接的释放" class="headerlink" title="TCP连接的释放"></a>TCP连接的释放</h3><p>参与 TCP 连接的<strong>两个进程中的任何一个都能终止该连接</strong>，TCP连接的释放过程通常称为“四次挥手”。</p>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/20180714120426323" alt="img"></p>
<blockquote>
<p>  <strong>step1：</strong></p>
</blockquote>
<ul>
<li>  客户机如果打算关闭连接，就向服务器 TCP 发送一个释放连接报文段，并停止再发送数据，主动关闭 TCP 连接。</li>
<li>  该报文段的 <strong>FIN=1</strong>，序列号 <strong>seq=u</strong>（它等于前面已经传送过的数据的最后一个字节的序号+1）。FIN 报文段即使不携带数据，也要消耗掉一个序列号。</li>
<li>  这个 FIN 报文段是客户机发送给服务器的倒数第二个报文段。</li>
</ul>
<blockquote>
<p>  <strong>step2：</strong></p>
</blockquote>
<ul>
<li>  服务器收到连接释放报文段后发出确认。确认号是 <strong>ack=u+1</strong>，而这个报文段自己的序列号 <strong>seq=v</strong>（即前面已经传送过的数据的最后一个字节的序列号+1）。</li>
<li>  此时，从客户端向服务器端已经不能发送含有数据的报文段了，但是还有最后一个不含数据的确认消息报文段还是要发送的。</li>
<li>  但是服务器如果还有数据的话，客户端仍要接收。但是此时服务器发送的含有数据部分的报文段，客户机不再对其响应，直到遇到 FIN 报文段。</li>
</ul>
<blockquote>
<p>  <strong>step3：</strong></p>
</blockquote>
<ul>
<li>  若服务器已经没有要向客户机发送的数据，就发送 FIN 报文段通知 TCP 释放连接，发出 <strong>FIN=1</strong> 的连接释放报文段。</li>
</ul>
<blockquote>
<p>  <strong>step4：</strong></p>
</blockquote>
<ul>
<li>  客户机收到连接释放报文段后，向服务器发出确认报文段。</li>
<li>  这个确认报文段是客户机发送给服务器的最后一个报文段。</li>
<li>  在确认报文段中，确认位 ACK=1，确认号 ack=w+1，序列号 seq=u+1。</li>
<li>  此时 TCP 连接还尚未释放掉，必须经过时间等待计时器设置的时间 2MSL 后，才会真正地断开 TCP 连接。</li>
</ul>
<hr>
<h1 id="会话层"><a href="#会话层" class="headerlink" title="会话层"></a>会话层</h1><blockquote>
<p>会话层利用传输层提供的端到端的服务，并对该服务进行增强。</p>
</blockquote>
<h1 id="表示层"><a href="#表示层" class="headerlink" title="表示层"></a>表示层</h1><blockquote>
<p><code>表示层</code>主要用于处理2个系统中交换信息的表示方式。</p>
</blockquote>
<h1 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h1><blockquote>
<p>面向用户，是用户与计算机网络的界面</p>
</blockquote>
<h2 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h2><ul>
<li>  <strong>C/S</strong>：一台服务器（集群），多台用户机</li>
<li>  <strong>P2P</strong>：每台计算机，既可以是服务器，也可以是用户</li>
</ul>
<blockquote>
<p>  <strong>P2P模型</strong></p>
</blockquote>
<img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820101819591.png" alt="image-20210820101819591" style="zoom:50%;">



<blockquote>
</blockquote>
<h2 id="DNS-系统"><a href="#DNS-系统" class="headerlink" title="DNS 系统"></a>DNS 系统</h2><blockquote>
<p>  DNS（Domain Name System）；域名系统</p>
</blockquote>
<ul>
<li>  作用：将域名映射为 IP 地址</li>
<li>  架构：C/S</li>
<li>  底层协议：UDP</li>
<li>  使用端口号：53</li>
</ul>
<h3 id="层次域名空间"><a href="#层次域名空间" class="headerlink" title="层次域名空间"></a>层次域名空间</h3><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820101741899.png" alt="image-20210820101741899" style="zoom:50%;">



<h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3><ul>
<li>  域名服务器是一个联机的的分布式数据库系统。也就是说分布式数据库中保存了所有域名到 IP 地址的映射，如果能在这个分布式数据库找到域名对应的 IP 地址，在联网的情况下就可以进行访问，如果找不到，就会访问失败。</li>
</ul>
<blockquote>
<p>  <strong>本地域名服务器</strong></p>
</blockquote>
<ul>
<li>  本地域名服务器就是一台运行着的计算机，当一台主机发出 DNS 解析请求时，这个请求首先会发送给该主机的本地域名服务器，在本地域名服务器中找不到时才会继续发送给根域名服务器。</li>
<li>  本地域名服务器中保存了根域名服务器的 IP 地址。</li>
<li>  本地域名服务器可以在 Windows 的系统配置中手动填写，也可以由计算机根据当前连接自动获取。</li>
</ul>
<img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820104859100.png" alt="image-20210820104859100" style="zoom: 67%;">



<blockquote>
<p>  <strong>根域名服务器</strong></p>
</blockquote>
<ul>
<li>  根域名服务器用来管辖顶级域名服务器，所有的根域名服务器都知道所有的顶级域名服务器的 IP 地址。</li>
<li>  当在本地域名服务器中找不到客户计算机发送的域名解析请求时，首先会求助于根域名服务器。</li>
<li>  因特网上有 13 个根域名服务器（每个都以集群的形式存在）。</li>
</ul>
<blockquote>
<p>  <strong>顶级域名服务器</strong></p>
</blockquote>
<ul>
<li>  顶级域名服务器用来管理在该顶级域名服务器下注册的所有二级域名。如 <code>.com</code> 下的所有二级域名。</li>
<li>当收到 DNS 解析请求时，给出相应的回答：<ul>
<li>  可能是最后的结果；如 <code>baidu.com</code></li>
<li>  也可能是下一步要查找的服务器的 IP 地址。</li>
</ul>
</li>
</ul>
<blockquote>
<p>  <strong>权限域名服务器</strong></p>
</blockquote>
<ul>
<li>  即管理二级、三级、四级域名的服务器</li>
</ul>
<hr>
<h3 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h3><blockquote>
<p>  <strong>域名解析包括：</strong></p>
</blockquote>
<ul>
<li>  反向解析：将 IP 地址映射成域名；</li>
<li>  正向解析：将域名映射成 IP 地址。</li>
</ul>
<blockquote>
<p>  <strong>域名解析有两种方式：</strong></p>
</blockquote>
<ul>
<li>  递归查询</li>
<li>  递归 + 迭代（结合）：常用</li>
</ul>
<blockquote>
<p>  <strong>纯递归查询的缺点</strong>：</p>
</blockquote>
<p>对根域名服务器造成的负载过大。显然本地域名服务器的数量远大于根域名服务器的数量，当有大量的本地域名服务器向根域名服务器发送了大量域名解析请求后，由于全世界范围内根域名服务器只有 13 个集群，很有可能承担不了如此大的流量冲击。</p>
<blockquote>
<p>  <strong>递归+迭代的域名解析流程</strong></p>
</blockquote>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820102550685.png" alt="image-20210820102550685"></p>
<ol>
<li> 主机向本地域名服务器的查询采用的是递归。即主机发出要解析的域名给本地域名服务器，本地域名解析完后后再交付给主机。中间的其它过程主机不管。</li>
<li> 本地域名服务器向根域名服务器 / 顶级域名服务器 / 权限域名服务器 的查询采用的是迭代查询。即本地域名服务器先向根域名服务器查询域名的映射，若没找到的话，根域名服务器会返回一个顶级域名服务器的地址，本地域名服务器就会再向顶级域名服务器发送 DNS 解析请求。</li>
<li> 以此类推。</li>
</ol>
<h3 id="DNS域名解析流程小结"><a href="#DNS域名解析流程小结" class="headerlink" title="DNS域名解析流程小结"></a>DNS域名解析流程小结</h3><p>假设某客户机通过浏览器请求访问 <code>map.baidu.com</code>，域名解析的过程如下： </p>
<ol>
<li> 首先，客户机会在本机的 <strong>host</strong> 文件中查找是否存在  <code>map.baidu.com</code> 映射的 IP 地址。（当然一般情况下是没有的，本机的 <code>host</code> 文件默认只保存了 <strong>localhost</strong> 的 IP 映射，当然也可以自己添加其它的）</li>
<li> 如果本机找不到域名的映射，就会发送 DNS 请求报文到本地域名服务器。</li>
<li> 本地域名服务器收到请求后，查询本地缓存中是否存在域名映射的 IP 地址，若没有，则以 DNS 客户的身份向根域名服务器发出解析请求；</li>
<li> 根域名服务器收到请求后，判断该域名属于 <code>.com</code> 域，将对应的顶级域名服务器 <code>dns.com</code> 的 IP 地址返回给本地域名服务器；</li>
<li> 本地域名服务器向顶级域名服务器 <code>dns.com</code> 发出域名解析请求；</li>
<li> 顶级域名服务器 <code>dns.com</code> 收到请求后，判断该域名属于 <code>baidu.com</code> 域，故将对应的授权域名服务器 <code>dns.baidu.com</code> 的 IP 地址返回给本地域名服务器。</li>
<li> 本地域名服务器向授权域名服务器 <code>dns.baidu.com</code> 发出域名解析请求；</li>
<li> 授权域名服务器 <code>dns.baidu.com</code> 收到请求后，将查询结果 <code>map.baidu.com</code> 的 IP 地址返回给本地域名服务器；</li>
<li> 本地域名服务器将查询结果保存到本地缓存，同时返回给客户机。</li>
</ol>
<p>为提高 DNS 的查询效率，在域名服务器中广泛地使用了告诉缓存。不仅仅是本地域名服务器、包括权限域名服务器、顶级域名服务器等都使用了高速缓存。减少了因特网上 DNS 查询报文的数量。</p>
<hr>
<blockquote>
<p>  TCP连接释放</p>
</blockquote>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820102127185.png" alt="image-20210820102127185"></p>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820102054682.png" alt="image-20210820102054682"></p>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820101950283.png" alt="image-20210820101950283"></p>
<blockquote>
</blockquote>
<p><img src="/2020/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210820101643523.png" alt="image-20210820101643523"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/20/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><span class="page-number current">21</span><a class="page-number" href="/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/22/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
