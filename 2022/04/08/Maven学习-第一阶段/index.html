<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="第一章 Maven概述第一节 Why？为什么要学Maven？一、Maven 作为依赖管理工具1、jar包的规模随着我们使用越来越多的框架，或者框架封装程度越来越高，项目中使用的 jar 包也越来越多。项目中，一个模块里面用到上百个 jar 包是非常正常的。 比如下面的例子，我们只用到 SpringBoot、SpringCloud 框架中的三个功能：    Nacos 服务注册发现   Web 框架">
<meta property="og:type" content="article">
<meta property="og:title" content="Maven学习-第一阶段">
<meta property="og:url" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="第一章 Maven概述第一节 Why？为什么要学Maven？一、Maven 作为依赖管理工具1、jar包的规模随着我们使用越来越多的框架，或者框架封装程度越来越高，项目中使用的 jar 包也越来越多。项目中，一个模块里面用到上百个 jar 包是非常正常的。 比如下面的例子，我们只用到 SpringBoot、SpringCloud 框架中的三个功能：    Nacos 服务注册发现   Web 框架">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img006.ab4f2e31.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img010.74e515e5.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img003.f9cc536c.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408110007419.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408110550592.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408114249657.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408114553733.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408115112790.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408160611025.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408163058811.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408170538989.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408172504131.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408184141206.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408190148655.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408190831519.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408191725052.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408191836572.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408192152959.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408192341212.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408205004283.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408210807337.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408210700458.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408222403247.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409182216350.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409191815270.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409193722168.png">
<meta property="og:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409211556788.png">
<meta property="article:published_time" content="2022-04-08T01:58:11.000Z">
<meta property="article:modified_time" content="2022-04-09T14:26:29.069Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img006.ab4f2e31.png">


<link rel="canonical" href="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/","path":"2022/04/08/Maven学习-第一阶段/","title":"Maven学习-第一阶段"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Maven学习-第一阶段 | Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-Maven%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">第一章 Maven概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8A%82-Why%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6Maven%EF%BC%9F"><span class="nav-number">1.1.</span> <span class="nav-text">第一节 Why？为什么要学Maven？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81Maven-%E4%BD%9C%E4%B8%BA%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="nav-number">1.1.1.</span> <span class="nav-text">一、Maven 作为依赖管理工具</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81jar%E5%8C%85%E7%9A%84%E8%A7%84%E6%A8%A1"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">1、jar包的规模</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81jar-%E5%8C%85%E7%9A%84%E6%9D%A5%E6%BA%90"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">2、jar 包的来源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81jar%E5%8C%85%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">3、jar包之间的依赖关系</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81Maven-%E4%BD%9C%E4%B8%BA%E6%9E%84%E5%BB%BA%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="nav-number">1.1.2.</span> <span class="nav-text">二、Maven 作为构建管理工具</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E4%BD%A0%E6%B2%A1%E6%9C%89%E6%B3%A8%E6%84%8F%E8%BF%87%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">1、你没有注意过的构建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E8%84%B1%E7%A6%BB-IDE-%E7%8E%AF%E5%A2%83%E4%BB%8D%E9%9C%80%E6%9E%84%E5%BB%BA"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">2、脱离 IDE 环境仍需构建</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E7%BB%93%E8%AE%BA"><span class="nav-number">1.1.3.</span> <span class="nav-text">三、结论</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8A%82-What%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AFMaven%EF%BC%9F"><span class="nav-number">1.2.</span> <span class="nav-text">第二节 What？什么是Maven？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%9E%84%E5%BB%BA"><span class="nav-number">1.2.1.</span> <span class="nav-text">一、构建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="nav-number">1.2.2.</span> <span class="nav-text">二、依赖管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81Maven-%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6"><span class="nav-number">1.2.3.</span> <span class="nav-text">三、Maven 的工作机制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">第二章 Maven核心程序的安装与配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8A%82-Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">第一节 Maven核心程序安装与配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Maven%E5%AE%98%E7%BD%91%E5%9C%B0%E5%9D%80"><span class="nav-number">2.1.1.</span> <span class="nav-text">1、Maven官网地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E8%A7%A3%E5%8E%8BMaven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F"><span class="nav-number">2.1.2.</span> <span class="nav-text">2、解压Maven核心程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%8C%87%E5%AE%9A%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="nav-number">2.1.3.</span> <span class="nav-text">3、指定本地仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91%E6%8F%90%E4%BE%9B%E7%9A%84%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="nav-number">2.1.4.</span> <span class="nav-text">4、配置阿里云提供的镜像仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%B0%86%E5%8E%9F%E6%9C%89%E7%9A%84%E4%BE%8B%E5%AD%90%E9%85%8D%E7%BD%AE%E6%B3%A8%E9%87%8A%E6%8E%89"><span class="nav-number">2.1.4.1.</span> <span class="nav-text">1、将原有的例子配置注释掉</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E5%8A%A0%E5%85%A5%E6%88%91%E4%BB%AC%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.4.2.</span> <span class="nav-text">2、加入我们的配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E9%85%8D%E7%BD%AE-Maven-%E5%B7%A5%E7%A8%8B%E7%9A%84%E5%9F%BA%E7%A1%80-JDK-%E7%89%88%E6%9C%AC"><span class="nav-number">2.1.5.</span> <span class="nav-text">5、配置 Maven 工程的基础 JDK 版本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8A%82-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">2.2.</span> <span class="nav-text">第二节 配置环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%A3%80%E6%9F%A5-JAVA-HOME-%E9%85%8D%E7%BD%AE%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="nav-number">2.2.1.</span> <span class="nav-text">1、检查 JAVA_HOME 配置是否正确</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AE-MAVEN-HOME"><span class="nav-number">2.2.2.</span> <span class="nav-text">2、配置 MAVEN_HOME</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AEPATH"><span class="nav-number">2.2.3.</span> <span class="nav-text">3、配置PATH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E9%AA%8C%E8%AF%81"><span class="nav-number">2.2.4.</span> <span class="nav-text">4、验证</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E4%BD%BF%E7%94%A8Maven%EF%BC%9A%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-number">3.</span> <span class="nav-text">第三章 使用Maven：命令行环境</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%B8%80%EF%BC%9A%E6%A0%B9%E6%8D%AE%E5%9D%90%E6%A0%87%E5%88%9B%E5%BB%BAMaven%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.1.</span> <span class="nav-text">第一节 实验一：根据坐标创建Maven工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81Maven%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9A%E5%9D%90%E6%A0%87"><span class="nav-number">3.1.1.</span> <span class="nav-text">一、Maven核心概念：坐标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%95%B0%E5%AD%A6%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">1、数学中的坐标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81Maven%E4%B8%AD%E7%9A%84%E5%9D%90%E6%A0%87"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">2、Maven中的坐标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%9D%90%E6%A0%87%E5%92%8C%E4%BB%93%E5%BA%93%E4%B8%ADjar%E5%8C%85%E7%9A%84%E5%AD%98%E5%82%A8%E8%B7%AF%E5%BE%84%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">3、坐标和仓库中jar包的存储路径之间的对应关系</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E9%AA%8C%E6%93%8D%E4%BD%9C"><span class="nav-number">3.1.2.</span> <span class="nav-text">二、实验操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E4%BD%9C%E4%B8%BA%E5%90%8E%E9%9D%A2%E6%93%8D%E4%BD%9C%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="nav-number">3.1.2.1.</span> <span class="nav-text">1、创建目录作为后面操作的工作空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E5%9C%A8%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3"><span class="nav-number">3.1.2.2.</span> <span class="nav-text">2、在工作空间目录下打开命令行窗口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E7%94%9F%E6%88%90Maven%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.1.2.3.</span> <span class="nav-text">3、使用命令生成Maven工程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E8%B0%83%E6%95%B4"><span class="nav-number">3.1.2.4.</span> <span class="nav-text">4、调整</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9A%84-pom-xml-%E8%A7%A3%E8%AF%BB"><span class="nav-number">3.1.2.5.</span> <span class="nav-text">5、自动生成的 pom.xml 解读</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81Maven%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9APOM"><span class="nav-number">3.1.3.</span> <span class="nav-text">三、Maven核心概念：POM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%90%AB%E4%B9%89"><span class="nav-number">3.1.3.1.</span> <span class="nav-text">1、含义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E6%A8%A1%E5%9E%8B%E5%8C%96%E6%80%9D%E6%83%B3"><span class="nav-number">3.1.3.2.</span> <span class="nav-text">2、模型化思想</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%AF%B9%E5%BA%94%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.1.3.3.</span> <span class="nav-text">3、对应的配置文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E3%80%81Maven%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%EF%BC%9A%E7%BA%A6%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.4.</span> <span class="nav-text">四、Maven核心概念：约定的目录结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%90%84%E4%B8%AA%E7%9B%AE%E5%BD%95%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">3.1.4.1.</span> <span class="nav-text">1、各个目录的作用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E7%BA%A6%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E7%9A%84%E6%84%8F%E4%B9%89"><span class="nav-number">3.1.4.2.</span> <span class="nav-text">2、约定目录结构的意义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E7%BA%A6%E5%AE%9A%E5%A4%A7%E4%BA%8E%E9%85%8D%E7%BD%AE"><span class="nav-number">3.1.4.3.</span> <span class="nav-text">3、约定大于配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%BA%8C%EF%BC%9A%E5%9C%A8-Maven-%E5%B7%A5%E7%A8%8B%E4%B8%AD%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81"><span class="nav-number">3.2.</span> <span class="nav-text">第二节 实验二：在 Maven 工程中编写代码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%B8%BB%E4%BD%93%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.2.1.</span> <span class="nav-text">1、主体程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F"><span class="nav-number">3.2.2.</span> <span class="nav-text">2、测试程序</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%B8%89%EF%BC%9A%E6%89%A7%E8%A1%8C-Maven-%E7%9A%84%E6%9E%84%E5%BB%BA%E5%91%BD%E4%BB%A4"><span class="nav-number">3.3.</span> <span class="nav-text">第三节 实验三：执行 Maven 的构建命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%A6%81%E6%B1%82"><span class="nav-number">3.3.1.</span> <span class="nav-text">1、要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%B8%85%E7%90%86%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.2.</span> <span class="nav-text">2、清理操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%BC%96%E8%AF%91%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.3.</span> <span class="nav-text">3、编译操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%B5%8B%E8%AF%95%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.4.</span> <span class="nav-text">4、测试操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E6%89%93%E5%8C%85%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.5.</span> <span class="nav-text">5、打包操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C"><span class="nav-number">3.3.6.</span> <span class="nav-text">6、安装操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E8%8A%82-%E5%AE%9E%E9%AA%8C%E5%9B%9B%EF%BC%9A%E5%88%9B%E5%BB%BA-Maven-%E7%89%88%E7%9A%84-Web-%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.4.</span> <span class="nav-text">第四节 实验四：创建 Maven 版的 Web 工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%AF%B4%E6%98%8E"><span class="nav-number">3.4.1.</span> <span class="nav-text">1、说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%93%8D%E4%BD%9C"><span class="nav-number">3.4.2.</span> <span class="nav-text">2、操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%94%9F%E6%88%90%E7%9A%84-pom-xml"><span class="nav-number">3.4.3.</span> <span class="nav-text">3、生成的 pom.xml</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E7%94%9F%E6%88%90%E7%9A%84-Web-%E5%B7%A5%E7%A8%8B%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">3.4.4.</span> <span class="nav-text">4、生成的 Web 工程的目录结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%88%9B%E5%BB%BAServlet"><span class="nav-number">3.4.5.</span> <span class="nav-text">5、创建Servlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E7%BC%96%E8%AF%91"><span class="nav-number">3.4.6.</span> <span class="nav-text">6、编译</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E5%B0%86-Web-%E5%B7%A5%E7%A8%8B%E6%89%93%E5%8C%85%E4%B8%BA-war-%E5%8C%85"><span class="nav-number">3.4.7.</span> <span class="nav-text">7、将 Web 工程打包为 war 包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8%E3%80%81%E5%B0%86-war-%E5%8C%85%E9%83%A8%E7%BD%B2%E5%88%B0-Tomcat-%E4%B8%8A%E8%BF%90%E8%A1%8C"><span class="nav-number">3.4.8.</span> <span class="nav-text">8、将 war 包部署到 Tomcat 上运行</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%BA%94%EF%BC%9A%E8%AE%A9-Web-%E5%B7%A5%E7%A8%8B%E4%BE%9D%E8%B5%96-Java-%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.5.</span> <span class="nav-text">第五节 实验五：让 Web 工程依赖 Java 工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%A7%82%E5%BF%B5"><span class="nav-number">3.5.1.</span> <span class="nav-text">1、观念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%93%8D%E4%BD%9C-1"><span class="nav-number">3.5.2.</span> <span class="nav-text">2、操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%9C%A8-Web-%E5%B7%A5%E7%A8%8B%E4%B8%AD%EF%BC%8C%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"><span class="nav-number">3.5.3.</span> <span class="nav-text">3、在 Web 工程中，编写测试代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%89%A7%E8%A1%8C-Maven-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.4.</span> <span class="nav-text">4、执行 Maven 命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E8%8A%82-%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E6%B5%8B%E8%AF%95%E4%BE%9D%E8%B5%96%E8%8C%83%E5%9B%B4"><span class="nav-number">3.6.</span> <span class="nav-text">第六节 实验六：测试依赖范围</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%BE%9D%E8%B5%96%E8%8C%83%E5%9B%B4"><span class="nav-number">3.6.1.</span> <span class="nav-text">1、依赖范围</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%881%EF%BC%89compile-%E5%92%8C-test-%E5%AF%B9%E6%AF%94"><span class="nav-number">3.6.1.1.</span> <span class="nav-text">（1）compile 和 test 对比</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%882%EF%BC%89compile-%E4%B8%8E-provided-%E5%AF%B9%E6%AF%94"><span class="nav-number">3.6.1.2.</span> <span class="nav-text">（2）compile 与 provided 对比</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E7%BB%93%E8%AE%BA"><span class="nav-number">3.6.1.3.</span> <span class="nav-text">（3）结论</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%B5%8B%E8%AF%95"><span class="nav-number">3.6.2.</span> <span class="nav-text">2、测试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E9%AA%8C%E8%AF%81-compile-%E8%8C%83%E5%9B%B4%E5%AF%B9-main-%E7%9B%AE%E5%BD%95%E6%9C%89%E6%95%88"><span class="nav-number">3.6.2.1.</span> <span class="nav-text">（1）验证 compile 范围对 main 目录有效</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E9%AA%8C%E8%AF%81-test-%E8%8C%83%E5%9B%B4%E5%AF%B9-main-%E7%9B%AE%E5%BD%95%E6%97%A0%E6%95%88"><span class="nav-number">3.6.2.2.</span> <span class="nav-text">（2）验证 test 范围对 main 目录无效</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E9%AA%8C%E8%AF%81-test-%E5%92%8C-provided-%E8%8C%83%E5%9B%B4%E4%B8%8D%E5%8F%82%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2"><span class="nav-number">3.6.2.3.</span> <span class="nav-text">（3）验证 test 和 provided 范围不参与服务器部署</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%884%EF%BC%89%E9%AA%8C%E8%AF%81-provided-%E8%8C%83%E5%9B%B4%E5%AF%B9%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F%E6%9C%89%E6%95%88"><span class="nav-number">3.6.2.4.</span> <span class="nav-text">（4）验证 provided 范围对测试程序有效</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9A%E6%B5%8B%E8%AF%95%E4%BE%9D%E8%B5%96%E7%9A%84%E4%BC%A0%E9%80%92%E6%80%A7"><span class="nav-number">3.7.</span> <span class="nav-text">第七节 实验七：测试依赖的传递性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%BE%9D%E8%B5%96%E7%9A%84%E4%BC%A0%E9%80%92%E6%80%A7"><span class="nav-number">3.7.1.</span> <span class="nav-text">1、依赖的传递性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%A6%82%E5%BF%B5"><span class="nav-number">3.7.1.1.</span> <span class="nav-text">（1）概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E4%BC%A0%E9%80%92%E7%9A%84%E5%8E%9F%E5%88%99"><span class="nav-number">3.7.1.2.</span> <span class="nav-text">（2）传递的原则</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8-compile-%E8%8C%83%E5%9B%B4%E4%BE%9D%E8%B5%96-spring-core"><span class="nav-number">3.7.2.</span> <span class="nav-text">2、使用 compile 范围依赖 spring-core</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E9%AA%8C%E8%AF%81-test-%E5%92%8C-provided-%E8%8C%83%E5%9B%B4%E4%B8%8D%E8%83%BD%E4%BC%A0%E9%80%92"><span class="nav-number">3.7.3.</span> <span class="nav-text">3、验证 test 和 provided 范围不能传递</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%85%AB%E8%8A%82-%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9A%E6%B5%8B%E8%AF%95%E4%BE%9D%E8%B5%96%E7%9A%84%E6%8E%92%E9%99%A4"><span class="nav-number">3.8.</span> <span class="nav-text">第八节 实验八：测试依赖的排除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5"><span class="nav-number">3.8.1.</span> <span class="nav-text">1、概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F"><span class="nav-number">3.8.2.</span> <span class="nav-text">2、配置方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E4%B9%9D%E8%8A%82-%E5%AE%9E%E9%AA%8C%E4%B9%9D%EF%BC%9A%E7%BB%A7%E6%89%BF"><span class="nav-number">3.9.</span> <span class="nav-text">第九节 实验九：继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E6%A6%82%E5%BF%B5-1"><span class="nav-number">3.9.1.</span> <span class="nav-text">1、概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E4%BD%9C%E7%94%A8"><span class="nav-number">3.9.2.</span> <span class="nav-text">2、作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%93%8D%E4%BD%9C"><span class="nav-number">3.9.3.</span> <span class="nav-text">3、操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.9.3.1.</span> <span class="nav-text">（1）创建父工程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9D%97%E5%B7%A5%E7%A8%8B"><span class="nav-number">3.9.3.2.</span> <span class="nav-text">（2）创建模块工程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E9%87%8D%E6%96%B0%E6%9F%A5%E7%9C%8B%E7%88%B6%E5%B7%A5%E7%A8%8B%E7%9A%84-pom-xml"><span class="nav-number">3.9.3.3.</span> <span class="nav-text">（3）重新查看父工程的 pom.xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%884%EF%BC%89%E8%A7%A3%E8%AF%BB%E5%AD%90%E5%B7%A5%E7%A8%8B%E7%9A%84-pom-xml"><span class="nav-number">3.9.3.4.</span> <span class="nav-text">（4）解读子工程的 pom.xml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%885%EF%BC%89%E5%9C%A8%E7%88%B6%E5%B7%A5%E7%A8%8B%E4%B8%AD%E9%85%8D%E7%BD%AE%E4%BE%9D%E8%B5%96%E7%9A%84%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86"><span class="nav-number">3.9.3.5.</span> <span class="nav-text">（5）在父工程中配置依赖的统一管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%886%EF%BC%89%E5%AD%90%E5%B7%A5%E7%A8%8B%E4%B8%AD%E5%BC%95%E7%94%A8%E9%82%A3%E4%BA%9B%E8%A2%AB%E7%88%B6%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="nav-number">3.9.3.6.</span> <span class="nav-text">（6）子工程中引用那些被父工程管理的依赖</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%9C%A8%E7%88%B6%E5%B7%A5%E7%A8%8B%E4%B8%AD%E5%A3%B0%E6%98%8E%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-number">3.9.3.7.</span> <span class="nav-text">(7)在父工程中声明自定义属性</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%AE%9E%E9%99%85%E6%84%8F%E4%B9%89"><span class="nav-number">3.9.4.</span> <span class="nav-text">4、实际意义</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AC%AC%E5%8D%81%E8%8A%82-%E5%AE%9E%E9%AA%8C%E5%8D%81%EF%BC%9A%E8%81%9A%E5%90%88"><span class="nav-number">3.10.</span> <span class="nav-text">第十节 实验十：聚合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%81%9A%E5%90%88%E6%9C%AC%E8%BA%AB%E7%9A%84%E5%90%AB%E4%B9%89"><span class="nav-number">3.10.1.</span> <span class="nav-text">1、聚合本身的含义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81Maven%E4%B8%AD%E7%9A%84%E8%81%9A%E5%90%88"><span class="nav-number">3.10.2.</span> <span class="nav-text">2、Maven中的聚合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%A5%BD%E5%A4%84"><span class="nav-number">3.10.3.</span> <span class="nav-text">3、好处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E8%81%9A%E5%90%88%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="nav-number">3.10.4.</span> <span class="nav-text">4、聚合的配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96%E9%97%AE%E9%A2%98"><span class="nav-number">3.10.5.</span> <span class="nav-text">5、循环依赖问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E4%BD%BF%E7%94%A8Maven%EF%BC%9AIDEA%E7%8E%AF%E5%A2%83"><span class="nav-number">4.</span> <span class="nav-text">第四章 使用Maven：IDEA环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E5%85%B6%E5%AE%83%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="nav-number">5.</span> <span class="nav-text">第五章 其它核心概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">5.1.</span> <span class="nav-text">1、生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E6%8F%92%E4%BB%B6%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="nav-number">5.2.</span> <span class="nav-text">2、插件和目标</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E6%8F%92%E4%BB%B6"><span class="nav-number">5.2.1.</span> <span class="nav-text">（1）插件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E7%9B%AE%E6%A0%87"><span class="nav-number">5.2.2.</span> <span class="nav-text">（2）目标</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E4%BB%93%E5%BA%93"><span class="nav-number">5.3.</span> <span class="nav-text">3、仓库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%8D%95%E4%B8%80%E6%9E%B6%E6%9E%84%E6%A1%88%E4%BE%8B"><span class="nav-number">6.</span> <span class="nav-text">第六章 单一架构案例</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">235</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">70</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Maven学习-第一阶段 | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Maven学习-第一阶段
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-04-08 09:58:11" itemprop="dateCreated datePublished" datetime="2022-04-08T09:58:11+08:00">2022-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-04-09 22:26:29" itemprop="dateModified" datetime="2022-04-09T22:26:29+08:00">2022-04-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Maven/" itemprop="url" rel="index"><span itemprop="name">Maven</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="第一章-Maven概述"><a href="#第一章-Maven概述" class="headerlink" title="第一章 Maven概述"></a>第一章 Maven概述</h1><h2 id="第一节-Why？为什么要学Maven？"><a href="#第一节-Why？为什么要学Maven？" class="headerlink" title="第一节 Why？为什么要学Maven？"></a>第一节 Why？为什么要学Maven？</h2><h3 id="一、Maven-作为依赖管理工具"><a href="#一、Maven-作为依赖管理工具" class="headerlink" title="一、Maven 作为依赖管理工具"></a>一、Maven 作为依赖管理工具</h3><h4 id="1、jar包的规模"><a href="#1、jar包的规模" class="headerlink" title="1、jar包的规模"></a>1、jar包的规模</h4><p>随着我们使用越来越多的框架，或者框架封装程度越来越高，项目中使用的 jar 包也越来越多。项目中，一个模块里面用到上百个 jar 包是非常正常的。</p>
<p>比如下面的例子，我们只用到 SpringBoot、SpringCloud 框架中的三个功能：</p>
<ul>
<li>  Nacos 服务注册发现</li>
<li>  Web 框架环境</li>
<li>  图模板技术 Thymeleaf</li>
</ul>
<p>最终却导入了 106 个 jar 包：</p>
<blockquote>
<p>  org.springframework.security:spring-security-rsa:jar:1.0.9.RELEASE:compile<br>  com.netflix.ribbon: ribbon:jar:2.3.0:compile<br>  org.springframework.boot:spring-boot-starter-thymeleaf:jar:2.3.6.RELEASE:compile</p>
<p>  ……(省略其它)</p>
<p>  org.springframework.cloud:spring-cloud-netflix-ribbon:jar:2.2.6.RELEASE:compile<br>  org.springframework:spring-expression:jar:5.2.11.RELEASE:compile<br>  org.springframework.cloud:spring-cloud-netflix-archaius:jar:2.2.6.RELEASE:compile</p>
</blockquote>
<p>而如果使用 Maven 来引入这些 jar 包只需要配置三个『<strong>依赖</strong>』：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Nacos 服务注册发现启动器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- web启动器依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 视图模板技术 thymeleaf --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2、jar-包的来源"><a href="#2、jar-包的来源" class="headerlink" title="2、jar 包的来源"></a>2、jar 包的来源</h4><p>这些 jar 包所属技术的官网，通常是英文界面，并且网站的结构互相独立，不尽相同，甚至找到后，下载链接还发现需要通过特殊的工具下载。</p>
<p>当然我们也可以通过第三方网站提供的下载链接进行下载，但这些非官方的网站提供的 jar 包在使用过程中会出现各种问题。存在的问题可能源自于以下这些方面：</p>
<ul>
<li>  jar包的名称</li>
<li>  jar包的版本</li>
<li>  jar包内的具体细节</li>
</ul>
<p>而使用 Maven 后，依赖对应的 jar 包能够<strong>自动下载</strong>，方便、快捷又规范。</p>
<h4 id="3、jar包之间的依赖关系"><a href="#3、jar包之间的依赖关系" class="headerlink" title="3、jar包之间的依赖关系"></a>3、jar包之间的依赖关系</h4><p>框架中使用的 jar 包，不仅数量庞大，而且彼此之间存在错综复杂的依赖关系。依赖关系的复杂程度，已经上升到了完全不能靠人力手动解决的程度。另外，jar 包之间有可能产生冲突。进一步增加了我们在 jar 包使用过程中的难度。</p>
<p>下面是前面例子中 jar 包之间的依赖关系：</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img006.ab4f2e31.png" alt="images"></p>
<p>而实际上 jar 包之间的依赖关系是普遍存在的，如果要由程序员手动梳理无疑会增加极高的学习成本，而这些工作又对实现业务功能毫无帮助。</p>
<p>而使用 Maven 则几乎不需要管理这些关系，极个别的地方调整一下即可，极大的减轻了我们的工作量。</p>
<h3 id="二、Maven-作为构建管理工具"><a href="#二、Maven-作为构建管理工具" class="headerlink" title="二、Maven 作为构建管理工具"></a>二、Maven 作为构建管理工具</h3><h4 id="1、你没有注意过的构建"><a href="#1、你没有注意过的构建" class="headerlink" title="1、你没有注意过的构建"></a>1、你没有注意过的构建</h4><p>你可以不使用 Maven，但是构建必须要做。当我们使用 IDEA 进行开发时，构建是 IDEA 替我们做的。</p>
<h4 id="2、脱离-IDE-环境仍需构建"><a href="#2、脱离-IDE-环境仍需构建" class="headerlink" title="2、脱离 IDE 环境仍需构建"></a>2、脱离 IDE 环境仍需构建</h4><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img010.74e515e5.png" alt="images"></p>
<h3 id="三、结论"><a href="#三、结论" class="headerlink" title="三、结论"></a>三、结论</h3><ul>
<li>  <strong>管理规模庞大的 jar 包，需要专门工具。</strong></li>
<li>  <strong>脱离 IDE 环境执行构建操作，需要专门工具。</strong></li>
</ul>
<hr>
<h2 id="第二节-What？什么是Maven？"><a href="#第二节-What？什么是Maven？" class="headerlink" title="第二节 What？什么是Maven？"></a>第二节 What？什么是Maven？</h2><p>Maven 是 Apache 基金会维护的一款专门为 Java 项目提供<strong>构建</strong>和<strong>依赖管理</strong>支持的工具。</p>
<h3 id="一、构建"><a href="#一、构建" class="headerlink" title="一、构建"></a>一、构建</h3><p>Java 项目开发过程中，构建指的是使用<strong>『原材料生产产品』</strong>的过程。</p>
<ul>
<li>原材料<ul>
<li>  Java源代码</li>
<li>  配置文件</li>
<li>  基于 HTML 的 Thymeleaf 文件</li>
<li>  图片</li>
<li>  ……</li>
</ul>
</li>
<li>产品<ul>
<li>  一个可以在服务器上运行的项目</li>
</ul>
</li>
</ul>
<p>构建过程包含的主要环节：</p>
<ol>
<li> 清理：删除上一次构建的结果，为下一次构建做好准备</li>
<li> 编译：将 Java 源程序编译成 <code>.class</code> 字节码文件</li>
<li> 测试：运行提前准备好的测试程序</li>
<li> 报告：针对刚才测试的结果生成一个全面的信息</li>
<li>打包：<ul>
<li>  Java工程：jar包</li>
<li>  Web工程：war包</li>
</ul>
</li>
<li> 安装：把一个 Maven 工程经过打包操作生成的 jar 包或 war 包存入 Maven 仓库</li>
<li>部署：<ul>
<li>  部署jar包：把一个jar包部署到Nexus私服服务器上</li>
<li>  部署war包：借助相关Maven插件（例如cargo），将war包部署到Tomcat服务器上。</li>
</ul>
</li>
</ol>
<h3 id="二、依赖管理"><a href="#二、依赖管理" class="headerlink" title="二、依赖管理"></a>二、依赖管理</h3><p>如果 A 工程里面用到了 B 工程的类、接口、配置文件等等这样的资源，那么我们就可以说 A 依赖 B。例如：</p>
<ul>
<li>  junit-4.12 依赖 hamcrest-core-1.3</li>
<li>thymeleaf-3.0.12.RELEASE 依赖 ognl-3.1.26<ul>
<li>  ognl-3.1.26 依赖 javassist-3.20.0-GA</li>
</ul>
</li>
<li>  thymeleaf-3.0.12.RELEASE 依赖 attoparser-2.0.5.RELEASE</li>
<li>  thymeleaf-3.0.12.RELEASE 依赖 unbescape-1.1.6.RELEASE</li>
<li>  thymeleaf-3.0.12.RELEASE 依赖 slf4j-api-1.7.26</li>
</ul>
<p>依赖管理中要解决的具体问题：</p>
<ul>
<li>  jar 包的下载：使用 Maven 之后，jar 包会从规范的远程仓库下载到本地</li>
<li>  jar 包之间的依赖：通过依赖的传递性自动完成</li>
<li>  jar 包之间的冲突：通过对依赖的配置进行调整，让某些jar包不会被导入</li>
</ul>
<h3 id="三、Maven-的工作机制"><a href="#三、Maven-的工作机制" class="headerlink" title="三、Maven 的工作机制"></a>三、Maven 的工作机制</h3><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/img003.f9cc536c.png" alt="./images"></p>
<hr>
<h1 id="第二章-Maven核心程序的安装与配置"><a href="#第二章-Maven核心程序的安装与配置" class="headerlink" title="第二章 Maven核心程序的安装与配置"></a>第二章 Maven核心程序的安装与配置</h1><h2 id="第一节-Maven核心程序安装与配置"><a href="#第一节-Maven核心程序安装与配置" class="headerlink" title="第一节 Maven核心程序安装与配置"></a>第一节 Maven核心程序安装与配置</h2><h3 id="1、Maven官网地址"><a href="#1、Maven官网地址" class="headerlink" title="1、Maven官网地址"></a>1、Maven官网地址</h3><p>首页：</p>
<p><a target="_blank" rel="noopener" href="https://maven.apache.org/">Maven – Welcome to Apache Maven</a></p>
<p>下载页面：</p>
<p><a target="_blank" rel="noopener" href="https://maven.apache.org/download.cgi">Maven – Download Apache Maven</a></p>
<p>下载链接：</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408110007419.png" alt="image-20220408110007419"></p>
<blockquote>
<ul>
<li>注意：<ul>
<li>  如果你是一个 IDEA 用户，请一定要注意 IDEA 和 Maven 版本的兼容性。</li>
<li>  我自己的 IDEA 版本是 IntelliJ IDEA 2020.3.2，该版本只能使用 apache-maven-3.6.3 及其之前的版本。</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="2、解压Maven核心程序"><a href="#2、解压Maven核心程序" class="headerlink" title="2、解压Maven核心程序"></a>2、解压Maven核心程序</h3><p>将核心程序压缩包<code>apache-maven-3.8.5-bin.zip</code>，解压到<strong>非中文、没有空格</strong>的目录。</p>
<p>在解压目录中，我们需要着重关注 Maven 的核心配置文件：<strong>conf/settings.xml</strong></p>
<img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408110550592.png" alt="image-20220408110550592" style="zoom:67%;">



<h3 id="3、指定本地仓库"><a href="#3、指定本地仓库" class="headerlink" title="3、指定本地仓库"></a>3、指定本地仓库</h3><p>本地仓库默认值：<code>用户家目录/.m2/repository</code>。由于本地仓库的默认位置是在用户的家目录下，而家目录往往是在 C 盘，也就是系统盘。将来 Maven 仓库中 jar 包越来越多，仓库体积越来越大，可能会拖慢 C 盘运行速度，影响系统性能。所以建议将 Maven 的本地仓库放在其他盘符下。配置方式如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- localRepository</span></span><br><span class="line"><span class="comment">| The path to the local repository maven will use to store artifacts.</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Default: $&#123;user.home&#125;/.m2/repository</span></span><br><span class="line"><span class="comment">&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:\Software\Dev\maven-repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>本地仓库这个目录，我们手动创建一个空的目录即可。</p>
<p><strong>记住</strong>：一定要把 localRepository 标签<strong>从注释中拿出来</strong>。</p>
<p><strong>注意</strong>：本地仓库本身也需要使用一个<strong>非中文、没有空格</strong>的目录。</p>
<h3 id="4、配置阿里云提供的镜像仓库"><a href="#4、配置阿里云提供的镜像仓库" class="headerlink" title="4、配置阿里云提供的镜像仓库"></a>4、配置阿里云提供的镜像仓库</h3><p>Maven 下载 jar 包默认访问境外的中央仓库，而国外网站速度很慢。改成阿里云提供的镜像仓库，<strong>访问国内网站</strong>，可以让 Maven 下载 jar 包的时候速度更快。配置的方式是：</p>
<h4 id="1、将原有的例子配置注释掉"><a href="#1、将原有的例子配置注释掉" class="headerlink" title="1、将原有的例子配置注释掉"></a>1、将原有的例子配置注释掉</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;mirror&gt;</span></span><br><span class="line"><span class="comment">  &lt;id&gt;maven-default-http-blocker&lt;/id&gt;</span></span><br><span class="line"><span class="comment">  &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;</span></span><br><span class="line"><span class="comment">  &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP.&lt;/name&gt;</span></span><br><span class="line"><span class="comment">  &lt;url&gt;http://0.0.0.0/&lt;/url&gt;</span></span><br><span class="line"><span class="comment">  &lt;blocked&gt;true&lt;/blocked&gt;</span></span><br><span class="line"><span class="comment">&lt;/mirror&gt; --&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="2、加入我们的配置"><a href="#2、加入我们的配置" class="headerlink" title="2、加入我们的配置"></a>2、加入我们的配置</h4><p>将下面 mirror 标签整体复制到 settings.xml 文件的 mirrors 标签的内部。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="5、配置-Maven-工程的基础-JDK-版本"><a href="#5、配置-Maven-工程的基础-JDK-版本" class="headerlink" title="5、配置 Maven 工程的基础 JDK 版本"></a>5、配置 Maven 工程的基础 JDK 版本</h3><p>如果按照默认配置运行，Java 工程使用的默认 JDK 版本是 1.5，而我们熟悉和常用的是 JDK 1.8 版本。修改配置的方式是：将 profile 标签整个复制到 settings.xml 文件的 profiles 标签内。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>









<hr>
<h2 id="第二节-配置环境变量"><a href="#第二节-配置环境变量" class="headerlink" title="第二节 配置环境变量"></a>第二节 配置环境变量</h2><ul>
<li>  1、检查 JAVA_HOME 配置是否正确</li>
<li>  2、配置 MAVEN_HOME</li>
<li>  3、配置PATH</li>
<li>  4、验证</li>
</ul>
<h3 id="1、检查-JAVA-HOME-配置是否正确"><a href="#1、检查-JAVA-HOME-配置是否正确" class="headerlink" title="1、检查 JAVA_HOME 配置是否正确"></a>1、检查 JAVA_HOME 配置是否正确</h3><p>Maven 是一个用 Java 语言开发的程序，它必须基于 JDK 来运行，需要通过 JAVA_HOME 来找到 JDK 的安装位置。</p>
<img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408114249657.png" alt="image-20220408114249657" style="zoom: 67%;">



<p>可以使用下面的命令验证：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\system32&gt;echo %JAVA_HOME%</span><br><span class="line">D:\Software\Dev\Java\jdk1.8.0_162</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\Windows\system32&gt;java -version</span><br><span class="line">java version &quot;1.8.0_162&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_162-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)</span><br></pre></td></tr></table></figure>



<h3 id="2、配置-MAVEN-HOME"><a href="#2、配置-MAVEN-HOME" class="headerlink" title="2、配置 MAVEN_HOME"></a>2、配置 MAVEN_HOME</h3><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408114553733.png" alt="image-20220408114553733" style="zoom:67%;">



<blockquote>
<p>  TIP:</p>
<p>  配置环境变量的规律：</p>
<ul>
<li>  XXX_HOME 通常指向的是 bin 目录的上一级</li>
<li>  PATH 指向的是 bin 目录</li>
</ul>
</blockquote>
<h3 id="3、配置PATH"><a href="#3、配置PATH" class="headerlink" title="3、配置PATH"></a>3、配置PATH</h3><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408115112790.png" alt="image-20220408115112790" style="zoom: 67%;">

<h3 id="4、验证"><a href="#4、验证" class="headerlink" title="4、验证"></a>4、验证</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\admin&gt;mvn -v</span><br><span class="line">Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)</span><br><span class="line">Maven home: D:\Software\Dev\apache-maven-3.8.5</span><br><span class="line">Java version: 1.8.0_162, vendor: Oracle Corporation, runtime: D:\Software\Dev\Java\jdk1.8.0_162\jre</span><br><span class="line">Default locale: zh_CN, platform encoding: GBK</span><br><span class="line">OS name: <span class="string">&quot;windows 10&quot;</span>, version: <span class="string">&quot;10.0&quot;</span>, <span class="built_in">arch</span>: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;windows&quot;</span></span><br></pre></td></tr></table></figure>





<hr>
<h1 id="第三章-使用Maven：命令行环境"><a href="#第三章-使用Maven：命令行环境" class="headerlink" title="第三章 使用Maven：命令行环境"></a>第三章 使用Maven：命令行环境</h1><p>第一节 实验一：根据坐标创建 Maven 工程</p>
<p>第二节 实验二：在 Maven 工程中编写代码</p>
<p>第三节 实验三：执行 Maven 的构建命令</p>
<p>第四节 实验四：创建 Maven 版的 Web 工程</p>
<p>第五节 实验五：让 Web 工程依赖 Java 工程</p>
<p>第六节 实验六：测试依赖范围</p>
<p>第七节 实验七：测试依赖的传递性</p>
<p>第八节 实验八：测试依赖的排除</p>
<p>第九节 实验九：继承</p>
<p>第十节 实验十：聚合</p>
<h2 id="第一节-实验一：根据坐标创建Maven工程"><a href="#第一节-实验一：根据坐标创建Maven工程" class="headerlink" title="第一节 实验一：根据坐标创建Maven工程"></a>第一节 实验一：根据坐标创建Maven工程</h2><h3 id="一、Maven核心概念：坐标"><a href="#一、Maven核心概念：坐标" class="headerlink" title="一、Maven核心概念：坐标"></a>一、Maven核心概念：坐标</h3><h4 id="1、数学中的坐标"><a href="#1、数学中的坐标" class="headerlink" title="1、数学中的坐标"></a>1、数学中的坐标</h4><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408160611025.png" alt="image-20220408160611025" style="zoom: 50%;">

<p>使用 x、y、z 三个<strong>『向量』</strong>作为空间的坐标系，可以在<strong>『空间』</strong>中唯一定位到一个<strong>『点』</strong>。</p>
<h4 id="2、Maven中的坐标"><a href="#2、Maven中的坐标" class="headerlink" title="2、Maven中的坐标"></a>2、Maven中的坐标</h4><p>（1）向量说明：</p>
<p>使用三个<strong>『向量』</strong>在<strong>『Maven仓库』</strong>中唯一定位到一个<strong>『jar』</strong>包。</p>
<ul>
<li>  <code>groupId</code>：公司或组织的id</li>
<li>  <code>artifactId</code>：一个项目或者是项目中的一个模块的id</li>
<li>  <code>version</code>：版本号</li>
</ul>
<p>（2）三个向量的取值方式</p>
<ul>
<li><code>groupId</code>：公司或组织域名的倒序，通常也会加上项目名称。<ul>
<li>  例如：com.github.penggle</li>
</ul>
</li>
<li>  <code>artifactId</code>：模块的名称，将来作为Maven工程的工程名</li>
<li><code>version</code>：模块的版本号，根据自己的需要设定。<ul>
<li>  例如：SNAPSHOT 表示快照版本，正在迭代过程中，不稳定的版本</li>
<li>  例如：RELEASE 表示正式版本</li>
</ul>
</li>
</ul>
<p>举例：</p>
<ul>
<li>  <code>groupId</code>：com.github.penggle</li>
<li>  <code>artifactId</code>：kaptcha</li>
<li>  <code>version</code>：2.3.2</li>
</ul>
<h4 id="3、坐标和仓库中jar包的存储路径之间的对应关系"><a href="#3、坐标和仓库中jar包的存储路径之间的对应关系" class="headerlink" title="3、坐标和仓库中jar包的存储路径之间的对应关系"></a>3、坐标和仓库中jar包的存储路径之间的对应关系</h4><p>坐标：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--验证码生成器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.penggle<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>kaptcha<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面坐标对应的jar包在Maven本地仓库中的位置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;Maven本地仓库的根目录&#125;/com/github/penggle/kaptcha/kaptcha-2.3.2.jar</span><br></pre></td></tr></table></figure>

<p>一定要学会根据坐标到本地仓库中找对应的jar包。</p>
<hr>
<h3 id="二、实验操作"><a href="#二、实验操作" class="headerlink" title="二、实验操作"></a>二、实验操作</h3><h4 id="1、创建目录作为后面操作的工作空间"><a href="#1、创建目录作为后面操作的工作空间" class="headerlink" title="1、创建目录作为后面操作的工作空间"></a>1、创建目录作为后面操作的工作空间</h4><p>例如：E:\workspace-maven\space202204</p>
<blockquote>
<p>  WARNING</p>
<p>  此时我们已经有了三个目录，分别是：</p>
<ul>
<li>  Maven 核心程序：中军大帐</li>
<li>  Maven 本地仓库：兵营</li>
<li>  本地工作空间：战场</li>
</ul>
</blockquote>
<h4 id="2、在工作空间目录下打开命令行窗口"><a href="#2、在工作空间目录下打开命令行窗口" class="headerlink" title="2、在工作空间目录下打开命令行窗口"></a>2、在工作空间目录下打开命令行窗口</h4><h4 id="3、使用命令生成Maven工程"><a href="#3、使用命令生成Maven工程" class="headerlink" title="3、使用命令生成Maven工程"></a>3、使用命令生成Maven工程</h4><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408163058811.png" alt="image-20220408163058811"></p>
<ol>
<li><p> 运行 <code>mvn archetype:generate</code> 命令，创建一个脚手架。archetype 是一个插件的名字，可以理解为就是一个jar包，generate 是插件提供的一个功能。</p>
</li>
<li><p>在下载完依赖的jar包后，根据下面提示操作：</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Choose a number or apply filter (format: [groupId:]artifactId, <span class="keyword">case</span> sensitive contains): 7: <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line"></span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;groupId&#x27;</span>: cn.xsyu.maven</span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;artifactId&#x27;</span>: pro01-maven-java</span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;version&#x27;</span> 1.0-SNAPSHOT: : <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;package&#x27;</span> cn.xsyu.maven: : <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">Confirm properties configuration:</span><br><span class="line">groupId: cn.xsyu.maven</span><br><span class="line">artifactId: pro01-maven-java</span><br><span class="line">version: 1.0-SNAPSHOT</span><br><span class="line">package: cn.xsyu.maven</span><br><span class="line"> Y: : <span class="comment"># 直接回车，表示确认。如果前面有输入错误，想要重新输入，则输入 N 再回车。</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="4、调整"><a href="#4、调整" class="headerlink" title="4、调整"></a>4、调整</h4><ul>
<li>  Maven 默认生成的工程，使用的 junit 依赖jar是较低的 3.8.1 版本，我们可以改成较高的 4.12 版本，以方便后续测试使用。</li>
<li>  自动生成的 App.java 和 AppTest.java 可以删除</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 依赖信息配置 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- dependencies复数标签：里面包含dependency单数标签 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- dependency单数标签：配置一个具体的依赖 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 通过坐标来依赖其他jar包 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 依赖的范围 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="5、自动生成的-pom-xml-解读"><a href="#5、自动生成的-pom-xml-解读" class="headerlink" title="5、自动生成的 pom.xml 解读"></a>5、自动生成的 pom.xml 解读</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 当前Maven工程的坐标 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">&lt;!-- 当前Maven工程的打包方式，可选值有下面三种： --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- jar：表示这个工程是一个Java工程  --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- war：表示这个工程是一个Web工程 --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- pom：表示这个工程是“管理其他工程”的工程 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 工程构建过程中读取源码时使用的字符集 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- 当前工程所依赖的jar包 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 使用dependency配置一个具体的依赖 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 在dependency标签内使用具体的坐标依赖我们需要的一个jar包 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- scope标签配置依赖的范围 --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="三、Maven核心概念：POM"><a href="#三、Maven核心概念：POM" class="headerlink" title="三、Maven核心概念：POM"></a>三、Maven核心概念：POM</h3><h4 id="1、含义"><a href="#1、含义" class="headerlink" title="1、含义"></a>1、含义</h4><p>POM（<strong>P</strong>roject <strong>O</strong>bject <strong>M</strong>odel），项目对象化模型。和 POM 类似的有 DOM（Document Object Model），文档对象模型。它们都是模型化思想的具体体现。</p>
<h4 id="2、模型化思想"><a href="#2、模型化思想" class="headerlink" title="2、模型化思想"></a>2、模型化思想</h4><p>POM 表示将工程抽象为一个模型，再用程序中的对象来描述这个模型。这样我们就可以用程序来管理项目了。我们在开发过程中，最基本的做法就是将现实生活中的事物抽象为模型，然后封装模型相关的数据作为一个对象，这样就可以在程序中计算与现实事物相关的数据。</p>
<h4 id="3、对应的配置文件"><a href="#3、对应的配置文件" class="headerlink" title="3、对应的配置文件"></a>3、对应的配置文件</h4><p>POM 理念集中体现在 Maven 工程根目录下的 <code>pom.xml</code> 这个配置文件中。所以这个 pom.xml 配置文件就是 Maven 工程的核心配置文件。其实学习 Maven 就是学习这个文件怎么配置，各个配置有什么用。</p>
<h3 id="四、Maven核心概念：约定的目录结构"><a href="#四、Maven核心概念：约定的目录结构" class="headerlink" title="四、Maven核心概念：约定的目录结构"></a>四、Maven核心概念：约定的目录结构</h3><h4 id="1、各个目录的作用"><a href="#1、各个目录的作用" class="headerlink" title="1、各个目录的作用"></a>1、各个目录的作用</h4><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408170538989.png" alt="image-20220408170538989"></p>
<p>另外还有一个 <code>target</code> 目录专门存放构建操作输出的结果。</p>
<h4 id="2、约定目录结构的意义"><a href="#2、约定目录结构的意义" class="headerlink" title="2、约定目录结构的意义"></a>2、约定目录结构的意义</h4><p>为了让构建过程尽可能自动化完成，Maven 也采用了“约定大于配置”的思想，在底层约定了目录结构的作用。</p>
<p>例如：Maven 执行编译操作，必须先去 Java 源程序目录读取 Java 源代码，然后执行编译，最后把编译结果放在 target 目录。</p>
<h4 id="3、约定大于配置"><a href="#3、约定大于配置" class="headerlink" title="3、约定大于配置"></a>3、约定大于配置</h4><p>Maven 对于目录结构这个问题，没有采用基于配置的方式，而是基于约定。这样会让我们在开发过程中非常方便。如果每次创建 Maven 工程后，还需要针对各个目录的位置及保存的文件类型进行详细的配置，那肯定非常麻烦。</p>
<p>目前开发领域的技术发展趋势就是：约定大于配置，配置大于编码。</p>
<hr>
<h2 id="第二节-实验二：在-Maven-工程中编写代码"><a href="#第二节-实验二：在-Maven-工程中编写代码" class="headerlink" title="第二节 实验二：在 Maven 工程中编写代码"></a>第二节 实验二：在 Maven 工程中编写代码</h2><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408172504131.png" alt="image-20220408172504131"></p>
<h3 id="1、主体程序"><a href="#1、主体程序" class="headerlink" title="1、主体程序"></a>1、主体程序</h3><p>在主体程序目录中创建 Calculator 类。</p>
<p>主体程序指的是被测试的程序，同时也是将来在项目中真正要使用的程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.xsyu.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i + j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2、测试程序"><a href="#2、测试程序" class="headerlink" title="2、测试程序"></a>2、测试程序</h3><p>在测试程序目录中创建 CalculatorTest 类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.xsyu.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态导入的效果是将 org.junit.Assert 类中的静态资源导入当前类</span></span><br><span class="line"><span class="comment">// 这样一来，在当前类中就可以直接使用 org.junit.Assert 类中的静态资源，不需要写类名</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 1.创建Calculator对象</span></span><br><span class="line">        <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.调用Calculator对象的方法，获取到程序运行实际的结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">actualResult</span> <span class="operator">=</span> calculator.sum(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.声明一个变量，表示程序运行期待的结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">expectedResult</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.使用断言来判断实际结果和期待结果是否一致</span></span><br><span class="line">        <span class="comment">// 如果一致：测试通过，不会抛出异常</span></span><br><span class="line">        <span class="comment">// 如果不一致：通过底层源码抛出异常，测试失败</span></span><br><span class="line">        assertEquals(expectedResult, actualResult);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="第三节-实验三：执行-Maven-的构建命令"><a href="#第三节-实验三：执行-Maven-的构建命令" class="headerlink" title="第三节 实验三：执行 Maven 的构建命令"></a>第三节 实验三：执行 Maven 的构建命令</h2><h3 id="1、要求"><a href="#1、要求" class="headerlink" title="1、要求"></a>1、要求</h3><p><u>运行 Maven 中和构建操作相关的命令时，必须进入到 pom.xml 所在的目录。</u>如果没有在 pom.xml 所在的目录运行 Maven 构建命令，那么会看到下面的错误信息。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The goal you specified requires a project to execute but there is no POM <span class="keyword">in</span> this directory</span><br></pre></td></tr></table></figure>

<blockquote>
<p>  Tip：</p>
<p>  <code>mvn -v</code> 命令和构建操作无关，只要正确配置了 PATH，在任何目录下执行都可以。而构建相关的命令要在 pom.xml 所在目录下运行，操作哪个工程，就进入这个工程的 pom.xml 目录。</p>
</blockquote>
<h3 id="2、清理操作"><a href="#2、清理操作" class="headerlink" title="2、清理操作"></a>2、清理操作</h3><p><code>mvn clean</code></p>
<p>效果：删除 target 目录</p>
<h3 id="3、编译操作"><a href="#3、编译操作" class="headerlink" title="3、编译操作"></a>3、编译操作</h3><ul>
<li>  主程序编译：<code>mvn compile</code></li>
<li>  测试程序编译：<code>mvn test-compile</code></li>
<li>  主体程序编译结果存放的目录：<code>target/classes</code></li>
<li>  测试程序编译结果存放的目录：<code>target/test-classes</code></li>
</ul>
<h3 id="4、测试操作"><a href="#4、测试操作" class="headerlink" title="4、测试操作"></a>4、测试操作</h3><p><code>mvn-test</code></p>
<p>测试报告存放的目录：<code>target/surefire-reports</code></p>
<h3 id="5、打包操作"><a href="#5、打包操作" class="headerlink" title="5、打包操作"></a>5、打包操作</h3><p><code>mvn package</code></p>
<p>打包的结果：生成 jar 包，</p>
<p>jar 包的存放的目录：<code>target</code></p>
<h3 id="6、安装操作"><a href="#6、安装操作" class="headerlink" title="6、安装操作"></a>6、安装操作</h3><p><code>mvn install</code></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将jar包存入本地仓库</span></span><br><span class="line">[INFO] Installing E:\workspace-maven\space202204\pro01-maven-java\target\pro01-maven-java-<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT<span class="variable">.jar</span> to D:\maven-repository\cn\xsyu\maven\pro01-maven-java\<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT\pro01-maven-java-<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT<span class="variable">.jar</span></span><br><span class="line"><span class="comment">// pom.xml -&gt; Xxx.pom</span></span><br><span class="line">[INFO] Installing E:\workspace-maven\space202204\pro01-maven-java\pom<span class="variable">.xml</span> to D:\maven-repository\cn\xsyu\maven\pro01-maven-java\<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT\pro01-maven-java-<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT<span class="variable">.pom</span></span><br></pre></td></tr></table></figure>

<p>安装的效果是将本地构建过程中生成的 jar 包存入 Maven 本地仓库。这个 jar 包在 Maven 仓库中的路径是根据它的坐标来生成的。</p>
<p>坐标信息如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在 Maven 仓库中生成的 jar 包的路径如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\maven-repository\cn\xsyu\maven\pro01-maven-java\1.0-SNAPSHOT\pro01-maven-java-1.0-SNAPSHOT.jar</span><br></pre></td></tr></table></figure>

<p>另外，<u>安装操作还会将 pom.xml 文件转换为 Xxx.pom 文件一起存入本地仓库。</u>所以，我们在 Maven 的本地仓库想要查看一个 jar 包的原始 pom.xml 文件时，直接查看对应的 Xxx.pom 即可。它们只是名字发生了改变，本质上是同一个文件。</p>
<hr>
<h2 id="第四节-实验四：创建-Maven-版的-Web-工程"><a href="#第四节-实验四：创建-Maven-版的-Web-工程" class="headerlink" title="第四节 实验四：创建 Maven 版的 Web 工程"></a>第四节 实验四：创建 Maven 版的 Web 工程</h2><h3 id="1、说明"><a href="#1、说明" class="headerlink" title="1、说明"></a>1、说明</h3><p>使用 <code>mvn archetype:generate</code> 命令生成 Web 工程时，需要使用一个专门的 archetype。这个专门生成 Web 工程的骨架 archetype 可以参照官网看到它的用法。</p>
<p>TODO…</p>
<p>参数 archetypeGroupId、archetypeArtifactId、archetypeVersion 用来指定现在使用的 maven-archetype-webapp 的坐标。</p>
<h3 id="2、操作"><a href="#2、操作" class="headerlink" title="2、操作"></a>2、操作</h3><p><strong>注意：</strong>如果在上一个工程目录下执行 <code>mvn archetype:generate</code> 命令，那么 Maven 会报错：不能在一个非 pom 工程下再创建其它工程。</p>
<blockquote>
<p>  Unable to add module to the current project as it is not of packaging type ‘pom’</p>
</blockquote>
<p>所以，不要在刚才创建的工程里再创建新的 Maven 工程。请回到工作空间的根目录来操作。</p>
<p>然后，运行生成工程的命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-webapp -DarchetypeVersion=1.4</span><br></pre></td></tr></table></figure>

<p>下面的操作按照提示执行：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;groupId&#x27;</span>: cn.xsyu.maven</span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;artifactId&#x27;</span>: pro02-maven-web</span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;version&#x27;</span> 1.0-SNAPSHOT: :</span><br><span class="line">Define value <span class="keyword">for</span> property <span class="string">&#x27;package&#x27;</span> cn.xsyu.maven: : <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">Confirm properties configuration:</span><br><span class="line">groupId: cn.xsyu.maven <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">artifactId: pro02-maven-web <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">version: 1.0-SNAPSHOT <span class="comment"># 直接回车，使用默认值</span></span><br><span class="line">package: cn.xsyu.maven</span><br><span class="line"> Y: : <span class="comment"># 直接回车，表示确认</span></span><br></pre></td></tr></table></figure>



<h3 id="3、生成的-pom-xml"><a href="#3、生成的-pom-xml" class="headerlink" title="3、生成的 pom.xml"></a>3、生成的 pom.xml</h3><p>确认打包的方式是 war 包形式。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="4、生成的-Web-工程的目录结构"><a href="#4、生成的-Web-工程的目录结构" class="headerlink" title="4、生成的 Web 工程的目录结构"></a>4、生成的 Web 工程的目录结构</h3><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408184141206.png" alt="image-20220408184141206" style="zoom:67%;">

<ul>
<li>  webapp 目录下有 index.jsp</li>
<li>  WEB-INF 目录下有 web.xml</li>
</ul>
<h3 id="5、创建Servlet"><a href="#5、创建Servlet" class="headerlink" title="5、创建Servlet"></a>5、创建Servlet</h3><ol>
<li><p> 在 main 目录下创建 java 目录</p>
</li>
<li><p> 在 java 目录下创建 Servlet 类所在的包的目录</p>
</li>
<li><p>导入对 <code>servlet-api.jar</code> 包的依赖</p>
<ul>
<li>  对于不知道详细信息的依赖可以到 <a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a> 网站查询。使用关键词搜索，然后在搜索结果列表中选择适合的使用。</li>
<li>  比如，我们找到的 servlet-api 的依赖信息：</li>
</ul>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>在包下创建 Servlet 类</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.xsyu.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        response.getWriter().write(<span class="string">&quot;hello maven web&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>在 web.xml 中注册 Servlet</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>cn.xsyu.maven.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>helloServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/helloServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>在 index.jsp 页面编写超链接</p>
 <figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h2&gt;Hello World!&lt;/h2&gt;</span><br><span class="line">        &lt;a href=<span class="string">&quot;/helloServlet&quot;</span>&gt;Access Servlet&lt;/a&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408190148655.png" alt="image-20220408190148655" style="zoom:67%;">





<h3 id="6、编译"><a href="#6、编译" class="headerlink" title="6、编译"></a>6、编译</h3><p><code>mvn compile</code></p>
<h3 id="7、将-Web-工程打包为-war-包"><a href="#7、将-Web-工程打包为-war-包" class="headerlink" title="7、将 Web 工程打包为 war 包"></a>7、将 Web 工程打包为 war 包</h3><p>运行 <code>mvn package</code> 命令，生成的 war 包的位置如下图所示：</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408190831519.png" alt="image-20220408190831519"></p>
<h3 id="8、将-war-包部署到-Tomcat-上运行"><a href="#8、将-war-包部署到-Tomcat-上运行" class="headerlink" title="8、将 war 包部署到 Tomcat 上运行"></a>8、将 war 包部署到 Tomcat 上运行</h3><p>（1）将 war 包复制到 Tomcat/webapps 目录下</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408191725052.png" alt="image-20220408191725052"></p>
<p>（2）启动 Tomcat</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408191836572.png" alt="image-20220408191836572"></p>
<p>此时，再去访问 webapps 目录，可以发现 Tomcat 启动后会自动解压 war 包。</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408192152959.png" alt="image-20220408192152959"></p>
<p>（3）通过浏览器尝试访问：<a target="_blank" rel="noopener" href="http://localhost:8080/pro02-maven-web/index.jsp">http://localhost:8080/pro02-maven-web/index.jsp</a></p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408192341212.png" alt="image-20220408192341212"></p>
<hr>
<h2 id="第五节-实验五：让-Web-工程依赖-Java-工程"><a href="#第五节-实验五：让-Web-工程依赖-Java-工程" class="headerlink" title="第五节 实验五：让 Web 工程依赖 Java 工程"></a>第五节 实验五：让 Web 工程依赖 Java 工程</h2><h3 id="1、观念"><a href="#1、观念" class="headerlink" title="1、观念"></a>1、观念</h3><p>明确一个意识：从来只有 Web 工程依赖 Java 工程，没有 Java 工程依赖 Web 工程。</p>
<p>本质上来说，Web 工程依赖的 Java 工程其实就是 Web 工程里面导入的 jar 包。也就是说，Java 工程最终会变成 jar 包，放在 Web 工程的 WEB-INF/lib 目录下。</p>
<h3 id="2、操作-1"><a href="#2、操作-1" class="headerlink" title="2、操作"></a>2、操作</h3><p>在 pro02-maven-web 工程的 pom.xml 中，添加如下依赖：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置对Java工程pro01-maven-java的依赖--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 具体的配置方式：在dependency标签内使用坐标实现依赖--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="3、在-Web-工程中，编写测试代码"><a href="#3、在-Web-工程中，编写测试代码" class="headerlink" title="3、在 Web 工程中，编写测试代码"></a>3、在 Web 工程中，编写测试代码</h3><ol>
<li><p>补充创建目录：<code>pro02-maven-web/src/test/java/cn/xsyu/maven</code></p>
 <img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408205004283.png" alt="image-20220408205004283" style="zoom:67%;">

<ul>
<li>  可以看出，test 目录和 main 目录属于同一级目录，一个负责保存主体程序的源代码，一个负责保存测试程序的源代码。</li>
</ul>
</li>
<li><p>确认 Web 工程依赖了 Junit</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>创建测试类。</p>
<p> 把 Java 工程中的  CalculatorTest.java 类复制到 pro02-maven-wb<strong>\src\test\java\com\atguigu\maven</strong> 目录下。</p>
</li>
</ol>
<h3 id="4、执行-Maven-命令"><a href="#4、执行-Maven-命令" class="headerlink" title="4、执行 Maven 命令"></a>4、执行 Maven 命令</h3><ol>
<li><p><strong>测试命令</strong></p>
<p> <code>mvn test</code></p>
<p> 说明：执行测试操作时，会提前自动执行编译操作，测试能够成功就说明编译也是成功的。</p>
</li>
<li><p><strong>打包命令</strong></p>
<p> <code>mvn package</code></p>
 <img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408210807337.png" alt="image-20220408210807337" style="zoom:67%;">

<p> 通过查看 war 包内的结构，我们看到 Web 工程依赖的 Java 工程确实会变成 Web 工程的 <code>WEB-INF/lib</code> 目录下的 jar 包。</p>
<p> <img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408210700458.png" alt="image-20220408210700458"></p>
</li>
<li><p><strong>查看当前 Web 工程所依赖的 jar 包的列表</strong></p>
<p> <code>mvn dependency:list</code></p>
 <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] The following files have been resolved:</span><br><span class="line">[INFO]    org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br><span class="line">[INFO]    javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO]    junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO]    cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br></pre></td></tr></table></figure>

<p> 说明：以 <code>javax.servlet:javax.servlet-api:jar:3.1.0:provided</code> 为例，这段信息显示的是一个 jar 包的坐标信息。具体格式为：</p>
<blockquote>
<p>  {groupId}:{artifactId}:{打包方式}:{版本号}:{依赖的范围}</p>
</blockquote>
<p> 这样的格式虽然和我们的 XML 配置文件中坐标的格式不同，但是本质上还是坐标信息。我们需要能够认识这样的格式，将来从 Maven 命令的日志或错误信息中看到这样格式的信息，就能够识别出来这是坐标。进而根据坐标到 Maven 仓库找到对应的 jar 包，用这样的方式解决我们遇到的问题。</p>
</li>
<li><p>以树形结构查看当前 Web 工程的依赖信息</p>
<p> <code>mvn dependency:tree</code></p>
 <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro02-maven-web:war:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO] |  \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br><span class="line">[INFO] +- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO] \- cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br></pre></td></tr></table></figure>

<p> 我们在 pom.xml 中并没有依赖 hamcrest-core，但是它却被加入到了我们的依赖类表。</p>
<p> 原因是：junit 依赖了 hamcrest-core。基于依赖的传递性，hamcrest-core 就被我们的项目间接的依赖了。</p>
</li>
</ol>
<hr>
<h2 id="第六节-实验六：测试依赖范围"><a href="#第六节-实验六：测试依赖范围" class="headerlink" title="第六节 实验六：测试依赖范围"></a>第六节 实验六：测试依赖范围</h2><h3 id="1、依赖范围"><a href="#1、依赖范围" class="headerlink" title="1、依赖范围"></a>1、依赖范围</h3><ul>
<li>  标签的位置：dependencies/dependency/<strong>scope</strong></li>
<li>  标签的可选值：<strong>compile/test/provided</strong>/system/runtime/<strong>import</strong></li>
</ul>
<h4 id="（1）compile-和-test-对比"><a href="#（1）compile-和-test-对比" class="headerlink" title="（1）compile 和 test 对比"></a>（1）compile 和 test 对比</h4><p>从时间和空间两个维度进行分析：</p>
<table>
<thead>
<tr>
<th></th>
<th>main目录（空间）</th>
<th>test目录（空间）</th>
<th>开发过程（时间）</th>
<th>部署到服务器（时间）</th>
</tr>
</thead>
<tbody><tr>
<td>compile</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
</tr>
<tr>
<td>test</td>
<td><strong>无效</strong></td>
<td>有效</td>
<td>有效</td>
<td><strong>无效</strong></td>
</tr>
</tbody></table>
<blockquote>
<ul>
<li>助记：<ul>
<li>  compile 翻译过来是“编译”的意思，通过前面的学习，我们知道了编译既能作用于 main 目录，也能作用于 test 目录，所以从空间维度上来讲，compile 既能作用于 main 目录，也能作用于 test 目录。</li>
<li>  test 翻译过来是“测试”，顾名思义，我们可以想当然的认为 test 只能作用于 test 目录。</li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="（2）compile-与-provided-对比"><a href="#（2）compile-与-provided-对比" class="headerlink" title="（2）compile 与 provided 对比"></a>（2）compile 与 provided 对比</h4><table>
<thead>
<tr>
<th></th>
<th>main目录（空间）</th>
<th>test目录（空间）</th>
<th>开发过程（时间）</th>
<th>部署到服务器（时间）</th>
</tr>
</thead>
<tbody><tr>
<td>compile</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
<td>有效</td>
</tr>
<tr>
<td>provided</td>
<td>无效</td>
<td>有效</td>
<td>有效</td>
<td><strong>无效</strong></td>
</tr>
</tbody></table>
<h4 id="（3）结论"><a href="#（3）结论" class="headerlink" title="（3）结论"></a>（3）结论</h4><ul>
<li>  <strong>compile</strong>：通常在项目实际运行时要用到的 jar 包都是以 compile 范围进行依赖的。并且 compile 可以认为是最大依赖范围，能适用于任何场景。</li>
<li>  <strong>test</strong>：只在测试过程中使用的 jar 包，最好以 test 范围进行依赖。默认情况下，在打包部署的时候会自动跳过这些 test 范围的依赖。比如 junit。</li>
<li>  <strong>provided</strong>：只在开发过程中使用的 jar 包通常以 provided 范围进行依赖。常见的有：在开发过程中用到的“服务器上的jar包”，比如 servlet-api、jsp-api 等等。而这个范围的 jar 包之所以不参与部署，不放入 war 包，就是避免和服务器上已有的同类 jar 包产生冲突，同时减轻服务器的负担。说白了就是“<strong>服务器上已经有了，你就别带了！</strong>”</li>
</ul>
<h3 id="2、测试"><a href="#2、测试" class="headerlink" title="2、测试"></a>2、测试</h3><h4 id="（1）验证-compile-范围对-main-目录有效"><a href="#（1）验证-compile-范围对-main-目录有效" class="headerlink" title="（1）验证 compile 范围对 main 目录有效"></a>（1）验证 compile 范围对 main 目录有效</h4><p>pro02-maven-web 项目中，main 目录下的类 HelloServlet 使用 compile 范围导入的依赖：pro01-maven-java</p>
<ul>
<li>  验证：使用 compile 范围导入的类对 main 目录下的类来说是有效的</li>
<li>  有效：HelloServlet 能够使用 pro01-maven-java 工程中的 Calculator 类</li>
<li>  验证方式：在 HelloServlet 类中导入 Calculator 类，如果编译成功就说明有效。</li>
</ul>
<h4 id="（2）验证-test-范围对-main-目录无效"><a href="#（2）验证-test-范围对-main-目录无效" class="headerlink" title="（2）验证 test 范围对 main 目录无效"></a>（2）验证 test 范围对 main 目录无效</h4><ul>
<li><p>  测试方式：在主体程序中导入 org.juit.Test 注解，然后执行编译。如果编译失败则证明 test 范围的 jar 包对 main 目录无效。</p>
</li>
<li><p>具体操作：</p>
<ul>
<li>  引入 org.juit.Test 注解</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.xsyu.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入 org.juit.Test 注解</span></span><br><span class="line"><span class="keyword">import</span> org.junit.Test; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        response.getWriter().write(<span class="string">&quot;hello maven web&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>  执行编译命令</li>
</ul>
  <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ERROR] /E:/workspace-maven/space202204/pro02-maven-web/src/main/java/cn/xsyu/maven/HelloServlet<span class="variable">.java</span>:[<span class="number">8</span>,<span class="number">17</span>] 程序包org<span class="variable">.junit</span>不存在</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="（3）验证-test-和-provided-范围不参与服务器部署"><a href="#（3）验证-test-和-provided-范围不参与服务器部署" class="headerlink" title="（3）验证 test 和 provided 范围不参与服务器部署"></a>（3）验证 test 和 provided 范围不参与服务器部署</h4><p>其实就是验证：通过 compile 范围依赖的 jar 包会放入 war 包，而通过 test 和 provided 范围依赖的 jar 包不会放入 war 包。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>  <span class="comment">&lt;!-- 没有放进 war 包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>  <span class="comment">&lt;!-- 放进了 war 包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span>  <span class="comment">&lt;!-- 没有放进 war 包--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220408222403247.png" alt="image-20220408222403247" style="zoom:67%;">

 

<h4 id="（4）验证-provided-范围对测试程序有效"><a href="#（4）验证-provided-范围对测试程序有效" class="headerlink" title="（4）验证 provided 范围对测试程序有效"></a>（4）验证 provided 范围对测试程序有效</h4><ul>
<li><p>测试方式：在 pro02-maven-web 的测试程序中加入 servlet-api.jar 包中的类。</p>
<ul>
<li><p>修改：<code>pro02-maven-web\src\test\java\com\atguigu\maven\CalculatorTest.java</code></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.xsyu.maven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入 servlet-api.jar 包中的类</span></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSum</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 1.创建Calculator对象</span></span><br><span class="line">        <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.调用Calculator对象的方法，获取到程序运行实际的结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">actualResult</span> <span class="operator">=</span> calculator.sum(<span class="number">5</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.声明一个变量，表示程序运行期待的结果</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">expectedResult</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.使用断言来判断实际结果和期待结果是否一致</span></span><br><span class="line">        <span class="comment">// 如果一致：测试通过，不会抛出异常</span></span><br><span class="line">        <span class="comment">// 如果不一致：通过底层源码抛出异常，测试失败</span></span><br><span class="line">        assertEquals(expectedResult, actualResult);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;测试成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>  重新编译</p>
</li>
<li><p>如果编译成功，则证明 provided 范围的依赖对测试程序有效</p>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="第七节-实验七：测试依赖的传递性"><a href="#第七节-实验七：测试依赖的传递性" class="headerlink" title="第七节 实验七：测试依赖的传递性"></a>第七节 实验七：测试依赖的传递性</h2><h3 id="1、依赖的传递性"><a href="#1、依赖的传递性" class="headerlink" title="1、依赖的传递性"></a>1、依赖的传递性</h3><h4 id="（1）概念"><a href="#（1）概念" class="headerlink" title="（1）概念"></a>（1）概念</h4><p>A 依赖 B，B 依赖 C，那么在 A 没有显式配置依赖 C 的情况下，A 里面能不能直接使用 C？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">已知：</span><br><span class="line">    A -&gt; B -&gt; C</span><br><span class="line">    A !-&gt; C</span><br><span class="line">问：</span><br><span class="line">	A use C ？</span><br></pre></td></tr></table></figure>



<h4 id="（2）传递的原则"><a href="#（2）传递的原则" class="headerlink" title="（2）传递的原则"></a>（2）传递的原则</h4><p>在 A 依赖 B，B 依赖 C 的前提下，C 是否能够传递到 A，取决于 B 依赖 C 时使用的依赖范围。</p>
<p><strong>结论：</strong></p>
<ul>
<li><p>  如果 B 依赖 C 时使用 compile 范围，可以传递。</p>
</li>
<li><p>如果 B 依赖 C 时使用 test 或 provided 范围：不能传递。</p>
<p>  所以在使用这样的 jar 包时，就必须在需要的地方显式声明依赖才可以。</p>
</li>
</ul>
<p><strong>分析：</strong></p>
<ul>
<li>  如果依赖范围是 compile，根据 B 依赖 C 可知，B.jar 会将 C.jar 保存在自己的 lib 目录中，所以 A 可以直接使用 C.jar。</li>
<li>  如果依赖范围是 test 或 provided，虽然 B 依赖 C，但是在打包的时候，C.jar 不会保存在 B.jar 的 lib 目录中，自然 A 就不可以使用 C.jar 了。</li>
</ul>
<h3 id="2、使用-compile-范围依赖-spring-core"><a href="#2、使用-compile-范围依赖-spring-core" class="headerlink" title="2、使用 compile 范围依赖 spring-core"></a>2、使用 compile 范围依赖 spring-core</h3><ul>
<li><p>测试方法：让 pro01-maven-java 工程依赖 spring-core</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用 <code>mvn dependency:tree</code> 命令查看效果：</p>
  <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO] |  \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br><span class="line">[INFO] \- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO]    \- commons-logging:commons-logging:jar:<span class="number">1</span><span class="variable">.1</span><span class="variable">.1</span>:compile</span><br></pre></td></tr></table></figure></li>
<li><p>将 pro01-maven-java 项目重新打包到本地仓库</p>
<p>  <code>mvn install</code></p>
</li>
<li><p>在 pro02-maven-web 使用 <code>mvn dependency:tree</code> 命令查看效果</p>
  <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro02-maven-web:war:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO] +- cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br><span class="line">[INFO] |  \- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO] |     \- commons-logging:commons-logging:jar:<span class="number">1</span><span class="variable">.1</span><span class="variable">.1</span>:compile</span><br><span class="line">[INFO] \- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO]    \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br></pre></td></tr></table></figure>

<p>  发现 pro01-maven-java 项目中使用的 junit 依赖并没有传递过来，此处的 junit jar 包是 pro02-maven-web 项目自己显式导入的依赖。 </p>
</li>
</ul>
<h3 id="3、验证-test-和-provided-范围不能传递"><a href="#3、验证-test-和-provided-范围不能传递" class="headerlink" title="3、验证 test 和 provided 范围不能传递"></a>3、验证 test 和 provided 范围不能传递</h3><p>从上面的例子已经能够看出，pro01-maven-java 依赖了 junit，但是在 pro02-maven-web 工程中查看依赖树的时候并没有看到 junit，这就证明了 test 范围不能传递。</p>
<p>要验证 provided 范围不能传递，可以在 pro01-maven-java 工程中加入 servlet-api 的依赖。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后将 pro01-maven-java 工程的 jar 包重新上传到本地仓库，查看 pro02-maven-web 工程的依赖树结构。</p>
<ul>
<li><p>pro01-maven-java 工程的依赖树。</p>
  <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO] |  \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br><span class="line">[INFO] +- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO] |  \- commons-logging:commons-logging:jar:<span class="number">1</span><span class="variable">.1</span><span class="variable">.1</span>:compile</span><br><span class="line">[INFO] \- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br></pre></td></tr></table></figure>

<p>  可以看到已经导入了 javax.servlet-api 依赖，且依赖范围为 provided。</p>
</li>
<li><p>pro02-maven-web 工程的依赖树</p>
  <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro02-maven-web:war:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO] +- cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br><span class="line">[INFO] |  \- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO] |     \- commons-logging:commons-logging:jar:<span class="number">1</span><span class="variable">.1</span><span class="variable">.1</span>:compile</span><br><span class="line">[INFO] \- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO]    \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br></pre></td></tr></table></figure>

<p>  可以看到虽然也存在 javax.servlet-api 依赖，但这个依赖是 pro02-maven-web 工程显式依赖的，并非从 pro01-maven-java 工程中传递依赖进来的。</p>
</li>
</ul>
<h2 id="第八节-实验八：测试依赖的排除"><a href="#第八节-实验八：测试依赖的排除" class="headerlink" title="第八节 实验八：测试依赖的排除"></a>第八节 实验八：测试依赖的排除</h2><h3 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h3><p>当 A 依赖 B，B 依赖 C，而且 C 可以传递到 A 的时候，A 如果不想要 C，需要在 A 里面把 C 排除掉。</p>
<p>这种情况一般是为了解决 jar 包之间的冲突问题。</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409182216350.png" alt="image-20220409182216350"></p>
<p><strong>所谓的“配置依赖排除”就是阻止某些 jar 包的传递</strong>。因为有些 jar 包传递过来可能会和其它 jar 包产生冲突。</p>
<h3 id="2、配置方式"><a href="#2、配置方式" class="headerlink" title="2、配置方式"></a>2、配置方式</h3><ol>
<li><p>首先记录一下 pro02-maven-web 工程的依赖结构。</p>
 <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro02-maven-web:war:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO] +- cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br><span class="line">[INFO] |  \- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO] |     \- commons-logging:commons-logging:jar:<span class="number">1</span><span class="variable">.1</span><span class="variable">.1</span>:compile</span><br><span class="line">[INFO] \- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO]    \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br></pre></td></tr></table></figure>

<p> 可以看到 pro02-maven-web -&gt; pro01-maven-java -&gt; spring-core -&gt; commons-logging 这样的多级依赖关系。如果想要在 pro02-maven-web 工程中配置对 commons-logging 依赖的排除，可以参考如下设置。</p>
</li>
<li><p>配置方式</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro01-maven-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 exclusions 标签配置依赖的排除 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 在 exclusion 标签中配置一个具体的排除 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 指定要排除的依赖的坐标（不需要写 version）--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>重新查看 pro02-maven-web 工程的依赖结构。可以发现 commons-logging 依赖已经被排除掉了。</p>
 <figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[INFO] cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro02-maven-web:war:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT</span><br><span class="line">[INFO] +- javax<span class="variable">.servlet</span>:javax<span class="variable">.servlet</span>-api:jar:<span class="number">3</span><span class="variable">.1</span><span class="variable">.0</span>:provided</span><br><span class="line">[INFO] +- cn<span class="variable">.xsyu</span><span class="variable">.maven</span>:pro01-maven-java:jar:<span class="number">1</span><span class="variable">.0</span>-SNAPSHOT:compile</span><br><span class="line">[INFO] |  \- org<span class="variable">.springframework</span>:spring-core:jar:<span class="number">4</span><span class="variable">.0</span><span class="variable">.0</span><span class="variable">.RELEASE</span>:compile</span><br><span class="line">[INFO] \- junit:junit:jar:<span class="number">4</span><span class="variable">.12</span>:test</span><br><span class="line">[INFO]    \- org<span class="variable">.hamcrest</span>:hamcrest-core:jar:<span class="number">1</span><span class="variable">.3</span>:test</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="第九节-实验九：继承"><a href="#第九节-实验九：继承" class="headerlink" title="第九节 实验九：继承"></a>第九节 实验九：继承</h2><h3 id="1、概念-1"><a href="#1、概念-1" class="headerlink" title="1、概念"></a>1、概念</h3><p>Maven 工程之间，A 工程继承 B 工程。</p>
<ul>
<li>  B 工程：父工程</li>
<li>  A 工程：子工程</li>
</ul>
<p><strong>本质上是 A 工程的 pom.xml 中的配置继承了 B 工程中 pom.xml 的配置。</strong></p>
<h3 id="2、作用"><a href="#2、作用" class="headerlink" title="2、作用"></a>2、作用</h3><p>在父工程中统一管理项目中的依赖信息，具体来说是管理依赖信息的版本。</p>
<p>它的背景是：</p>
<ul>
<li><p>  在大型软件项目开发时，往往会对项目按照模块进行拆分，每个团队负责不同的模块。</p>
</li>
<li><p>  也就是说，在一个 project 下面，会创建很多个 module。</p>
</li>
<li><p>  如果没有继承，每一个 module 就需要独立配置自己的依赖信息。也就是说，一个 project 下面会有很多套 pom。</p>
</li>
</ul>
<p>它背后的需求是：</p>
<ul>
<li>  如果每一个 module 都独自维护自己的依赖信息，那么不同 module 中对于同一依赖的版本选择很容易发生出入，不易统一管理。这在开发环境下并没有什么太大的问题，但是一旦项目需要打包上线，一个 project 的所有 module 使用了多套不同的 pom 依赖，这就要求线上服务器中必须同时具备所有 module 需要的依赖。</li>
<li>  比如，module01 中使用的是 <code>spring-core:jar:4.0.0.RELEASE</code> 依赖，而 module02 中使用的则是 <code>spring-core:jar:5.0.0.RELEASE</code> 依赖，那么这就要求线上服务器中同时存在这两个版本的 jar 包。这会严重占用线上服务器的内存空间。</li>
<li>  当然，这并不是最严重的。最严重的是多个版本的 jar 包之间很可能会出现依赖冲突，这将直接导致程序无法运行。所以进行依赖的统一管理是非常有必要的。</li>
<li>  使用同一个框架内的不同 jar 包，它们应该是同一个版本，所以整个项目中使用的框架版本需要统一。</li>
<li>  使用框架时所需要的 jar 包组合（或者说依赖信息组合）需要经过长期摸索和反复调试，最终确定一个可用的组合。这个耗费很大精力总结出来的方案不应该在新的项目中重新摸索。</li>
</ul>
<p>通过在父工程中为整个项目维护依赖信息的组合既保证了整个项目使用规范、准确的 jar 包；又能够将以往的经验沉淀下来，节约时间和精力。</p>
<h3 id="3、操作"><a href="#3、操作" class="headerlink" title="3、操作"></a>3、操作</h3><h4 id="（1）创建父工程"><a href="#（1）创建父工程" class="headerlink" title="（1）创建父工程"></a>（1）创建父工程</h4><p>创建的过程和前面创建 pro01-maven-java 一样。</p>
<p>工程名称：pro03-maven-parent</p>
<p>工程创建好之后，要修改它的打包方式：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro03-maven-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 当前工程作为父工程，它要去管理子工程，所以打包方式必须是 pom --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>只有打包方式为 pom 的 Maven 工程才能管理其它的 Maven 工程。<u>打包方式为 pom 的 Maven 工程中不写业务代码，它是专门管理其它 Maven 工程的工程。</u></p>
<h4 id="（2）创建模块工程"><a href="#（2）创建模块工程" class="headerlink" title="（2）创建模块工程"></a>（2）创建模块工程</h4><p>模块工程类似于 IDEA 中的 module，所以需要进入 pro03-maven-parent 工程的根目录，然后运行 <code>mvn archetype:generate</code> 来创建模块工程。</p>
<p>我们先创建三个模块工程，工程名分别为：</p>
<ul>
<li>  pro04-maven-module</li>
<li>  pro05-maven-module</li>
<li>  pro06-maven-module</li>
</ul>
<img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409191815270.png" alt="image-20220409191815270" style="zoom:67%;">



<h4 id="（3）重新查看父工程的-pom-xml"><a href="#（3）重新查看父工程的-pom-xml" class="headerlink" title="（3）重新查看父工程的 pom.xml"></a>（3）重新查看父工程的 pom.xml</h4><p>下面的 modules 和 module 标签是聚合功能的配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro04-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro05-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">module</span>&gt;</span>pro06-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="（4）解读子工程的-pom-xml"><a href="#（4）解读子工程的-pom-xml" class="headerlink" title="（4）解读子工程的 pom.xml"></a>（4）解读子工程的 pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用parent标签指定当前工程的父工程 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.xsyu.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro03-maven-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 子工程的坐标 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 如果子工程坐标中的 groupId 和 version 与父工程一致，那就可以省略 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;groupId&gt;cn.xsyu.maven&lt;/groupId&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pro04-maven-module<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; --&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="（5）在父工程中配置依赖的统一管理"><a href="#（5）在父工程中配置依赖的统一管理" class="headerlink" title="（5）在父工程中配置依赖的统一管理"></a>（5）在父工程中配置依赖的统一管理</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用dependencyManagement标签配置对依赖的管理 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 被管理的依赖并没有真正被引入到工程 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-expression<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="（6）子工程中引用那些被父工程管理的依赖"><a href="#（6）子工程中引用那些被父工程管理的依赖" class="headerlink" title="（6）子工程中引用那些被父工程管理的依赖"></a>（6）子工程中引用那些被父工程管理的依赖</h4><p>关键点：省略版本号</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子工程引用父工程中的依赖信息时，可以把版本号去掉。	--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 把版本号去掉就表示子工程中这个依赖的版本由父工程决定。 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 具体来说是由父工程的dependencyManagement来决定。 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-expression<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="7-在父工程中声明自定义属性"><a href="#7-在父工程中声明自定义属性" class="headerlink" title="(7)在父工程中声明自定义属性"></a>(7)在父工程中声明自定义属性</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 通过自定义属性，统一指定 Spring 的版本--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 自定义标签，维护Spring的版本信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">my.spring.version</span>&gt;</span>4.3.6.RELEASE<span class="tag">&lt;/<span class="name">my.spring.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在需要使用的地方使用 <code>$&#123;自定义属性名&#125;</code> 的形式来引用自定义的属性。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;my.spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>真正实现“一处修改，处处生效！”</p>
<h3 id="4、实际意义"><a href="#4、实际意义" class="headerlink" title="4、实际意义"></a>4、实际意义</h3><p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409193722168.png" alt="image-20220409193722168"></p>
<p>编写一套符合要求、开发各种功能都能正常工作的依赖并不容易。如果公司里已经有人总结了成熟的组合方案，那么再开发新项目时，如果不使用原有的积累，而是重新摸索，会浪费大量的时间。为了提高效率，我们可以使用 Maven 工程的继承机制，让成熟的依赖组合方案能够保留下来。</p>
<p>如上图所示，公司级的父工程中管理的就是成熟的依赖组合方案，各个新项目、子系统各取所需即可。</p>
<hr>
<h2 id="第十节-实验十：聚合"><a href="#第十节-实验十：聚合" class="headerlink" title="第十节 实验十：聚合"></a>第十节 实验十：聚合</h2><h3 id="1、聚合本身的含义"><a href="#1、聚合本身的含义" class="headerlink" title="1、聚合本身的含义"></a>1、聚合本身的含义</h3><p>部分组成整体。</p>
<p><img src="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/image-20220409211556788.png" alt="image-20220409211556788"></p>
<p>动画片《战神金刚》中的经典台词：“我来组成头部！我来组成手臂！”就是聚合关系最生动的体现。</p>
<h3 id="2、Maven中的聚合"><a href="#2、Maven中的聚合" class="headerlink" title="2、Maven中的聚合"></a>2、Maven中的聚合</h3><p>使用一个“总工程”将各个“模块工程”汇集起来，作为一个整体对应完整的项目。</p>
<ul>
<li>  project：整体</li>
<li>  module：部分</li>
</ul>
<blockquote>
<p>  概念对应的关系:</p>
<ul>
<li>从继承关系的角度来看：<ul>
<li>  父工程</li>
<li>  子工程</li>
</ul>
</li>
<li>从聚合关系的角度来看：<ul>
<li>  总工程</li>
<li>  模块工程</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="3、好处"><a href="#3、好处" class="headerlink" title="3、好处"></a>3、好处</h3><ul>
<li><p>一键执行 Maven 命令：很多构建命令都可以在“总工程”中一键执行。</p>
<p>  以 mvn install 命令为例：Maven 要求有父工程时先安装父工程；有依赖的工程时，先安装被依赖的工程。如果所有这些规则都由我们自己配置的话非常麻烦。但是工程聚合后，在总工程执行 mvn install 可以一键完成安装，而且会自动按照正确的顺序执行。</p>
</li>
<li><p>  配置聚合之后，各个模块工程会在总工程中展示一个列表，让项目中的各个模块一目了然。</p>
</li>
</ul>
<h3 id="4、聚合的配置"><a href="#4、聚合的配置" class="headerlink" title="4、聚合的配置"></a>4、聚合的配置</h3><p>在总工程中配置 modules 即可。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">modules</span>&gt;</span>  </span><br><span class="line">	<span class="tag">&lt;<span class="name">module</span>&gt;</span>pro04-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">module</span>&gt;</span>pro05-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">module</span>&gt;</span>pro06-maven-module<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="5、循环依赖问题"><a href="#5、循环依赖问题" class="headerlink" title="5、循环依赖问题"></a>5、循环依赖问题</h3><p>如果 A 工程依赖 B 工程，B 工程依赖 C 工程，C 工程又反过来依赖 A 工程，那么在执行构建操作时会报如下错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ERROR] [ERROR] The projects in the reactor contain a cyclic reference:</span><br></pre></td></tr></table></figure>

<p>这个错误的含义是：循环引用。</p>
<hr>
<h1 id="第四章-使用Maven：IDEA环境"><a href="#第四章-使用Maven：IDEA环境" class="headerlink" title="第四章 使用Maven：IDEA环境"></a>第四章 使用Maven：IDEA环境</h1><hr>
<h1 id="第五章-其它核心概念"><a href="#第五章-其它核心概念" class="headerlink" title="第五章 其它核心概念"></a>第五章 其它核心概念</h1><h2 id="1、生命周期"><a href="#1、生命周期" class="headerlink" title="1、生命周期"></a>1、生命周期</h2><h2 id="2、插件和目标"><a href="#2、插件和目标" class="headerlink" title="2、插件和目标"></a>2、插件和目标</h2><h3 id="（1）插件"><a href="#（1）插件" class="headerlink" title="（1）插件"></a>（1）插件</h3><p>Maven 的核心程序仅仅负责宏观调度，不做具体工作。具体工作都是由 Maven 插件完成的。</p>
<p>例如，编译工作就是由 <code>maven-compiler-plugin-3.1.jar</code> 插件来执行的。</p>
<h3 id="（2）目标"><a href="#（2）目标" class="headerlink" title="（2）目标"></a>（2）目标</h3><p>一个插件可以有多个目标，而每个目标都和声明周期中的某一个环节对应。</p>
<p>Default 生命周期中有 compile 和 test-compile 两个和编译相关的环节，这两个环节对应 compile 和 test-compile 两个目标，而这两个目标都是由 <code>maven-compiler-plugin-3.1.jar</code> 插件来执行的。</p>
<h2 id="3、仓库"><a href="#3、仓库" class="headerlink" title="3、仓库"></a>3、仓库</h2><ul>
<li>  本地仓库：在当前电脑上，为电脑上所有 Maven 工程服务</li>
<li>远程仓库：需要联网<ul>
<li>  局域网：我们自己搭建的 Maven 私服，例如使用 Nexus 技术。</li>
<li>Internet<ul>
<li>  中央仓库</li>
<li>  镜像仓库：内容和中央仓库保持一致，但是能够分担中央仓库的负载，同时让用户能够就近访问提高下载速度，例如：Nexus aliyun</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>建议：不要中央仓库和阿里云镜像仓库混用，否则 jar 包来源不纯，可能会彼此冲突。</p>
<p>专门搜索 Maven 依赖信息的网站：<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a></p>
<hr>
<h1 id="第六章-单一架构案例"><a href="#第六章-单一架构案例" class="headerlink" title="第六章 单一架构案例"></a>第六章 单一架构案例</h1>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%9B%AE%E5%BD%95/" rel="prev" title="Maven学习-目录">
                  <i class="fa fa-chevron-left"></i> Maven学习-目录
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/04/08/Maven%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/" rel="next" title="Maven学习-第二阶段">
                  Maven学习-第二阶段 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
